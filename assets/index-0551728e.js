var B1=Object.defineProperty;var z1=(t,e,n)=>e in t?B1(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Ht=(t,e,n)=>(z1(t,typeof e!="symbol"?e+"":e,n),n),j1=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)};var jh=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)};var ru=(t,e,n)=>(j1(t,e,"access private method"),n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function xf(t,e){const n=Object.create(null),r=t.split(",");for(let i=0;i<r.length;i++)n[r[i]]=!0;return e?i=>!!n[i.toLowerCase()]:i=>!!n[i]}const Kt={},wo=[],Tr=()=>{},q1=()=>!1,H1=/^on[^a-z]/,Ec=t=>H1.test(t),Cf=t=>t.startsWith("onUpdate:"),Pn=Object.assign,Sf=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},W1=Object.prototype.hasOwnProperty,yt=(t,e)=>W1.call(t,e),Ue=Array.isArray,vo=t=>cl(t)==="[object Map]",Ho=t=>cl(t)==="[object Set]",Ym=t=>cl(t)==="[object Date]",at=t=>typeof t=="function",_n=t=>typeof t=="string",La=t=>typeof t=="symbol",Qt=t=>t!==null&&typeof t=="object",dw=t=>Qt(t)&&at(t.then)&&at(t.catch),fw=Object.prototype.toString,cl=t=>fw.call(t),K1=t=>cl(t).slice(8,-1),pw=t=>cl(t)==="[object Object]",Rf=t=>_n(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,xu=xf(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Tc=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},G1=/-(\w)/g,So=Tc(t=>t.replace(G1,(e,n)=>n?n.toUpperCase():"")),Q1=/\B([A-Z])/g,Wo=Tc(t=>t.replace(Q1,"-$1").toLowerCase()),mw=Tc(t=>t.charAt(0).toUpperCase()+t.slice(1)),qh=Tc(t=>t?`on${mw(t)}`:""),Va=(t,e)=>!Object.is(t,e),Cu=(t,e)=>{for(let n=0;n<t.length;n++)t[n](e)},ju=(t,e,n)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value:n})},qu=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let Xm;const Pd=()=>Xm||(Xm=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Ss(t){if(Ue(t)){const e={};for(let n=0;n<t.length;n++){const r=t[n],i=_n(r)?J1(r):Ss(r);if(i)for(const s in i)e[s]=i[s]}return e}else{if(_n(t))return t;if(Qt(t))return t}}const Y1=/;(?![^(]*\))/g,X1=/:([^]+)/,Z1=/\/\*[^]*?\*\//g;function J1(t){const e={};return t.replace(Z1,"").split(Y1).forEach(n=>{if(n){const r=n.split(X1);r.length>1&&(e[r[0].trim()]=r[1].trim())}}),e}function Pf(t){let e="";if(_n(t))e=t;else if(Ue(t))for(let n=0;n<t.length;n++){const r=Pf(t[n]);r&&(e+=r+" ")}else if(Qt(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}const ek="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",tk=xf(ek);function gw(t){return!!t||t===""}function nk(t,e){if(t.length!==e.length)return!1;let n=!0;for(let r=0;n&&r<t.length;r++)n=hl(t[r],e[r]);return n}function hl(t,e){if(t===e)return!0;let n=Ym(t),r=Ym(e);if(n||r)return n&&r?t.getTime()===e.getTime():!1;if(n=La(t),r=La(e),n||r)return t===e;if(n=Ue(t),r=Ue(e),n||r)return n&&r?nk(t,e):!1;if(n=Qt(t),r=Qt(e),n||r){if(!n||!r)return!1;const i=Object.keys(t).length,s=Object.keys(e).length;if(i!==s)return!1;for(const o in t){const a=t.hasOwnProperty(o),l=e.hasOwnProperty(o);if(a&&!l||!a&&l||!hl(t[o],e[o]))return!1}}return String(t)===String(e)}function Df(t,e){return t.findIndex(n=>hl(n,e))}const Tt=t=>_n(t)?t:t==null?"":Ue(t)||Qt(t)&&(t.toString===fw||!at(t.toString))?JSON.stringify(t,_w,2):String(t),_w=(t,e)=>e&&e.__v_isRef?_w(t,e.value):vo(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[r,i])=>(n[`${r} =>`]=i,n),{})}:Ho(e)?{[`Set(${e.size})`]:[...e.values()]}:Qt(e)&&!Ue(e)&&!pw(e)?String(e):e;let vr;class rk{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this.parent=vr,!e&&vr&&(this.index=(vr.scopes||(vr.scopes=[])).push(this)-1)}get active(){return this._active}run(e){if(this._active){const n=vr;try{return vr=this,e()}finally{vr=n}}}on(){vr=this}off(){vr=this.parent}stop(e){if(this._active){let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.scopes)for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!e){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0,this._active=!1}}}function ik(t,e=vr){e&&e.active&&e.effects.push(t)}function sk(){return vr}const Of=t=>{const e=new Set(t);return e.w=0,e.n=0,e},ww=t=>(t.w&Wi)>0,vw=t=>(t.n&Wi)>0,ok=({deps:t})=>{if(t.length)for(let e=0;e<t.length;e++)t[e].w|=Wi},ak=t=>{const{deps:e}=t;if(e.length){let n=0;for(let r=0;r<e.length;r++){const i=e[r];ww(i)&&!vw(i)?i.delete(t):e[n++]=i,i.w&=~Wi,i.n&=~Wi}e.length=n}},Dd=new WeakMap;let _a=0,Wi=1;const Od=30;let br;const Ts=Symbol(""),Nd=Symbol("");class Nf{constructor(e,n=null,r){this.fn=e,this.scheduler=n,this.active=!0,this.deps=[],this.parent=void 0,ik(this,r)}run(){if(!this.active)return this.fn();let e=br,n=$i;for(;e;){if(e===this)return;e=e.parent}try{return this.parent=br,br=this,$i=!0,Wi=1<<++_a,_a<=Od?ok(this):Zm(this),this.fn()}finally{_a<=Od&&ak(this),Wi=1<<--_a,br=this.parent,$i=n,this.parent=void 0,this.deferStop&&this.stop()}}stop(){br===this?this.deferStop=!0:this.active&&(Zm(this),this.onStop&&this.onStop(),this.active=!1)}}function Zm(t){const{deps:e}=t;if(e.length){for(let n=0;n<e.length;n++)e[n].delete(t);e.length=0}}let $i=!0;const yw=[];function Ko(){yw.push($i),$i=!1}function Go(){const t=yw.pop();$i=t===void 0?!0:t}function ir(t,e,n){if($i&&br){let r=Dd.get(t);r||Dd.set(t,r=new Map);let i=r.get(n);i||r.set(n,i=Of()),bw(i)}}function bw(t,e){let n=!1;_a<=Od?vw(t)||(t.n|=Wi,n=!ww(t)):n=!t.has(br),n&&(t.add(br),br.deps.push(t))}function mi(t,e,n,r,i,s){const o=Dd.get(t);if(!o)return;let a=[];if(e==="clear")a=[...o.values()];else if(n==="length"&&Ue(t)){const l=Number(r);o.forEach((u,d)=>{(d==="length"||d>=l)&&a.push(u)})}else switch(n!==void 0&&a.push(o.get(n)),e){case"add":Ue(t)?Rf(n)&&a.push(o.get("length")):(a.push(o.get(Ts)),vo(t)&&a.push(o.get(Nd)));break;case"delete":Ue(t)||(a.push(o.get(Ts)),vo(t)&&a.push(o.get(Nd)));break;case"set":vo(t)&&a.push(o.get(Ts));break}if(a.length===1)a[0]&&Md(a[0]);else{const l=[];for(const u of a)u&&l.push(...u);Md(Of(l))}}function Md(t,e){const n=Ue(t)?t:[...t];for(const r of n)r.computed&&Jm(r);for(const r of n)r.computed||Jm(r)}function Jm(t,e){(t!==br||t.allowRecurse)&&(t.scheduler?t.scheduler():t.run())}const lk=xf("__proto__,__v_isRef,__isVue"),kw=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(La)),uk=Mf(),ck=Mf(!1,!0),hk=Mf(!0),eg=dk();function dk(){const t={};return["includes","indexOf","lastIndexOf"].forEach(e=>{t[e]=function(...n){const r=It(this);for(let s=0,o=this.length;s<o;s++)ir(r,"get",s+"");const i=r[e](...n);return i===-1||i===!1?r[e](...n.map(It)):i}}),["push","pop","shift","unshift","splice"].forEach(e=>{t[e]=function(...n){Ko();const r=It(this)[e].apply(this,n);return Go(),r}}),t}function fk(t){const e=It(this);return ir(e,"has",t),e.hasOwnProperty(t)}function Mf(t=!1,e=!1){return function(r,i,s){if(i==="__v_isReactive")return!t;if(i==="__v_isReadonly")return t;if(i==="__v_isShallow")return e;if(i==="__v_raw"&&s===(t?e?Sk:xw:e?Aw:Iw).get(r))return r;const o=Ue(r);if(!t){if(o&&yt(eg,i))return Reflect.get(eg,i,s);if(i==="hasOwnProperty")return fk}const a=Reflect.get(r,i,s);return(La(i)?kw.has(i):lk(i))||(t||ir(r,"get",i),e)?a:Fn(a)?o&&Rf(i)?a:a.value:Qt(a)?t?Cw(a):Uf(a):a}}const pk=Ew(),mk=Ew(!0);function Ew(t=!1){return function(n,r,i,s){let o=n[r];if(Ro(o)&&Fn(o)&&!Fn(i))return!1;if(!t&&(!Hu(i)&&!Ro(i)&&(o=It(o),i=It(i)),!Ue(n)&&Fn(o)&&!Fn(i)))return o.value=i,!0;const a=Ue(n)&&Rf(r)?Number(r)<n.length:yt(n,r),l=Reflect.set(n,r,i,s);return n===It(s)&&(a?Va(i,o)&&mi(n,"set",r,i):mi(n,"add",r,i)),l}}function gk(t,e){const n=yt(t,e);t[e];const r=Reflect.deleteProperty(t,e);return r&&n&&mi(t,"delete",e,void 0),r}function _k(t,e){const n=Reflect.has(t,e);return(!La(e)||!kw.has(e))&&ir(t,"has",e),n}function wk(t){return ir(t,"iterate",Ue(t)?"length":Ts),Reflect.ownKeys(t)}const Tw={get:uk,set:pk,deleteProperty:gk,has:_k,ownKeys:wk},vk={get:hk,set(t,e){return!0},deleteProperty(t,e){return!0}},yk=Pn({},Tw,{get:ck,set:mk}),Lf=t=>t,Ic=t=>Reflect.getPrototypeOf(t);function iu(t,e,n=!1,r=!1){t=t.__v_raw;const i=It(t),s=It(e);n||(e!==s&&ir(i,"get",e),ir(i,"get",s));const{has:o}=Ic(i),a=r?Lf:n?$f:Ua;if(o.call(i,e))return a(t.get(e));if(o.call(i,s))return a(t.get(s));t!==i&&t.get(e)}function su(t,e=!1){const n=this.__v_raw,r=It(n),i=It(t);return e||(t!==i&&ir(r,"has",t),ir(r,"has",i)),t===i?n.has(t):n.has(t)||n.has(i)}function ou(t,e=!1){return t=t.__v_raw,!e&&ir(It(t),"iterate",Ts),Reflect.get(t,"size",t)}function tg(t){t=It(t);const e=It(this);return Ic(e).has.call(e,t)||(e.add(t),mi(e,"add",t,t)),this}function ng(t,e){e=It(e);const n=It(this),{has:r,get:i}=Ic(n);let s=r.call(n,t);s||(t=It(t),s=r.call(n,t));const o=i.call(n,t);return n.set(t,e),s?Va(e,o)&&mi(n,"set",t,e):mi(n,"add",t,e),this}function rg(t){const e=It(this),{has:n,get:r}=Ic(e);let i=n.call(e,t);i||(t=It(t),i=n.call(e,t)),r&&r.call(e,t);const s=e.delete(t);return i&&mi(e,"delete",t,void 0),s}function ig(){const t=It(this),e=t.size!==0,n=t.clear();return e&&mi(t,"clear",void 0,void 0),n}function au(t,e){return function(r,i){const s=this,o=s.__v_raw,a=It(o),l=e?Lf:t?$f:Ua;return!t&&ir(a,"iterate",Ts),o.forEach((u,d)=>r.call(i,l(u),l(d),s))}}function lu(t,e,n){return function(...r){const i=this.__v_raw,s=It(i),o=vo(s),a=t==="entries"||t===Symbol.iterator&&o,l=t==="keys"&&o,u=i[t](...r),d=n?Lf:e?$f:Ua;return!e&&ir(s,"iterate",l?Nd:Ts),{next(){const{value:f,done:p}=u.next();return p?{value:f,done:p}:{value:a?[d(f[0]),d(f[1])]:d(f),done:p}},[Symbol.iterator](){return this}}}}function Ri(t){return function(...e){return t==="delete"?!1:this}}function bk(){const t={get(s){return iu(this,s)},get size(){return ou(this)},has:su,add:tg,set:ng,delete:rg,clear:ig,forEach:au(!1,!1)},e={get(s){return iu(this,s,!1,!0)},get size(){return ou(this)},has:su,add:tg,set:ng,delete:rg,clear:ig,forEach:au(!1,!0)},n={get(s){return iu(this,s,!0)},get size(){return ou(this,!0)},has(s){return su.call(this,s,!0)},add:Ri("add"),set:Ri("set"),delete:Ri("delete"),clear:Ri("clear"),forEach:au(!0,!1)},r={get(s){return iu(this,s,!0,!0)},get size(){return ou(this,!0)},has(s){return su.call(this,s,!0)},add:Ri("add"),set:Ri("set"),delete:Ri("delete"),clear:Ri("clear"),forEach:au(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(s=>{t[s]=lu(s,!1,!1),n[s]=lu(s,!0,!1),e[s]=lu(s,!1,!0),r[s]=lu(s,!0,!0)}),[t,n,e,r]}const[kk,Ek,Tk,Ik]=bk();function Vf(t,e){const n=e?t?Ik:Tk:t?Ek:kk;return(r,i,s)=>i==="__v_isReactive"?!t:i==="__v_isReadonly"?t:i==="__v_raw"?r:Reflect.get(yt(n,i)&&i in r?n:r,i,s)}const Ak={get:Vf(!1,!1)},xk={get:Vf(!1,!0)},Ck={get:Vf(!0,!1)},Iw=new WeakMap,Aw=new WeakMap,xw=new WeakMap,Sk=new WeakMap;function Rk(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Pk(t){return t.__v_skip||!Object.isExtensible(t)?0:Rk(K1(t))}function Uf(t){return Ro(t)?t:Ff(t,!1,Tw,Ak,Iw)}function Dk(t){return Ff(t,!1,yk,xk,Aw)}function Cw(t){return Ff(t,!0,vk,Ck,xw)}function Ff(t,e,n,r,i){if(!Qt(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const s=i.get(t);if(s)return s;const o=Pk(t);if(o===0)return t;const a=new Proxy(t,o===2?r:n);return i.set(t,a),a}function yo(t){return Ro(t)?yo(t.__v_raw):!!(t&&t.__v_isReactive)}function Ro(t){return!!(t&&t.__v_isReadonly)}function Hu(t){return!!(t&&t.__v_isShallow)}function Sw(t){return yo(t)||Ro(t)}function It(t){const e=t&&t.__v_raw;return e?It(e):t}function Rw(t){return ju(t,"__v_skip",!0),t}const Ua=t=>Qt(t)?Uf(t):t,$f=t=>Qt(t)?Cw(t):t;function Pw(t){$i&&br&&(t=It(t),bw(t.dep||(t.dep=Of())))}function Dw(t,e){t=It(t);const n=t.dep;n&&Md(n)}function Fn(t){return!!(t&&t.__v_isRef===!0)}function we(t){return Ok(t,!1)}function Ok(t,e){return Fn(t)?t:new Nk(t,e)}class Nk{constructor(e,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?e:It(e),this._value=n?e:Ua(e)}get value(){return Pw(this),this._value}set value(e){const n=this.__v_isShallow||Hu(e)||Ro(e);e=n?e:It(e),Va(e,this._rawValue)&&(this._rawValue=e,this._value=n?e:Ua(e),Dw(this))}}function Ur(t){return Fn(t)?t.value:t}const Mk={get:(t,e,n)=>Ur(Reflect.get(t,e,n)),set:(t,e,n,r)=>{const i=t[e];return Fn(i)&&!Fn(n)?(i.value=n,!0):Reflect.set(t,e,n,r)}};function Ow(t){return yo(t)?t:new Proxy(t,Mk)}class Lk{constructor(e,n,r,i){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this._dirty=!0,this.effect=new Nf(e,()=>{this._dirty||(this._dirty=!0,Dw(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!i,this.__v_isReadonly=r}get value(){const e=It(this);return Pw(e),(e._dirty||!e._cacheable)&&(e._dirty=!1,e._value=e.effect.run()),e._value}set value(e){this._setter(e)}}function Vk(t,e,n=!1){let r,i;const s=at(t);return s?(r=t,i=Tr):(r=t.get,i=t.set),new Lk(r,i,s||!i,n)}function Bi(t,e,n,r){let i;try{i=r?t(...r):t()}catch(s){Ac(s,e,n)}return i}function Ir(t,e,n,r){if(at(t)){const s=Bi(t,e,n,r);return s&&dw(s)&&s.catch(o=>{Ac(o,e,n)}),s}const i=[];for(let s=0;s<t.length;s++)i.push(Ir(t[s],e,n,r));return i}function Ac(t,e,n,r=!0){const i=e?e.vnode:null;if(e){let s=e.parent;const o=e.proxy,a=n;for(;s;){const u=s.ec;if(u){for(let d=0;d<u.length;d++)if(u[d](t,o,a)===!1)return}s=s.parent}const l=e.appContext.config.errorHandler;if(l){Bi(l,null,10,[t,o,a]);return}}Uk(t,n,i,r)}function Uk(t,e,n,r=!0){console.error(t)}let Fa=!1,Ld=!1;const Ln=[];let $r=0;const bo=[];let ci=null,gs=0;const Nw=Promise.resolve();let Bf=null;function Rs(t){const e=Bf||Nw;return t?e.then(this?t.bind(this):t):e}function Fk(t){let e=$r+1,n=Ln.length;for(;e<n;){const r=e+n>>>1;$a(Ln[r])<t?e=r+1:n=r}return e}function zf(t){(!Ln.length||!Ln.includes(t,Fa&&t.allowRecurse?$r+1:$r))&&(t.id==null?Ln.push(t):Ln.splice(Fk(t.id),0,t),Mw())}function Mw(){!Fa&&!Ld&&(Ld=!0,Bf=Nw.then(Vw))}function $k(t){const e=Ln.indexOf(t);e>$r&&Ln.splice(e,1)}function Bk(t){Ue(t)?bo.push(...t):(!ci||!ci.includes(t,t.allowRecurse?gs+1:gs))&&bo.push(t),Mw()}function sg(t,e=Fa?$r+1:0){for(;e<Ln.length;e++){const n=Ln[e];n&&n.pre&&(Ln.splice(e,1),e--,n())}}function Lw(t){if(bo.length){const e=[...new Set(bo)];if(bo.length=0,ci){ci.push(...e);return}for(ci=e,ci.sort((n,r)=>$a(n)-$a(r)),gs=0;gs<ci.length;gs++)ci[gs]();ci=null,gs=0}}const $a=t=>t.id==null?1/0:t.id,zk=(t,e)=>{const n=$a(t)-$a(e);if(n===0){if(t.pre&&!e.pre)return-1;if(e.pre&&!t.pre)return 1}return n};function Vw(t){Ld=!1,Fa=!0,Ln.sort(zk);const e=Tr;try{for($r=0;$r<Ln.length;$r++){const n=Ln[$r];n&&n.active!==!1&&Bi(n,null,14)}}finally{$r=0,Ln.length=0,Lw(),Fa=!1,Bf=null,(Ln.length||bo.length)&&Vw()}}function jk(t,e,...n){if(t.isUnmounted)return;const r=t.vnode.props||Kt;let i=n;const s=e.startsWith("update:"),o=s&&e.slice(7);if(o&&o in r){const d=`${o==="modelValue"?"model":o}Modifiers`,{number:f,trim:p}=r[d]||Kt;p&&(i=n.map(m=>_n(m)?m.trim():m)),f&&(i=n.map(qu))}let a,l=r[a=qh(e)]||r[a=qh(So(e))];!l&&s&&(l=r[a=qh(Wo(e))]),l&&Ir(l,t,6,i);const u=r[a+"Once"];if(u){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,Ir(u,t,6,i)}}function Uw(t,e,n=!1){const r=e.emitsCache,i=r.get(t);if(i!==void 0)return i;const s=t.emits;let o={},a=!1;if(!at(t)){const l=u=>{const d=Uw(u,e,!0);d&&(a=!0,Pn(o,d))};!n&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!s&&!a?(Qt(t)&&r.set(t,null),null):(Ue(s)?s.forEach(l=>o[l]=null):Pn(o,s),Qt(t)&&r.set(t,o),o)}function xc(t,e){return!t||!Ec(e)?!1:(e=e.slice(2).replace(/Once$/,""),yt(t,e[0].toLowerCase()+e.slice(1))||yt(t,Wo(e))||yt(t,e))}let kr=null,Fw=null;function Wu(t){const e=kr;return kr=t,Fw=t&&t.type.__scopeId||null,e}function qk(t,e=kr,n){if(!e||t._n)return t;const r=(...i)=>{r._d&&gg(-1);const s=Wu(e);let o;try{o=t(...i)}finally{Wu(s),r._d&&gg(1)}return o};return r._n=!0,r._c=!0,r._d=!0,r}function Hh(t){const{type:e,vnode:n,proxy:r,withProxy:i,props:s,propsOptions:[o],slots:a,attrs:l,emit:u,render:d,renderCache:f,data:p,setupState:m,ctx:b,inheritAttrs:y}=t;let A,I;const x=Wu(t);try{if(n.shapeFlag&4){const P=i||r;A=Fr(d.call(P,P,f,s,m,p,b)),I=l}else{const P=e;A=Fr(P.length>1?P(s,{attrs:l,slots:a,emit:u}):P(s,null)),I=e.props?l:Hk(l)}}catch(P){Ca.length=0,Ac(P,t,1),A=bn(Ps)}let R=A;if(I&&y!==!1){const P=Object.keys(I),{shapeFlag:B}=R;P.length&&B&7&&(o&&P.some(Cf)&&(I=Wk(I,o)),R=Po(R,I))}return n.dirs&&(R=Po(R),R.dirs=R.dirs?R.dirs.concat(n.dirs):n.dirs),n.transition&&(R.transition=n.transition),A=R,Wu(x),A}const Hk=t=>{let e;for(const n in t)(n==="class"||n==="style"||Ec(n))&&((e||(e={}))[n]=t[n]);return e},Wk=(t,e)=>{const n={};for(const r in t)(!Cf(r)||!(r.slice(9)in e))&&(n[r]=t[r]);return n};function Kk(t,e,n){const{props:r,children:i,component:s}=t,{props:o,children:a,patchFlag:l}=e,u=s.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return r?og(r,o,u):!!o;if(l&8){const d=e.dynamicProps;for(let f=0;f<d.length;f++){const p=d[f];if(o[p]!==r[p]&&!xc(u,p))return!0}}}else return(i||a)&&(!a||!a.$stable)?!0:r===o?!1:r?o?og(r,o,u):!0:!!o;return!1}function og(t,e,n){const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!0;for(let i=0;i<r.length;i++){const s=r[i];if(e[s]!==t[s]&&!xc(n,s))return!0}return!1}function Gk({vnode:t,parent:e},n){for(;e&&e.subTree===t;)(t=e.vnode).el=n,e=e.parent}const Qk=t=>t.__isSuspense;function Yk(t,e){e&&e.pendingBranch?Ue(t)?e.effects.push(...t):e.effects.push(t):Bk(t)}const uu={};function Wh(t,e,n){return $w(t,e,n)}function $w(t,e,{immediate:n,deep:r,flush:i,onTrack:s,onTrigger:o}=Kt){var a;const l=sk()===((a=Vn)==null?void 0:a.scope)?Vn:null;let u,d=!1,f=!1;if(Fn(t)?(u=()=>t.value,d=Hu(t)):yo(t)?(u=()=>t,r=!0):Ue(t)?(f=!0,d=t.some(P=>yo(P)||Hu(P)),u=()=>t.map(P=>{if(Fn(P))return P.value;if(yo(P))return vs(P);if(at(P))return Bi(P,l,2)})):at(t)?e?u=()=>Bi(t,l,2):u=()=>{if(!(l&&l.isUnmounted))return p&&p(),Ir(t,l,3,[m])}:u=Tr,e&&r){const P=u;u=()=>vs(P())}let p,m=P=>{p=x.onStop=()=>{Bi(P,l,4)}},b;if(za)if(m=Tr,e?n&&Ir(e,l,3,[u(),f?[]:void 0,m]):u(),i==="sync"){const P=WE();b=P.__watcherHandles||(P.__watcherHandles=[])}else return Tr;let y=f?new Array(t.length).fill(uu):uu;const A=()=>{if(x.active)if(e){const P=x.run();(r||d||(f?P.some((B,G)=>Va(B,y[G])):Va(P,y)))&&(p&&p(),Ir(e,l,3,[P,y===uu?void 0:f&&y[0]===uu?[]:y,m]),y=P)}else x.run()};A.allowRecurse=!!e;let I;i==="sync"?I=A:i==="post"?I=()=>nr(A,l&&l.suspense):(A.pre=!0,l&&(A.id=l.uid),I=()=>zf(A));const x=new Nf(u,I);e?n?A():y=x.run():i==="post"?nr(x.run.bind(x),l&&l.suspense):x.run();const R=()=>{x.stop(),l&&l.scope&&Sf(l.scope.effects,x)};return b&&b.push(R),R}function Xk(t,e,n){const r=this.proxy,i=_n(t)?t.includes(".")?Bw(r,t):()=>r[t]:t.bind(r,r);let s;at(e)?s=e:(s=e.handler,n=e);const o=Vn;Do(this);const a=$w(i,s.bind(r),n);return o?Do(o):Is(),a}function Bw(t,e){const n=e.split(".");return()=>{let r=t;for(let i=0;i<n.length&&r;i++)r=r[n[i]];return r}}function vs(t,e){if(!Qt(t)||t.__v_skip||(e=e||new Set,e.has(t)))return t;if(e.add(t),Fn(t))vs(t.value,e);else if(Ue(t))for(let n=0;n<t.length;n++)vs(t[n],e);else if(Ho(t)||vo(t))t.forEach(n=>{vs(n,e)});else if(pw(t))for(const n in t)vs(t[n],e);return t}function Je(t,e){const n=kr;if(n===null)return t;const r=Pc(n)||n.proxy,i=t.dirs||(t.dirs=[]);for(let s=0;s<e.length;s++){let[o,a,l,u=Kt]=e[s];o&&(at(o)&&(o={mounted:o,updated:o}),o.deep&&vs(a),i.push({dir:o,instance:r,value:a,oldValue:void 0,arg:l,modifiers:u}))}return t}function ds(t,e,n,r){const i=t.dirs,s=e&&e.dirs;for(let o=0;o<i.length;o++){const a=i[o];s&&(a.oldValue=s[o].value);let l=a.dir[r];l&&(Ko(),Ir(l,n,8,[t.el,a,t,e]),Go())}}const Su=t=>!!t.type.__asyncLoader,zw=t=>t.type.__isKeepAlive;function Zk(t,e){jw(t,"a",e)}function Jk(t,e){jw(t,"da",e)}function jw(t,e,n=Vn){const r=t.__wdc||(t.__wdc=()=>{let i=n;for(;i;){if(i.isDeactivated)return;i=i.parent}return t()});if(Cc(e,r,n),n){let i=n.parent;for(;i&&i.parent;)zw(i.parent.vnode)&&eE(r,e,n,i),i=i.parent}}function eE(t,e,n,r){const i=Cc(e,t,r,!0);Hw(()=>{Sf(r[e],i)},n)}function Cc(t,e,n=Vn,r=!1){if(n){const i=n[t]||(n[t]=[]),s=e.__weh||(e.__weh=(...o)=>{if(n.isUnmounted)return;Ko(),Do(n);const a=Ir(e,n,t,o);return Is(),Go(),a});return r?i.unshift(s):i.push(s),s}}const yi=t=>(e,n=Vn)=>(!za||t==="sp")&&Cc(t,(...r)=>e(...r),n),tE=yi("bm"),qw=yi("m"),nE=yi("bu"),rE=yi("u"),iE=yi("bum"),Hw=yi("um"),sE=yi("sp"),oE=yi("rtg"),aE=yi("rtc");function lE(t,e=Vn){Cc("ec",t,e)}const uE=Symbol.for("v-ndc");function hi(t,e,n,r){let i;const s=n&&n[r];if(Ue(t)||_n(t)){i=new Array(t.length);for(let o=0,a=t.length;o<a;o++)i[o]=e(t[o],o,void 0,s&&s[o])}else if(typeof t=="number"){i=new Array(t);for(let o=0;o<t;o++)i[o]=e(o+1,o,void 0,s&&s[o])}else if(Qt(t))if(t[Symbol.iterator])i=Array.from(t,(o,a)=>e(o,a,void 0,s&&s[a]));else{const o=Object.keys(t);i=new Array(o.length);for(let a=0,l=o.length;a<l;a++){const u=o[a];i[a]=e(t[u],u,a,s&&s[a])}}else i=[];return n&&(n[r]=i),i}const Vd=t=>t?rv(t)?Pc(t)||t.proxy:Vd(t.parent):null,Aa=Pn(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>Vd(t.parent),$root:t=>Vd(t.root),$emit:t=>t.emit,$options:t=>jf(t),$forceUpdate:t=>t.f||(t.f=()=>zf(t.update)),$nextTick:t=>t.n||(t.n=Rs.bind(t.proxy)),$watch:t=>Xk.bind(t)}),Kh=(t,e)=>t!==Kt&&!t.__isScriptSetup&&yt(t,e),cE={get({_:t},e){const{ctx:n,setupState:r,data:i,props:s,accessCache:o,type:a,appContext:l}=t;let u;if(e[0]!=="$"){const m=o[e];if(m!==void 0)switch(m){case 1:return r[e];case 2:return i[e];case 4:return n[e];case 3:return s[e]}else{if(Kh(r,e))return o[e]=1,r[e];if(i!==Kt&&yt(i,e))return o[e]=2,i[e];if((u=t.propsOptions[0])&&yt(u,e))return o[e]=3,s[e];if(n!==Kt&&yt(n,e))return o[e]=4,n[e];Ud&&(o[e]=0)}}const d=Aa[e];let f,p;if(d)return e==="$attrs"&&ir(t,"get",e),d(t);if((f=a.__cssModules)&&(f=f[e]))return f;if(n!==Kt&&yt(n,e))return o[e]=4,n[e];if(p=l.config.globalProperties,yt(p,e))return p[e]},set({_:t},e,n){const{data:r,setupState:i,ctx:s}=t;return Kh(i,e)?(i[e]=n,!0):r!==Kt&&yt(r,e)?(r[e]=n,!0):yt(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(s[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:r,appContext:i,propsOptions:s}},o){let a;return!!n[o]||t!==Kt&&yt(t,o)||Kh(e,o)||(a=s[0])&&yt(a,o)||yt(r,o)||yt(Aa,o)||yt(i.config.globalProperties,o)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:yt(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};function ag(t){return Ue(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}let Ud=!0;function hE(t){const e=jf(t),n=t.proxy,r=t.ctx;Ud=!1,e.beforeCreate&&lg(e.beforeCreate,t,"bc");const{data:i,computed:s,methods:o,watch:a,provide:l,inject:u,created:d,beforeMount:f,mounted:p,beforeUpdate:m,updated:b,activated:y,deactivated:A,beforeDestroy:I,beforeUnmount:x,destroyed:R,unmounted:P,render:B,renderTracked:G,renderTriggered:F,errorCaptured:te,serverPrefetch:ee,expose:Z,inheritAttrs:ae,components:U,directives:X,filters:T}=e;if(u&&dE(u,r,null),o)for(const W in o){const ce=o[W];at(ce)&&(r[W]=ce.bind(n))}if(i){const W=i.call(n,n);Qt(W)&&(t.data=Uf(W))}if(Ud=!0,s)for(const W in s){const ce=s[W],ie=at(ce)?ce.bind(n,n):at(ce.get)?ce.get.bind(n,n):Tr,de=!at(ce)&&at(ce.set)?ce.set.bind(n):Tr,J=qE({get:ie,set:de});Object.defineProperty(r,W,{enumerable:!0,configurable:!0,get:()=>J.value,set:Q=>J.value=Q})}if(a)for(const W in a)Ww(a[W],r,n,W);if(l){const W=at(l)?l.call(n):l;Reflect.ownKeys(W).forEach(ce=>{wE(ce,W[ce])})}d&&lg(d,t,"c");function se(W,ce){Ue(ce)?ce.forEach(ie=>W(ie.bind(n))):ce&&W(ce.bind(n))}if(se(tE,f),se(qw,p),se(nE,m),se(rE,b),se(Zk,y),se(Jk,A),se(lE,te),se(aE,G),se(oE,F),se(iE,x),se(Hw,P),se(sE,ee),Ue(Z))if(Z.length){const W=t.exposed||(t.exposed={});Z.forEach(ce=>{Object.defineProperty(W,ce,{get:()=>n[ce],set:ie=>n[ce]=ie})})}else t.exposed||(t.exposed={});B&&t.render===Tr&&(t.render=B),ae!=null&&(t.inheritAttrs=ae),U&&(t.components=U),X&&(t.directives=X)}function dE(t,e,n=Tr){Ue(t)&&(t=Fd(t));for(const r in t){const i=t[r];let s;Qt(i)?"default"in i?s=Ru(i.from||r,i.default,!0):s=Ru(i.from||r):s=Ru(i),Fn(s)?Object.defineProperty(e,r,{enumerable:!0,configurable:!0,get:()=>s.value,set:o=>s.value=o}):e[r]=s}}function lg(t,e,n){Ir(Ue(t)?t.map(r=>r.bind(e.proxy)):t.bind(e.proxy),e,n)}function Ww(t,e,n,r){const i=r.includes(".")?Bw(n,r):()=>n[r];if(_n(t)){const s=e[t];at(s)&&Wh(i,s)}else if(at(t))Wh(i,t.bind(n));else if(Qt(t))if(Ue(t))t.forEach(s=>Ww(s,e,n,r));else{const s=at(t.handler)?t.handler.bind(n):e[t.handler];at(s)&&Wh(i,s,t)}}function jf(t){const e=t.type,{mixins:n,extends:r}=e,{mixins:i,optionsCache:s,config:{optionMergeStrategies:o}}=t.appContext,a=s.get(e);let l;return a?l=a:!i.length&&!n&&!r?l=e:(l={},i.length&&i.forEach(u=>Ku(l,u,o,!0)),Ku(l,e,o)),Qt(e)&&s.set(e,l),l}function Ku(t,e,n,r=!1){const{mixins:i,extends:s}=e;s&&Ku(t,s,n,!0),i&&i.forEach(o=>Ku(t,o,n,!0));for(const o in e)if(!(r&&o==="expose")){const a=fE[o]||n&&n[o];t[o]=a?a(t[o],e[o]):e[o]}return t}const fE={data:ug,props:cg,emits:cg,methods:wa,computed:wa,beforeCreate:Kn,created:Kn,beforeMount:Kn,mounted:Kn,beforeUpdate:Kn,updated:Kn,beforeDestroy:Kn,beforeUnmount:Kn,destroyed:Kn,unmounted:Kn,activated:Kn,deactivated:Kn,errorCaptured:Kn,serverPrefetch:Kn,components:wa,directives:wa,watch:mE,provide:ug,inject:pE};function ug(t,e){return e?t?function(){return Pn(at(t)?t.call(this,this):t,at(e)?e.call(this,this):e)}:e:t}function pE(t,e){return wa(Fd(t),Fd(e))}function Fd(t){if(Ue(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function Kn(t,e){return t?[...new Set([].concat(t,e))]:e}function wa(t,e){return t?Pn(Object.create(null),t,e):e}function cg(t,e){return t?Ue(t)&&Ue(e)?[...new Set([...t,...e])]:Pn(Object.create(null),ag(t),ag(e??{})):e}function mE(t,e){if(!t)return e;if(!e)return t;const n=Pn(Object.create(null),t);for(const r in e)n[r]=Kn(t[r],e[r]);return n}function Kw(){return{app:null,config:{isNativeTag:q1,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let gE=0;function _E(t,e){return function(r,i=null){at(r)||(r=Pn({},r)),i!=null&&!Qt(i)&&(i=null);const s=Kw(),o=new Set;let a=!1;const l=s.app={_uid:gE++,_component:r,_props:i,_container:null,_context:s,_instance:null,version:KE,get config(){return s.config},set config(u){},use(u,...d){return o.has(u)||(u&&at(u.install)?(o.add(u),u.install(l,...d)):at(u)&&(o.add(u),u(l,...d))),l},mixin(u){return s.mixins.includes(u)||s.mixins.push(u),l},component(u,d){return d?(s.components[u]=d,l):s.components[u]},directive(u,d){return d?(s.directives[u]=d,l):s.directives[u]},mount(u,d,f){if(!a){const p=bn(r,i);return p.appContext=s,d&&e?e(p,u):t(p,u,f),a=!0,l._container=u,u.__vue_app__=l,Pc(p.component)||p.component.proxy}},unmount(){a&&(t(null,l._container),delete l._container.__vue_app__)},provide(u,d){return s.provides[u]=d,l},runWithContext(u){Gu=l;try{return u()}finally{Gu=null}}};return l}}let Gu=null;function wE(t,e){if(Vn){let n=Vn.provides;const r=Vn.parent&&Vn.parent.provides;r===n&&(n=Vn.provides=Object.create(r)),n[t]=e}}function Ru(t,e,n=!1){const r=Vn||kr;if(r||Gu){const i=r?r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:Gu._context.provides;if(i&&t in i)return i[t];if(arguments.length>1)return n&&at(e)?e.call(r&&r.proxy):e}}function vE(t,e,n,r=!1){const i={},s={};ju(s,Rc,1),t.propsDefaults=Object.create(null),Gw(t,e,i,s);for(const o in t.propsOptions[0])o in i||(i[o]=void 0);n?t.props=r?i:Dk(i):t.type.props?t.props=i:t.props=s,t.attrs=s}function yE(t,e,n,r){const{props:i,attrs:s,vnode:{patchFlag:o}}=t,a=It(i),[l]=t.propsOptions;let u=!1;if((r||o>0)&&!(o&16)){if(o&8){const d=t.vnode.dynamicProps;for(let f=0;f<d.length;f++){let p=d[f];if(xc(t.emitsOptions,p))continue;const m=e[p];if(l)if(yt(s,p))m!==s[p]&&(s[p]=m,u=!0);else{const b=So(p);i[b]=$d(l,a,b,m,t,!1)}else m!==s[p]&&(s[p]=m,u=!0)}}}else{Gw(t,e,i,s)&&(u=!0);let d;for(const f in a)(!e||!yt(e,f)&&((d=Wo(f))===f||!yt(e,d)))&&(l?n&&(n[f]!==void 0||n[d]!==void 0)&&(i[f]=$d(l,a,f,void 0,t,!0)):delete i[f]);if(s!==a)for(const f in s)(!e||!yt(e,f))&&(delete s[f],u=!0)}u&&mi(t,"set","$attrs")}function Gw(t,e,n,r){const[i,s]=t.propsOptions;let o=!1,a;if(e)for(let l in e){if(xu(l))continue;const u=e[l];let d;i&&yt(i,d=So(l))?!s||!s.includes(d)?n[d]=u:(a||(a={}))[d]=u:xc(t.emitsOptions,l)||(!(l in r)||u!==r[l])&&(r[l]=u,o=!0)}if(s){const l=It(n),u=a||Kt;for(let d=0;d<s.length;d++){const f=s[d];n[f]=$d(i,l,f,u[f],t,!yt(u,f))}}return o}function $d(t,e,n,r,i,s){const o=t[n];if(o!=null){const a=yt(o,"default");if(a&&r===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&at(l)){const{propsDefaults:u}=i;n in u?r=u[n]:(Do(i),r=u[n]=l.call(null,e),Is())}else r=l}o[0]&&(s&&!a?r=!1:o[1]&&(r===""||r===Wo(n))&&(r=!0))}return r}function Qw(t,e,n=!1){const r=e.propsCache,i=r.get(t);if(i)return i;const s=t.props,o={},a=[];let l=!1;if(!at(t)){const d=f=>{l=!0;const[p,m]=Qw(f,e,!0);Pn(o,p),m&&a.push(...m)};!n&&e.mixins.length&&e.mixins.forEach(d),t.extends&&d(t.extends),t.mixins&&t.mixins.forEach(d)}if(!s&&!l)return Qt(t)&&r.set(t,wo),wo;if(Ue(s))for(let d=0;d<s.length;d++){const f=So(s[d]);hg(f)&&(o[f]=Kt)}else if(s)for(const d in s){const f=So(d);if(hg(f)){const p=s[d],m=o[f]=Ue(p)||at(p)?{type:p}:Pn({},p);if(m){const b=pg(Boolean,m.type),y=pg(String,m.type);m[0]=b>-1,m[1]=y<0||b<y,(b>-1||yt(m,"default"))&&a.push(f)}}}const u=[o,a];return Qt(t)&&r.set(t,u),u}function hg(t){return t[0]!=="$"}function dg(t){const e=t&&t.toString().match(/^\s*(function|class) (\w+)/);return e?e[2]:t===null?"null":""}function fg(t,e){return dg(t)===dg(e)}function pg(t,e){return Ue(e)?e.findIndex(n=>fg(n,t)):at(e)&&fg(e,t)?0:-1}const Yw=t=>t[0]==="_"||t==="$stable",qf=t=>Ue(t)?t.map(Fr):[Fr(t)],bE=(t,e,n)=>{if(e._n)return e;const r=qk((...i)=>qf(e(...i)),n);return r._c=!1,r},Xw=(t,e,n)=>{const r=t._ctx;for(const i in t){if(Yw(i))continue;const s=t[i];if(at(s))e[i]=bE(i,s,r);else if(s!=null){const o=qf(s);e[i]=()=>o}}},Zw=(t,e)=>{const n=qf(e);t.slots.default=()=>n},kE=(t,e)=>{if(t.vnode.shapeFlag&32){const n=e._;n?(t.slots=It(e),ju(e,"_",n)):Xw(e,t.slots={})}else t.slots={},e&&Zw(t,e);ju(t.slots,Rc,1)},EE=(t,e,n)=>{const{vnode:r,slots:i}=t;let s=!0,o=Kt;if(r.shapeFlag&32){const a=e._;a?n&&a===1?s=!1:(Pn(i,e),!n&&a===1&&delete i._):(s=!e.$stable,Xw(e,i)),o=e}else e&&(Zw(t,e),o={default:1});if(s)for(const a in i)!Yw(a)&&!(a in o)&&delete i[a]};function Bd(t,e,n,r,i=!1){if(Ue(t)){t.forEach((p,m)=>Bd(p,e&&(Ue(e)?e[m]:e),n,r,i));return}if(Su(r)&&!i)return;const s=r.shapeFlag&4?Pc(r.component)||r.component.proxy:r.el,o=i?null:s,{i:a,r:l}=t,u=e&&e.r,d=a.refs===Kt?a.refs={}:a.refs,f=a.setupState;if(u!=null&&u!==l&&(_n(u)?(d[u]=null,yt(f,u)&&(f[u]=null)):Fn(u)&&(u.value=null)),at(l))Bi(l,a,12,[o,d]);else{const p=_n(l),m=Fn(l);if(p||m){const b=()=>{if(t.f){const y=p?yt(f,l)?f[l]:d[l]:l.value;i?Ue(y)&&Sf(y,s):Ue(y)?y.includes(s)||y.push(s):p?(d[l]=[s],yt(f,l)&&(f[l]=d[l])):(l.value=[s],t.k&&(d[t.k]=l.value))}else p?(d[l]=o,yt(f,l)&&(f[l]=o)):m&&(l.value=o,t.k&&(d[t.k]=o))};o?(b.id=-1,nr(b,n)):b()}}}const nr=Yk;function TE(t){return IE(t)}function IE(t,e){const n=Pd();n.__VUE__=!0;const{insert:r,remove:i,patchProp:s,createElement:o,createText:a,createComment:l,setText:u,setElementText:d,parentNode:f,nextSibling:p,setScopeId:m=Tr,insertStaticContent:b}=t,y=(z,V,w,j=null,M=null,S=null,C=!1,O=null,Y=!!V.dynamicChildren)=>{if(z===V)return;z&&!ua(z,V)&&(j=ut(z),Q(z,M,S,!0),z=null),V.patchFlag===-2&&(Y=!1,V.dynamicChildren=null);const{type:K,ref:L,shapeFlag:le}=V;switch(K){case Sc:A(z,V,w,j);break;case Ps:I(z,V,w,j);break;case Pu:z==null&&x(V,w,j,C);break;case ln:U(z,V,w,j,M,S,C,O,Y);break;default:le&1?B(z,V,w,j,M,S,C,O,Y):le&6?X(z,V,w,j,M,S,C,O,Y):(le&64||le&128)&&K.process(z,V,w,j,M,S,C,O,Y,je)}L!=null&&M&&Bd(L,z&&z.ref,S,V||z,!V)},A=(z,V,w,j)=>{if(z==null)r(V.el=a(V.children),w,j);else{const M=V.el=z.el;V.children!==z.children&&u(M,V.children)}},I=(z,V,w,j)=>{z==null?r(V.el=l(V.children||""),w,j):V.el=z.el},x=(z,V,w,j)=>{[z.el,z.anchor]=b(z.children,V,w,j,z.el,z.anchor)},R=({el:z,anchor:V},w,j)=>{let M;for(;z&&z!==V;)M=p(z),r(z,w,j),z=M;r(V,w,j)},P=({el:z,anchor:V})=>{let w;for(;z&&z!==V;)w=p(z),i(z),z=w;i(V)},B=(z,V,w,j,M,S,C,O,Y)=>{C=C||V.type==="svg",z==null?G(V,w,j,M,S,C,O,Y):ee(z,V,M,S,C,O,Y)},G=(z,V,w,j,M,S,C,O)=>{let Y,K;const{type:L,props:le,shapeFlag:fe,transition:he,dirs:be}=z;if(Y=z.el=o(z.type,S,le&&le.is,le),fe&8?d(Y,z.children):fe&16&&te(z.children,Y,null,j,M,S&&L!=="foreignObject",C,O),be&&ds(z,null,j,"created"),F(Y,z,z.scopeId,C,j),le){for(const Ce in le)Ce!=="value"&&!xu(Ce)&&s(Y,Ce,null,le[Ce],S,z.children,j,M,ze);"value"in le&&s(Y,"value",null,le.value),(K=le.onVnodeBeforeMount)&&Vr(K,j,z)}be&&ds(z,null,j,"beforeMount");const Pe=(!M||M&&!M.pendingBranch)&&he&&!he.persisted;Pe&&he.beforeEnter(Y),r(Y,V,w),((K=le&&le.onVnodeMounted)||Pe||be)&&nr(()=>{K&&Vr(K,j,z),Pe&&he.enter(Y),be&&ds(z,null,j,"mounted")},M)},F=(z,V,w,j,M)=>{if(w&&m(z,w),j)for(let S=0;S<j.length;S++)m(z,j[S]);if(M){let S=M.subTree;if(V===S){const C=M.vnode;F(z,C,C.scopeId,C.slotScopeIds,M.parent)}}},te=(z,V,w,j,M,S,C,O,Y=0)=>{for(let K=Y;K<z.length;K++){const L=z[K]=O?Di(z[K]):Fr(z[K]);y(null,L,V,w,j,M,S,C,O)}},ee=(z,V,w,j,M,S,C)=>{const O=V.el=z.el;let{patchFlag:Y,dynamicChildren:K,dirs:L}=V;Y|=z.patchFlag&16;const le=z.props||Kt,fe=V.props||Kt;let he;w&&fs(w,!1),(he=fe.onVnodeBeforeUpdate)&&Vr(he,w,V,z),L&&ds(V,z,w,"beforeUpdate"),w&&fs(w,!0);const be=M&&V.type!=="foreignObject";if(K?Z(z.dynamicChildren,K,O,w,j,be,S):C||ce(z,V,O,null,w,j,be,S,!1),Y>0){if(Y&16)ae(O,V,le,fe,w,j,M);else if(Y&2&&le.class!==fe.class&&s(O,"class",null,fe.class,M),Y&4&&s(O,"style",le.style,fe.style,M),Y&8){const Pe=V.dynamicProps;for(let Ce=0;Ce<Pe.length;Ce++){const Fe=Pe[Ce],rt=le[Fe],ct=fe[Fe];(ct!==rt||Fe==="value")&&s(O,Fe,rt,ct,M,z.children,w,j,ze)}}Y&1&&z.children!==V.children&&d(O,V.children)}else!C&&K==null&&ae(O,V,le,fe,w,j,M);((he=fe.onVnodeUpdated)||L)&&nr(()=>{he&&Vr(he,w,V,z),L&&ds(V,z,w,"updated")},j)},Z=(z,V,w,j,M,S,C)=>{for(let O=0;O<V.length;O++){const Y=z[O],K=V[O],L=Y.el&&(Y.type===ln||!ua(Y,K)||Y.shapeFlag&70)?f(Y.el):w;y(Y,K,L,null,j,M,S,C,!0)}},ae=(z,V,w,j,M,S,C)=>{if(w!==j){if(w!==Kt)for(const O in w)!xu(O)&&!(O in j)&&s(z,O,w[O],null,C,V.children,M,S,ze);for(const O in j){if(xu(O))continue;const Y=j[O],K=w[O];Y!==K&&O!=="value"&&s(z,O,K,Y,C,V.children,M,S,ze)}"value"in j&&s(z,"value",w.value,j.value)}},U=(z,V,w,j,M,S,C,O,Y)=>{const K=V.el=z?z.el:a(""),L=V.anchor=z?z.anchor:a("");let{patchFlag:le,dynamicChildren:fe,slotScopeIds:he}=V;he&&(O=O?O.concat(he):he),z==null?(r(K,w,j),r(L,w,j),te(V.children,w,L,M,S,C,O,Y)):le>0&&le&64&&fe&&z.dynamicChildren?(Z(z.dynamicChildren,fe,w,M,S,C,O),(V.key!=null||M&&V===M.subTree)&&Hf(z,V,!0)):ce(z,V,w,L,M,S,C,O,Y)},X=(z,V,w,j,M,S,C,O,Y)=>{V.slotScopeIds=O,z==null?V.shapeFlag&512?M.ctx.activate(V,w,j,C,Y):T(V,w,j,M,S,C,Y):re(z,V,Y)},T=(z,V,w,j,M,S,C)=>{const O=z.component=UE(z,j,M);if(zw(z)&&(O.ctx.renderer=je),FE(O),O.asyncDep){if(M&&M.registerDep(O,se),!z.el){const Y=O.subTree=bn(Ps);I(null,Y,V,w)}return}se(O,z,V,w,M,S,C)},re=(z,V,w)=>{const j=V.component=z.component;if(Kk(z,V,w))if(j.asyncDep&&!j.asyncResolved){W(j,V,w);return}else j.next=V,$k(j.update),j.update();else V.el=z.el,j.vnode=V},se=(z,V,w,j,M,S,C)=>{const O=()=>{if(z.isMounted){let{next:L,bu:le,u:fe,parent:he,vnode:be}=z,Pe=L,Ce;fs(z,!1),L?(L.el=be.el,W(z,L,C)):L=be,le&&Cu(le),(Ce=L.props&&L.props.onVnodeBeforeUpdate)&&Vr(Ce,he,L,be),fs(z,!0);const Fe=Hh(z),rt=z.subTree;z.subTree=Fe,y(rt,Fe,f(rt.el),ut(rt),z,M,S),L.el=Fe.el,Pe===null&&Gk(z,Fe.el),fe&&nr(fe,M),(Ce=L.props&&L.props.onVnodeUpdated)&&nr(()=>Vr(Ce,he,L,be),M)}else{let L;const{el:le,props:fe}=V,{bm:he,m:be,parent:Pe}=z,Ce=Su(V);if(fs(z,!1),he&&Cu(he),!Ce&&(L=fe&&fe.onVnodeBeforeMount)&&Vr(L,Pe,V),fs(z,!0),le&&Xe){const Fe=()=>{z.subTree=Hh(z),Xe(le,z.subTree,z,M,null)};Ce?V.type.__asyncLoader().then(()=>!z.isUnmounted&&Fe()):Fe()}else{const Fe=z.subTree=Hh(z);y(null,Fe,w,j,z,M,S),V.el=Fe.el}if(be&&nr(be,M),!Ce&&(L=fe&&fe.onVnodeMounted)){const Fe=V;nr(()=>Vr(L,Pe,Fe),M)}(V.shapeFlag&256||Pe&&Su(Pe.vnode)&&Pe.vnode.shapeFlag&256)&&z.a&&nr(z.a,M),z.isMounted=!0,V=w=j=null}},Y=z.effect=new Nf(O,()=>zf(K),z.scope),K=z.update=()=>Y.run();K.id=z.uid,fs(z,!0),K()},W=(z,V,w)=>{V.component=z;const j=z.vnode.props;z.vnode=V,z.next=null,yE(z,V.props,j,w),EE(z,V.children,w),Ko(),sg(),Go()},ce=(z,V,w,j,M,S,C,O,Y=!1)=>{const K=z&&z.children,L=z?z.shapeFlag:0,le=V.children,{patchFlag:fe,shapeFlag:he}=V;if(fe>0){if(fe&128){de(K,le,w,j,M,S,C,O,Y);return}else if(fe&256){ie(K,le,w,j,M,S,C,O,Y);return}}he&8?(L&16&&ze(K,M,S),le!==K&&d(w,le)):L&16?he&16?de(K,le,w,j,M,S,C,O,Y):ze(K,M,S,!0):(L&8&&d(w,""),he&16&&te(le,w,j,M,S,C,O,Y))},ie=(z,V,w,j,M,S,C,O,Y)=>{z=z||wo,V=V||wo;const K=z.length,L=V.length,le=Math.min(K,L);let fe;for(fe=0;fe<le;fe++){const he=V[fe]=Y?Di(V[fe]):Fr(V[fe]);y(z[fe],he,w,null,M,S,C,O,Y)}K>L?ze(z,M,S,!0,!1,le):te(V,w,j,M,S,C,O,Y,le)},de=(z,V,w,j,M,S,C,O,Y)=>{let K=0;const L=V.length;let le=z.length-1,fe=L-1;for(;K<=le&&K<=fe;){const he=z[K],be=V[K]=Y?Di(V[K]):Fr(V[K]);if(ua(he,be))y(he,be,w,null,M,S,C,O,Y);else break;K++}for(;K<=le&&K<=fe;){const he=z[le],be=V[fe]=Y?Di(V[fe]):Fr(V[fe]);if(ua(he,be))y(he,be,w,null,M,S,C,O,Y);else break;le--,fe--}if(K>le){if(K<=fe){const he=fe+1,be=he<L?V[he].el:j;for(;K<=fe;)y(null,V[K]=Y?Di(V[K]):Fr(V[K]),w,be,M,S,C,O,Y),K++}}else if(K>fe)for(;K<=le;)Q(z[K],M,S,!0),K++;else{const he=K,be=K,Pe=new Map;for(K=be;K<=fe;K++){const Ot=V[K]=Y?Di(V[K]):Fr(V[K]);Ot.key!=null&&Pe.set(Ot.key,K)}let Ce,Fe=0;const rt=fe-be+1;let ct=!1,Vt=0;const pt=new Array(rt);for(K=0;K<rt;K++)pt[K]=0;for(K=he;K<=le;K++){const Ot=z[K];if(Fe>=rt){Q(Ot,M,S,!0);continue}let kt;if(Ot.key!=null)kt=Pe.get(Ot.key);else for(Ce=be;Ce<=fe;Ce++)if(pt[Ce-be]===0&&ua(Ot,V[Ce])){kt=Ce;break}kt===void 0?Q(Ot,M,S,!0):(pt[kt-be]=K+1,kt>=Vt?Vt=kt:ct=!0,y(Ot,V[kt],w,null,M,S,C,O,Y),Fe++)}const dn=ct?AE(pt):wo;for(Ce=dn.length-1,K=rt-1;K>=0;K--){const Ot=be+K,kt=V[Ot],Hn=Ot+1<L?V[Ot+1].el:j;pt[K]===0?y(null,kt,w,Hn,M,S,C,O,Y):ct&&(Ce<0||K!==dn[Ce]?J(kt,w,Hn,2):Ce--)}}},J=(z,V,w,j,M=null)=>{const{el:S,type:C,transition:O,children:Y,shapeFlag:K}=z;if(K&6){J(z.component.subTree,V,w,j);return}if(K&128){z.suspense.move(V,w,j);return}if(K&64){C.move(z,V,w,je);return}if(C===ln){r(S,V,w);for(let le=0;le<Y.length;le++)J(Y[le],V,w,j);r(z.anchor,V,w);return}if(C===Pu){R(z,V,w);return}if(j!==2&&K&1&&O)if(j===0)O.beforeEnter(S),r(S,V,w),nr(()=>O.enter(S),M);else{const{leave:le,delayLeave:fe,afterLeave:he}=O,be=()=>r(S,V,w),Pe=()=>{le(S,()=>{be(),he&&he()})};fe?fe(S,be,Pe):Pe()}else r(S,V,w)},Q=(z,V,w,j=!1,M=!1)=>{const{type:S,props:C,ref:O,children:Y,dynamicChildren:K,shapeFlag:L,patchFlag:le,dirs:fe}=z;if(O!=null&&Bd(O,null,w,z,!0),L&256){V.ctx.deactivate(z);return}const he=L&1&&fe,be=!Su(z);let Pe;if(be&&(Pe=C&&C.onVnodeBeforeUnmount)&&Vr(Pe,V,z),L&6)H(z.component,w,j);else{if(L&128){z.suspense.unmount(w,j);return}he&&ds(z,null,V,"beforeUnmount"),L&64?z.type.remove(z,V,w,M,je,j):K&&(S!==ln||le>0&&le&64)?ze(K,V,w,!1,!0):(S===ln&&le&384||!M&&L&16)&&ze(Y,V,w),j&&ve(z)}(be&&(Pe=C&&C.onVnodeUnmounted)||he)&&nr(()=>{Pe&&Vr(Pe,V,z),he&&ds(z,null,V,"unmounted")},w)},ve=z=>{const{type:V,el:w,anchor:j,transition:M}=z;if(V===ln){_e(w,j);return}if(V===Pu){P(z);return}const S=()=>{i(w),M&&!M.persisted&&M.afterLeave&&M.afterLeave()};if(z.shapeFlag&1&&M&&!M.persisted){const{leave:C,delayLeave:O}=M,Y=()=>C(w,S);O?O(z.el,S,Y):Y()}else S()},_e=(z,V)=>{let w;for(;z!==V;)w=p(z),i(z),z=w;i(V)},H=(z,V,w)=>{const{bum:j,scope:M,update:S,subTree:C,um:O}=z;j&&Cu(j),M.stop(),S&&(S.active=!1,Q(C,z,V,w)),O&&nr(O,V),nr(()=>{z.isUnmounted=!0},V),V&&V.pendingBranch&&!V.isUnmounted&&z.asyncDep&&!z.asyncResolved&&z.suspenseId===V.pendingId&&(V.deps--,V.deps===0&&V.resolve())},ze=(z,V,w,j=!1,M=!1,S=0)=>{for(let C=S;C<z.length;C++)Q(z[C],V,w,j,M)},ut=z=>z.shapeFlag&6?ut(z.component.subTree):z.shapeFlag&128?z.suspense.next():p(z.anchor||z.el),We=(z,V,w)=>{z==null?V._vnode&&Q(V._vnode,null,null,!0):y(V._vnode||null,z,V,null,null,null,w),sg(),Lw(),V._vnode=z},je={p:y,um:Q,m:J,r:ve,mt:T,mc:te,pc:ce,pbc:Z,n:ut,o:t};let Ke,Xe;return e&&([Ke,Xe]=e(je)),{render:We,hydrate:Ke,createApp:_E(We,Ke)}}function fs({effect:t,update:e},n){t.allowRecurse=e.allowRecurse=n}function Hf(t,e,n=!1){const r=t.children,i=e.children;if(Ue(r)&&Ue(i))for(let s=0;s<r.length;s++){const o=r[s];let a=i[s];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=i[s]=Di(i[s]),a.el=o.el),n||Hf(o,a)),a.type===Sc&&(a.el=o.el)}}function AE(t){const e=t.slice(),n=[0];let r,i,s,o,a;const l=t.length;for(r=0;r<l;r++){const u=t[r];if(u!==0){if(i=n[n.length-1],t[i]<u){e[r]=i,n.push(r);continue}for(s=0,o=n.length-1;s<o;)a=s+o>>1,t[n[a]]<u?s=a+1:o=a;u<t[n[s]]&&(s>0&&(e[r]=n[s-1]),n[s]=r)}}for(s=n.length,o=n[s-1];s-- >0;)n[s]=o,o=e[o];return n}const xE=t=>t.__isTeleport,xa=t=>t&&(t.disabled||t.disabled===""),mg=t=>typeof SVGElement<"u"&&t instanceof SVGElement,zd=(t,e)=>{const n=t&&t.to;return _n(n)?e?e(n):null:n},CE={__isTeleport:!0,process(t,e,n,r,i,s,o,a,l,u){const{mc:d,pc:f,pbc:p,o:{insert:m,querySelector:b,createText:y,createComment:A}}=u,I=xa(e.props);let{shapeFlag:x,children:R,dynamicChildren:P}=e;if(t==null){const B=e.el=y(""),G=e.anchor=y("");m(B,n,r),m(G,n,r);const F=e.target=zd(e.props,b),te=e.targetAnchor=y("");F&&(m(te,F),o=o||mg(F));const ee=(Z,ae)=>{x&16&&d(R,Z,ae,i,s,o,a,l)};I?ee(n,G):F&&ee(F,te)}else{e.el=t.el;const B=e.anchor=t.anchor,G=e.target=t.target,F=e.targetAnchor=t.targetAnchor,te=xa(t.props),ee=te?n:G,Z=te?B:F;if(o=o||mg(G),P?(p(t.dynamicChildren,P,ee,i,s,o,a),Hf(t,e,!0)):l||f(t,e,ee,Z,i,s,o,a,!1),I)te||cu(e,n,B,u,1);else if((e.props&&e.props.to)!==(t.props&&t.props.to)){const ae=e.target=zd(e.props,b);ae&&cu(e,ae,null,u,0)}else te&&cu(e,G,F,u,1)}Jw(e)},remove(t,e,n,r,{um:i,o:{remove:s}},o){const{shapeFlag:a,children:l,anchor:u,targetAnchor:d,target:f,props:p}=t;if(f&&s(d),(o||!xa(p))&&(s(u),a&16))for(let m=0;m<l.length;m++){const b=l[m];i(b,e,n,!0,!!b.dynamicChildren)}},move:cu,hydrate:SE};function cu(t,e,n,{o:{insert:r},m:i},s=2){s===0&&r(t.targetAnchor,e,n);const{el:o,anchor:a,shapeFlag:l,children:u,props:d}=t,f=s===2;if(f&&r(o,e,n),(!f||xa(d))&&l&16)for(let p=0;p<u.length;p++)i(u[p],e,n,2);f&&r(a,e,n)}function SE(t,e,n,r,i,s,{o:{nextSibling:o,parentNode:a,querySelector:l}},u){const d=e.target=zd(e.props,l);if(d){const f=d._lpa||d.firstChild;if(e.shapeFlag&16)if(xa(e.props))e.anchor=u(o(t),e,a(t),n,r,i,s),e.targetAnchor=f;else{e.anchor=o(t);let p=f;for(;p;)if(p=o(p),p&&p.nodeType===8&&p.data==="teleport anchor"){e.targetAnchor=p,d._lpa=e.targetAnchor&&o(e.targetAnchor);break}u(f,e,d,n,r,i,s)}Jw(e)}return e.anchor&&o(e.anchor)}const RE=CE;function Jw(t){const e=t.ctx;if(e&&e.ut){let n=t.children[0].el;for(;n!==t.targetAnchor;)n.nodeType===1&&n.setAttribute("data-v-owner",e.uid),n=n.nextSibling;e.ut()}}const ln=Symbol.for("v-fgt"),Sc=Symbol.for("v-txt"),Ps=Symbol.for("v-cmt"),Pu=Symbol.for("v-stc"),Ca=[];let Er=null;function Ae(t=!1){Ca.push(Er=t?null:[])}function PE(){Ca.pop(),Er=Ca[Ca.length-1]||null}let Ba=1;function gg(t){Ba+=t}function ev(t){return t.dynamicChildren=Ba>0?Er||wo:null,PE(),Ba>0&&Er&&Er.push(t),t}function De(t,e,n,r,i,s){return ev(N(t,e,n,r,i,s,!0))}function Br(t,e,n,r,i){return ev(bn(t,e,n,r,i,!0))}function DE(t){return t?t.__v_isVNode===!0:!1}function ua(t,e){return t.type===e.type&&t.key===e.key}const Rc="__vInternal",tv=({key:t})=>t??null,Du=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?_n(t)||Fn(t)||at(t)?{i:kr,r:t,k:e,f:!!n}:t:null);function N(t,e=null,n=null,r=0,i=null,s=t===ln?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&tv(e),ref:e&&Du(e),scopeId:Fw,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:r,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:kr};return a?(Wf(l,n),s&128&&t.normalize(l)):n&&(l.shapeFlag|=_n(n)?8:16),Ba>0&&!o&&Er&&(l.patchFlag>0||s&6)&&l.patchFlag!==32&&Er.push(l),l}const bn=OE;function OE(t,e=null,n=null,r=0,i=null,s=!1){if((!t||t===uE)&&(t=Ps),DE(t)){const a=Po(t,e,!0);return n&&Wf(a,n),Ba>0&&!s&&Er&&(a.shapeFlag&6?Er[Er.indexOf(t)]=a:Er.push(a)),a.patchFlag|=-2,a}if(jE(t)&&(t=t.__vccOpts),e){e=NE(e);let{class:a,style:l}=e;a&&!_n(a)&&(e.class=Pf(a)),Qt(l)&&(Sw(l)&&!Ue(l)&&(l=Pn({},l)),e.style=Ss(l))}const o=_n(t)?1:Qk(t)?128:xE(t)?64:Qt(t)?4:at(t)?2:0;return N(t,e,n,r,i,o,s,!0)}function NE(t){return t?Sw(t)||Rc in t?Pn({},t):t:null}function Po(t,e,n=!1){const{props:r,ref:i,patchFlag:s,children:o}=t,a=e?ME(r||{},e):r;return{__v_isVNode:!0,__v_skip:!0,type:t.type,props:a,key:a&&tv(a),ref:e&&e.ref?n&&i?Ue(i)?i.concat(Du(e)):[i,Du(e)]:Du(e):i,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:o,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==ln?s===-1?16:s|16:s,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:t.transition,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Po(t.ssContent),ssFallback:t.ssFallback&&Po(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce}}function ys(t=" ",e=0){return bn(Sc,null,t,e)}function nv(t,e){const n=bn(Pu,null,t);return n.staticCount=e,n}function xt(t="",e=!1){return e?(Ae(),Br(Ps,null,t)):bn(Ps,null,t)}function Fr(t){return t==null||typeof t=="boolean"?bn(Ps):Ue(t)?bn(ln,null,t.slice()):typeof t=="object"?Di(t):bn(Sc,null,String(t))}function Di(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:Po(t)}function Wf(t,e){let n=0;const{shapeFlag:r}=t;if(e==null)e=null;else if(Ue(e))n=16;else if(typeof e=="object")if(r&65){const i=e.default;i&&(i._c&&(i._d=!1),Wf(t,i()),i._c&&(i._d=!0));return}else{n=32;const i=e._;!i&&!(Rc in e)?e._ctx=kr:i===3&&kr&&(kr.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else at(e)?(e={default:e,_ctx:kr},n=32):(e=String(e),r&64?(n=16,e=[ys(e)]):n=8);t.children=e,t.shapeFlag|=n}function ME(...t){const e={};for(let n=0;n<t.length;n++){const r=t[n];for(const i in r)if(i==="class")e.class!==r.class&&(e.class=Pf([e.class,r.class]));else if(i==="style")e.style=Ss([e.style,r.style]);else if(Ec(i)){const s=e[i],o=r[i];o&&s!==o&&!(Ue(s)&&s.includes(o))&&(e[i]=s?[].concat(s,o):o)}else i!==""&&(e[i]=r[i])}return e}function Vr(t,e,n,r=null){Ir(t,e,7,[n,r])}const LE=Kw();let VE=0;function UE(t,e,n){const r=t.type,i=(e?e.appContext:t.appContext)||LE,s={uid:VE++,vnode:t,type:r,parent:e,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,scope:new rk(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(i.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Qw(r,i),emitsOptions:Uw(r,i),emit:null,emitted:null,propsDefaults:Kt,inheritAttrs:r.inheritAttrs,ctx:Kt,data:Kt,props:Kt,attrs:Kt,slots:Kt,refs:Kt,setupState:Kt,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx={_:s},s.root=e?e.root:s,s.emit=jk.bind(null,s),t.ce&&t.ce(s),s}let Vn=null,Kf,uo,_g="__VUE_INSTANCE_SETTERS__";(uo=Pd()[_g])||(uo=Pd()[_g]=[]),uo.push(t=>Vn=t),Kf=t=>{uo.length>1?uo.forEach(e=>e(t)):uo[0](t)};const Do=t=>{Kf(t),t.scope.on()},Is=()=>{Vn&&Vn.scope.off(),Kf(null)};function rv(t){return t.vnode.shapeFlag&4}let za=!1;function FE(t,e=!1){za=e;const{props:n,children:r}=t.vnode,i=rv(t);vE(t,n,i,e),kE(t,r);const s=i?$E(t,e):void 0;return za=!1,s}function $E(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=Rw(new Proxy(t.ctx,cE));const{setup:r}=n;if(r){const i=t.setupContext=r.length>1?zE(t):null;Do(t),Ko();const s=Bi(r,t,0,[t.props,i]);if(Go(),Is(),dw(s)){if(s.then(Is,Is),e)return s.then(o=>{wg(t,o,e)}).catch(o=>{Ac(o,t,0)});t.asyncDep=s}else wg(t,s,e)}else iv(t,e)}function wg(t,e,n){at(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:Qt(e)&&(t.setupState=Ow(e)),iv(t,n)}let vg;function iv(t,e,n){const r=t.type;if(!t.render){if(!e&&vg&&!r.render){const i=r.template||jf(t).template;if(i){const{isCustomElement:s,compilerOptions:o}=t.appContext.config,{delimiters:a,compilerOptions:l}=r,u=Pn(Pn({isCustomElement:s,delimiters:a},o),l);r.render=vg(i,u)}}t.render=r.render||Tr}Do(t),Ko(),hE(t),Go(),Is()}function BE(t){return t.attrsProxy||(t.attrsProxy=new Proxy(t.attrs,{get(e,n){return ir(t,"get","$attrs"),e[n]}}))}function zE(t){const e=n=>{t.exposed=n||{}};return{get attrs(){return BE(t)},slots:t.slots,emit:t.emit,expose:e}}function Pc(t){if(t.exposed)return t.exposeProxy||(t.exposeProxy=new Proxy(Ow(Rw(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in Aa)return Aa[n](t)},has(e,n){return n in e||n in Aa}}))}function jE(t){return at(t)&&"__vccOpts"in t}const qE=(t,e)=>Vk(t,e,za),HE=Symbol.for("v-scx"),WE=()=>Ru(HE),KE="3.3.4",GE="http://www.w3.org/2000/svg",_s=typeof document<"u"?document:null,yg=_s&&_s.createElement("template"),QE={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,r)=>{const i=e?_s.createElementNS(GE,t):_s.createElement(t,n?{is:n}:void 0);return t==="select"&&r&&r.multiple!=null&&i.setAttribute("multiple",r.multiple),i},createText:t=>_s.createTextNode(t),createComment:t=>_s.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>_s.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,r,i,s){const o=n?n.previousSibling:e.lastChild;if(i&&(i===s||i.nextSibling))for(;e.insertBefore(i.cloneNode(!0),n),!(i===s||!(i=i.nextSibling)););else{yg.innerHTML=r?`<svg>${t}</svg>`:t;const a=yg.content;if(r){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}e.insertBefore(a,n)}return[o?o.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}};function YE(t,e,n){const r=t._vtc;r&&(e=(e?[e,...r]:[...r]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}function XE(t,e,n){const r=t.style,i=_n(n);if(n&&!i){if(e&&!_n(e))for(const s in e)n[s]==null&&jd(r,s,"");for(const s in n)jd(r,s,n[s])}else{const s=r.display;i?e!==n&&(r.cssText=n):e&&t.removeAttribute("style"),"_vod"in t&&(r.display=s)}}const bg=/\s*!important$/;function jd(t,e,n){if(Ue(n))n.forEach(r=>jd(t,e,r));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const r=ZE(t,e);bg.test(n)?t.setProperty(Wo(r),n.replace(bg,""),"important"):t[r]=n}}const kg=["Webkit","Moz","ms"],Gh={};function ZE(t,e){const n=Gh[e];if(n)return n;let r=So(e);if(r!=="filter"&&r in t)return Gh[e]=r;r=mw(r);for(let i=0;i<kg.length;i++){const s=kg[i]+r;if(s in t)return Gh[e]=s}return e}const Eg="http://www.w3.org/1999/xlink";function JE(t,e,n,r,i){if(r&&e.startsWith("xlink:"))n==null?t.removeAttributeNS(Eg,e.slice(6,e.length)):t.setAttributeNS(Eg,e,n);else{const s=tk(e);n==null||s&&!gw(n)?t.removeAttribute(e):t.setAttribute(e,s?"":n)}}function eT(t,e,n,r,i,s,o){if(e==="innerHTML"||e==="textContent"){r&&o(r,i,s),t[e]=n??"";return}const a=t.tagName;if(e==="value"&&a!=="PROGRESS"&&!a.includes("-")){t._value=n;const u=a==="OPTION"?t.getAttribute("value"):t.value,d=n??"";u!==d&&(t.value=d),n==null&&t.removeAttribute(e);return}let l=!1;if(n===""||n==null){const u=typeof t[e];u==="boolean"?n=gw(n):n==null&&u==="string"?(n="",l=!0):u==="number"&&(n=0,l=!0)}try{t[e]=n}catch{}l&&t.removeAttribute(e)}function Oi(t,e,n,r){t.addEventListener(e,n,r)}function tT(t,e,n,r){t.removeEventListener(e,n,r)}function nT(t,e,n,r,i=null){const s=t._vei||(t._vei={}),o=s[e];if(r&&o)o.value=r;else{const[a,l]=rT(e);if(r){const u=s[e]=oT(r,i);Oi(t,a,u,l)}else o&&(tT(t,a,o,l),s[e]=void 0)}}const Tg=/(?:Once|Passive|Capture)$/;function rT(t){let e;if(Tg.test(t)){e={};let r;for(;r=t.match(Tg);)t=t.slice(0,t.length-r[0].length),e[r[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):Wo(t.slice(2)),e]}let Qh=0;const iT=Promise.resolve(),sT=()=>Qh||(iT.then(()=>Qh=0),Qh=Date.now());function oT(t,e){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;Ir(aT(r,n.value),e,5,[r])};return n.value=t,n.attached=sT(),n}function aT(t,e){if(Ue(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(r=>i=>!i._stopped&&r&&r(i))}else return e}const Ig=/^on[a-z]/,lT=(t,e,n,r,i=!1,s,o,a,l)=>{e==="class"?YE(t,r,i):e==="style"?XE(t,n,r):Ec(e)?Cf(e)||nT(t,e,n,r,o):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):uT(t,e,r,i))?eT(t,e,r,s,o,a,l):(e==="true-value"?t._trueValue=r:e==="false-value"&&(t._falseValue=r),JE(t,e,r,i))};function uT(t,e,n,r){return r?!!(e==="innerHTML"||e==="textContent"||e in t&&Ig.test(e)&&at(n)):e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA"||Ig.test(e)&&_n(n)?!1:e in t}const Oo=t=>{const e=t.props["onUpdate:modelValue"]||!1;return Ue(e)?n=>Cu(e,n):e};function cT(t){t.target.composing=!0}function Ag(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const Lt={created(t,{modifiers:{lazy:e,trim:n,number:r}},i){t._assign=Oo(i);const s=r||i.props&&i.props.type==="number";Oi(t,e?"change":"input",o=>{if(o.target.composing)return;let a=t.value;n&&(a=a.trim()),s&&(a=qu(a)),t._assign(a)}),n&&Oi(t,"change",()=>{t.value=t.value.trim()}),e||(Oi(t,"compositionstart",cT),Oi(t,"compositionend",Ag),Oi(t,"change",Ag))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,modifiers:{lazy:n,trim:r,number:i}},s){if(t._assign=Oo(s),t.composing||document.activeElement===t&&t.type!=="range"&&(n||r&&t.value.trim()===e||(i||t.type==="number")&&qu(t.value)===e))return;const o=e??"";t.value!==o&&(t.value=o)}},ei={deep:!0,created(t,e,n){t._assign=Oo(n),Oi(t,"change",()=>{const r=t._modelValue,i=ja(t),s=t.checked,o=t._assign;if(Ue(r)){const a=Df(r,i),l=a!==-1;if(s&&!l)o(r.concat(i));else if(!s&&l){const u=[...r];u.splice(a,1),o(u)}}else if(Ho(r)){const a=new Set(r);s?a.add(i):a.delete(i),o(a)}else o(sv(t,s))})},mounted:xg,beforeUpdate(t,e,n){t._assign=Oo(n),xg(t,e,n)}};function xg(t,{value:e,oldValue:n},r){t._modelValue=e,Ue(e)?t.checked=Df(e,r.props.value)>-1:Ho(e)?t.checked=e.has(r.props.value):e!==n&&(t.checked=hl(e,sv(t,!0)))}const ws={deep:!0,created(t,{value:e,modifiers:{number:n}},r){const i=Ho(e);Oi(t,"change",()=>{const s=Array.prototype.filter.call(t.options,o=>o.selected).map(o=>n?qu(ja(o)):ja(o));t._assign(t.multiple?i?new Set(s):s:s[0])}),t._assign=Oo(r)},mounted(t,{value:e}){Cg(t,e)},beforeUpdate(t,e,n){t._assign=Oo(n)},updated(t,{value:e}){Cg(t,e)}};function Cg(t,e){const n=t.multiple;if(!(n&&!Ue(e)&&!Ho(e))){for(let r=0,i=t.options.length;r<i;r++){const s=t.options[r],o=ja(s);if(n)Ue(e)?s.selected=Df(e,o)>-1:s.selected=e.has(o);else if(hl(ja(s),e)){t.selectedIndex!==r&&(t.selectedIndex=r);return}}!n&&t.selectedIndex!==-1&&(t.selectedIndex=-1)}}function ja(t){return"_value"in t?t._value:t.value}function sv(t,e){const n=e?"_trueValue":"_falseValue";return n in t?t[n]:e}const hT=["ctrl","shift","alt","meta"],dT={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>hT.some(n=>t[`${n}Key`]&&!e.includes(n))},Yh=(t,e)=>(n,...r)=>{for(let i=0;i<e.length;i++){const s=dT[e[i]];if(s&&s(n,e))return}return t(n,...r)},fT=Pn({patchProp:lT},QE);let Sg;function pT(){return Sg||(Sg=TE(fT))}const mT=(...t)=>{const e=pT().createApp(...t),{mount:n}=e;return e.mount=r=>{const i=gT(r);if(!i)return;const s=e._component;!at(s)&&!s.render&&!s.template&&(s.template=i.innerHTML),i.innerHTML="";const o=n(i,!1,i instanceof SVGElement);return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),o},e};function gT(t){return _n(t)?document.querySelector(t):t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ov=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},_T=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},av={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,d=s>>2,f=(s&3)<<4|a>>4;let p=(a&15)<<2|u>>6,m=u&63;l||(m=64,o||(p=64)),r.push(n[d],n[f],n[p],n[m])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(ov(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):_T(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const f=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||u==null||f==null)throw new wT;const p=s<<2|a>>4;if(r.push(p),u!==64){const m=a<<4&240|u>>2;if(r.push(m),f!==64){const b=u<<6&192|f;r.push(b)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class wT extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const vT=function(t){const e=ov(t);return av.encodeByteArray(e,!0)},Qu=function(t){return vT(t).replace(/\./g,"")},lv=function(t){try{return av.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yT(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bT=()=>yT().__FIREBASE_DEFAULTS__,kT=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},ET=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&lv(t[1]);return e&&JSON.parse(e)},Gf=()=>{try{return bT()||kT()||ET()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},uv=t=>{var e,n;return(n=(e=Gf())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},TT=t=>{const e=uv(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},cv=()=>{var t;return(t=Gf())===null||t===void 0?void 0:t.config},hv=t=>{var e;return(e=Gf())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IT{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AT(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t),a="";return[Qu(JSON.stringify(n)),Qu(JSON.stringify(o)),a].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function xT(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(jn())}function CT(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function ST(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function RT(){const t=jn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function PT(){try{return typeof indexedDB=="object"}catch{return!1}}function DT(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OT="FirebaseError";class bi extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=OT,Object.setPrototypeOf(this,bi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,dl.prototype.create)}}class dl{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?NT(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new bi(i,a,r)}}function NT(t,e){return t.replace(MT,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const MT=/\{\$([^}]+)}/g;function LT(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Yu(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(Rg(s)&&Rg(o)){if(!Yu(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Rg(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fl(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function va(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function ya(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function VT(t,e){const n=new UT(t,e);return n.subscribe.bind(n)}class UT{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");FT(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Xh),i.error===void 0&&(i.error=Xh),i.complete===void 0&&(i.complete=Xh);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function FT(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Xh(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zt(t){return t&&t._delegate?t._delegate:t}class Ds{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ps="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $T{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new IT;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(zT(e))try{this.getOrInitializeService({instanceIdentifier:ps})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=ps){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ps){return this.instances.has(e)}getOptions(e=ps){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:BT(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ps){return this.component?this.component.multipleInstances?e:ps:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function BT(t){return t===ps?void 0:t}function zT(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jT{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new $T(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _t;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(_t||(_t={}));const qT={debug:_t.DEBUG,verbose:_t.VERBOSE,info:_t.INFO,warn:_t.WARN,error:_t.ERROR,silent:_t.SILENT},HT=_t.INFO,WT={[_t.DEBUG]:"log",[_t.VERBOSE]:"log",[_t.INFO]:"info",[_t.WARN]:"warn",[_t.ERROR]:"error"},KT=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=WT[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Qf{constructor(e){this.name=e,this._logLevel=HT,this._logHandler=KT,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in _t))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?qT[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,_t.DEBUG,...e),this._logHandler(this,_t.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,_t.VERBOSE,...e),this._logHandler(this,_t.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,_t.INFO,...e),this._logHandler(this,_t.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,_t.WARN,...e),this._logHandler(this,_t.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,_t.ERROR,...e),this._logHandler(this,_t.ERROR,...e)}}const GT=(t,e)=>e.some(n=>t instanceof n);let Pg,Dg;function QT(){return Pg||(Pg=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function YT(){return Dg||(Dg=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const dv=new WeakMap,qd=new WeakMap,fv=new WeakMap,Zh=new WeakMap,Yf=new WeakMap;function XT(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(zi(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&dv.set(n,t)}).catch(()=>{}),Yf.set(e,t),e}function ZT(t){if(qd.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});qd.set(t,e)}let Hd={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return qd.get(t);if(e==="objectStoreNames")return t.objectStoreNames||fv.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return zi(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function JT(t){Hd=t(Hd)}function e2(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Jh(this),e,...n);return fv.set(r,e.sort?e.sort():[e]),zi(r)}:YT().includes(t)?function(...e){return t.apply(Jh(this),e),zi(dv.get(this))}:function(...e){return zi(t.apply(Jh(this),e))}}function t2(t){return typeof t=="function"?e2(t):(t instanceof IDBTransaction&&ZT(t),GT(t,QT())?new Proxy(t,Hd):t)}function zi(t){if(t instanceof IDBRequest)return XT(t);if(Zh.has(t))return Zh.get(t);const e=t2(t);return e!==t&&(Zh.set(t,e),Yf.set(e,t)),e}const Jh=t=>Yf.get(t);function n2(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=zi(o);return r&&o.addEventListener("upgradeneeded",l=>{r(zi(o.result),l.oldVersion,l.newVersion,zi(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const r2=["get","getKey","getAll","getAllKeys","count"],i2=["put","add","delete","clear"],ed=new Map;function Og(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(ed.get(e))return ed.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=i2.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||r2.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return ed.set(e,s),s}JT(t=>({...t,get:(e,n,r)=>Og(e,n)||t.get(e,n,r),has:(e,n)=>!!Og(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s2{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(o2(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function o2(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Wd="@firebase/app",Ng="0.9.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Os=new Qf("@firebase/app"),a2="@firebase/app-compat",l2="@firebase/analytics-compat",u2="@firebase/analytics",c2="@firebase/app-check-compat",h2="@firebase/app-check",d2="@firebase/auth",f2="@firebase/auth-compat",p2="@firebase/database",m2="@firebase/database-compat",g2="@firebase/functions",_2="@firebase/functions-compat",w2="@firebase/installations",v2="@firebase/installations-compat",y2="@firebase/messaging",b2="@firebase/messaging-compat",k2="@firebase/performance",E2="@firebase/performance-compat",T2="@firebase/remote-config",I2="@firebase/remote-config-compat",A2="@firebase/storage",x2="@firebase/storage-compat",C2="@firebase/firestore",S2="@firebase/firestore-compat",R2="firebase",P2="10.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kd="[DEFAULT]",D2={[Wd]:"fire-core",[a2]:"fire-core-compat",[u2]:"fire-analytics",[l2]:"fire-analytics-compat",[h2]:"fire-app-check",[c2]:"fire-app-check-compat",[d2]:"fire-auth",[f2]:"fire-auth-compat",[p2]:"fire-rtdb",[m2]:"fire-rtdb-compat",[g2]:"fire-fn",[_2]:"fire-fn-compat",[w2]:"fire-iid",[v2]:"fire-iid-compat",[y2]:"fire-fcm",[b2]:"fire-fcm-compat",[k2]:"fire-perf",[E2]:"fire-perf-compat",[T2]:"fire-rc",[I2]:"fire-rc-compat",[A2]:"fire-gcs",[x2]:"fire-gcs-compat",[C2]:"fire-fst",[S2]:"fire-fst-compat","fire-js":"fire-js",[R2]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xu=new Map,Gd=new Map;function O2(t,e){try{t.container.addComponent(e)}catch(n){Os.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function No(t){const e=t.name;if(Gd.has(e))return Os.debug(`There were multiple attempts to register component ${e}.`),!1;Gd.set(e,t);for(const n of Xu.values())O2(n,t);return!0}function Xf(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},ji=new dl("app","Firebase",N2);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M2{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ds("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ji.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qo=P2;function pv(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Kd,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw ji.create("bad-app-name",{appName:String(i)});if(n||(n=cv()),!n)throw ji.create("no-options");const s=Xu.get(i);if(s){if(Yu(n,s.options)&&Yu(r,s.config))return s;throw ji.create("duplicate-app",{appName:i})}const o=new jT(i);for(const l of Gd.values())o.addComponent(l);const a=new M2(n,r,o);return Xu.set(i,a),a}function mv(t=Kd){const e=Xu.get(t);if(!e&&t===Kd&&cv())return pv();if(!e)throw ji.create("no-app",{appName:t});return e}function qi(t,e,n){var r;let i=(r=D2[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Os.warn(a.join(" "));return}No(new Ds(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L2="firebase-heartbeat-database",V2=1,qa="firebase-heartbeat-store";let td=null;function gv(){return td||(td=n2(L2,V2,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(qa)}}}).catch(t=>{throw ji.create("idb-open",{originalErrorMessage:t.message})})),td}async function U2(t){try{return await(await gv()).transaction(qa).objectStore(qa).get(_v(t))}catch(e){if(e instanceof bi)Os.warn(e.message);else{const n=ji.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Os.warn(n.message)}}}async function Mg(t,e){try{const r=(await gv()).transaction(qa,"readwrite");await r.objectStore(qa).put(e,_v(t)),await r.done}catch(n){if(n instanceof bi)Os.warn(n.message);else{const r=ji.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Os.warn(r.message)}}}function _v(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F2=1024,$2=30*24*60*60*1e3;class B2{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new j2(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Lg();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(i=>{const s=new Date(i.date).valueOf();return Date.now()-s<=$2}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Lg(),{heartbeatsToSend:n,unsentEntries:r}=z2(this._heartbeatsCache.heartbeats),i=Qu(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function Lg(){return new Date().toISOString().substring(0,10)}function z2(t,e=F2){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),Vg(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Vg(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class j2{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return PT()?DT().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await U2(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Mg(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Mg(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function Vg(t){return Qu(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q2(t){No(new Ds("platform-logger",e=>new s2(e),"PRIVATE")),No(new Ds("heartbeat",e=>new B2(e),"PRIVATE")),qi(Wd,Ng,t),qi(Wd,Ng,"esm2017"),qi("fire-js","")}q2("");function Zf(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function Ug(t){return t!==void 0&&t.enterprise!==void 0}class H2{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(n=>n.provider==="EMAIL_PASSWORD_PROVIDER"&&n.enforcementState!=="OFF")}}function wv(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const W2=wv,vv=new dl("auth","Firebase",wv());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zu=new Qf("@firebase/auth");function K2(t,...e){Zu.logLevel<=_t.WARN&&Zu.warn(`Auth (${Qo}): ${t}`,...e)}function Ou(t,...e){Zu.logLevel<=_t.ERROR&&Zu.error(`Auth (${Qo}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ar(t,...e){throw Jf(t,...e)}function Gr(t,...e){return Jf(t,...e)}function G2(t,e,n){const r=Object.assign(Object.assign({},W2()),{[e]:n});return new dl("auth","Firebase",r).create(e,{appName:t.name})}function Jf(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return vv.create(t,...e)}function $e(t,e,...n){if(!t)throw Jf(e,...n)}function di(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Ou(e),new Error(e)}function gi(t,e){t||di(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qd(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function Q2(){return Fg()==="http:"||Fg()==="https:"}function Fg(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y2(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Q2()||CT()||"connection"in navigator)?navigator.onLine:!0}function X2(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pl{constructor(e,n){this.shortDelay=e,this.longDelay=n,gi(n>e,"Short delay should be less than long delay!"),this.isMobile=xT()||ST()}get(){return Y2()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ep(t,e){gi(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yv{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;di("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;di("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;di("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z2={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J2=new pl(3e4,6e4);function Yi(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function ki(t,e,n,r,i={}){return bv(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=fl(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),yv.fetch()(kv(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},s))})}async function bv(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},Z2),e);try{const i=new eI(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw hu(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw hu(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw hu(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw hu(t,"user-disabled",o);const d=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw G2(t,d,u);Ar(t,d)}}catch(i){if(i instanceof bi)throw i;Ar(t,"network-request-failed",{message:String(i)})}}async function ml(t,e,n,r,i={}){const s=await ki(t,e,n,r,i);return"mfaPendingCredential"in s&&Ar(t,"multi-factor-auth-required",{_serverResponse:s}),s}function kv(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?ep(t.config,i):`${t.config.apiScheme}://${i}`}class eI{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Gr(this.auth,"network-request-failed")),J2.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function hu(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Gr(t,e,r);return i.customData._tokenResponse=n,i}async function tI(t,e){return ki(t,"GET","/v2/recaptchaConfig",Yi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nI(t,e){return ki(t,"POST","/v1/accounts:delete",e)}async function rI(t,e){return ki(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sa(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function iI(t,e=!1){const n=Zt(t),r=await n.getIdToken(e),i=tp(r);$e(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Sa(nd(i.auth_time)),issuedAtTime:Sa(nd(i.iat)),expirationTime:Sa(nd(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function nd(t){return Number(t)*1e3}function tp(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Ou("JWT malformed, contained fewer than 3 sections"),null;try{const i=lv(n);return i?JSON.parse(i):(Ou("Failed to decode base64 JWT payload"),null)}catch(i){return Ou("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function sI(t){const e=tp(t);return $e(e,"internal-error"),$e(typeof e.exp<"u","internal-error"),$e(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ns(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof bi&&oI(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function oI({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aI{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ev{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Sa(this.lastLoginAt),this.creationTime=Sa(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ju(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Ns(t,rI(n,{idToken:r}));$e(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?cI(s.providerUserInfo):[],a=uI(t.providerData,o),l=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),d=l?u:!1,f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Ev(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(t,f)}async function lI(t){const e=Zt(t);await Ju(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function uI(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function cI(t){return t.map(e=>{var{providerId:n}=e,r=Zf(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hI(t,e){const n=await bv(t,{},async()=>{const r=fl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=kv(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",yv.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ha{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){$e(e.idToken,"internal-error"),$e(typeof e.idToken<"u","internal-error"),$e(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):sI(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return $e(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await hI(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new Ha;return r&&($e(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&($e(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&($e(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ha,this.toJSON())}_performRefresh(){return di("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pi(t,e){$e(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class As{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=Zf(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new aI(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Ev(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Ns(this,this.stsTokenManager.getToken(this.auth,e));return $e(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return iI(this,e)}reload(){return lI(this)}_assign(e){this!==e&&($e(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new As(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){$e(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Ju(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await Ns(this,nI(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,u,d;const f=(r=n.displayName)!==null&&r!==void 0?r:void 0,p=(i=n.email)!==null&&i!==void 0?i:void 0,m=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,b=(o=n.photoURL)!==null&&o!==void 0?o:void 0,y=(a=n.tenantId)!==null&&a!==void 0?a:void 0,A=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,I=(u=n.createdAt)!==null&&u!==void 0?u:void 0,x=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:R,emailVerified:P,isAnonymous:B,providerData:G,stsTokenManager:F}=n;$e(R&&F,e,"internal-error");const te=Ha.fromJSON(this.name,F);$e(typeof R=="string",e,"internal-error"),Pi(f,e.name),Pi(p,e.name),$e(typeof P=="boolean",e,"internal-error"),$e(typeof B=="boolean",e,"internal-error"),Pi(m,e.name),Pi(b,e.name),Pi(y,e.name),Pi(A,e.name),Pi(I,e.name),Pi(x,e.name);const ee=new As({uid:R,auth:e,email:p,emailVerified:P,displayName:f,isAnonymous:B,photoURL:b,phoneNumber:m,tenantId:y,stsTokenManager:te,createdAt:I,lastLoginAt:x});return G&&Array.isArray(G)&&(ee.providerData=G.map(Z=>Object.assign({},Z))),A&&(ee._redirectEventId=A),ee}static async _fromIdTokenResponse(e,n,r=!1){const i=new Ha;i.updateFromServerResponse(n);const s=new As({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Ju(s),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $g=new Map;function fi(t){gi(t instanceof Function,"Expected a class definition");let e=$g.get(t);return e?(gi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,$g.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tv{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Tv.type="NONE";const Bg=Tv;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nu(t,e,n){return`firebase:${t}:${e}:${n}`}class ko{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Nu(this.userKey,i.apiKey,s),this.fullPersistenceKey=Nu("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?As._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new ko(fi(Bg),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=i[0]||fi(Bg);const o=Nu(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const d=await u._get(o);if(d){const f=As._fromJSON(e,d);u!==s&&(a=f),s=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new ko(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==s)try{await u._remove(o)}catch{}})),new ko(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zg(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(xv(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Iv(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Sv(e))return"Blackberry";if(Rv(e))return"Webos";if(np(e))return"Safari";if((e.includes("chrome/")||Av(e))&&!e.includes("edge/"))return"Chrome";if(Cv(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function Iv(t=jn()){return/firefox\//i.test(t)}function np(t=jn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Av(t=jn()){return/crios\//i.test(t)}function xv(t=jn()){return/iemobile/i.test(t)}function Cv(t=jn()){return/android/i.test(t)}function Sv(t=jn()){return/blackberry/i.test(t)}function Rv(t=jn()){return/webos/i.test(t)}function Dc(t=jn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function dI(t=jn()){var e;return Dc(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function fI(){return RT()&&document.documentMode===10}function Pv(t=jn()){return Dc(t)||Cv(t)||Rv(t)||Sv(t)||/windows phone/i.test(t)||xv(t)}function pI(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dv(t,e=[]){let n;switch(t){case"Browser":n=zg(jn());break;case"Worker":n=`${zg(jn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Qo}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mI{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gI(t,e={}){return ki(t,"GET","/v2/passwordPolicy",Yi(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _I=6;class wI{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:_I,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vI{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new jg(this),this.idTokenSubscription=new jg(this),this.beforeStateQueue=new mI(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=vv,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=fi(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await ko.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return $e(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Ju(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=X2()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?Zt(e):null;return n&&$e(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&$e(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(fi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await gI(this),n=new wI(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new dl("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&fi(e)||this._popupRedirectResolver;$e(n,this,"argument-error"),this.redirectPersistenceManager=await ko.create(this,[fi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if($e(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return $e(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Dv(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&K2(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Xi(t){return Zt(t)}class jg{constructor(e){this.auth=e,this.observer=null,this.addObserver=VT(n=>this.observer=n)}get next(){return $e(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yI(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function Ov(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Gr("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",yI().appendChild(r)})}function bI(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const kI="https://www.google.com/recaptcha/enterprise.js?render=",EI="recaptcha-enterprise",TI="NO_RECAPTCHA";class II{constructor(e){this.type=EI,this.auth=Xi(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{tI(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new H2(l);return s.tenantId==null?s._agentRecaptchaConfig=u:s._tenantRecaptchaConfigs[s.tenantId]=u,o(u.siteKey)}}).catch(l=>{a(l)})})}function i(s,o,a){const l=window.grecaptcha;Ug(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(u=>{o(u)}).catch(()=>{o(TI)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&Ug(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}Ov(kI+a).then(()=>{i(a,s,o)}).catch(l=>{o(l)})}}).catch(a=>{o(a)})})}}async function Mo(t,e,n,r=!1){const i=new II(t);let s;try{s=await i.verify(n)}catch{s=await i.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AI(t,e){const n=Xf(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Yu(s,e??{}))return i;Ar(i,"already-initialized")}return n.initialize({options:e})}function xI(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(fi);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function CI(t,e,n){const r=Xi(t);$e(r._canInitEmulator,r,"emulator-config-failed"),$e(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),s=Nv(e),{host:o,port:a}=SI(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||RI()}function Nv(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function SI(t){const e=Nv(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:qg(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:qg(o)}}}function qg(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function RI(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rp{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return di("not implemented")}_getIdTokenResponse(e){return di("not implemented")}_linkToIdToken(e,n){return di("not implemented")}_getReauthenticationResolver(e){return di("not implemented")}}async function Mv(t,e){return ki(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rd(t,e){return ml(t,"POST","/v1/accounts:signInWithPassword",Yi(t,e))}async function PI(t,e){return ki(t,"POST","/v1/accounts:sendOobCode",Yi(t,e))}async function id(t,e){return PI(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DI(t,e){return ml(t,"POST","/v1/accounts:signInWithEmailLink",Yi(t,e))}async function OI(t,e){return ml(t,"POST","/v1/accounts:signInWithEmailLink",Yi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wa extends rp{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Wa(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Wa(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){var n;switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};if(!((n=e._getRecaptchaConfig())===null||n===void 0)&&n.emailPasswordEnabled){const i=await Mo(e,r,"signInWithPassword");return rd(e,i)}else return rd(e,r).catch(async i=>{if(i.code==="auth/missing-recaptcha-token"){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const s=await Mo(e,r,"signInWithPassword");return rd(e,s)}else return Promise.reject(i)});case"emailLink":return DI(e,{email:this._email,oobCode:this._password});default:Ar(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":return Mv(e,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return OI(e,{idToken:n,email:this._email,oobCode:this._password});default:Ar(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Eo(t,e){return ml(t,"POST","/v1/accounts:signInWithIdp",Yi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NI="http://localhost";class Ms extends rp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ms(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Ar("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=Zf(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new Ms(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Eo(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Eo(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Eo(e,n)}buildRequest(){const e={requestUri:NI,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=fl(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MI(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function LI(t){const e=va(ya(t)).link,n=e?va(ya(e)).deep_link_id:null,r=va(ya(t)).deep_link_id;return(r?va(ya(r)).link:null)||r||n||e||t}class ip{constructor(e){var n,r,i,s,o,a;const l=va(ya(e)),u=(n=l.apiKey)!==null&&n!==void 0?n:null,d=(r=l.oobCode)!==null&&r!==void 0?r:null,f=MI((i=l.mode)!==null&&i!==void 0?i:null);$e(u&&d&&f,"argument-error"),this.apiKey=u,this.operation=f,this.code=d,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=LI(e);try{return new ip(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yo{constructor(){this.providerId=Yo.PROVIDER_ID}static credential(e,n){return Wa._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=ip.parseLink(n);return $e(r,"argument-error"),Wa._fromEmailAndCode(e,r.code,r.tenantId)}}Yo.PROVIDER_ID="password";Yo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Yo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lv{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gl extends Lv{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ni extends gl{constructor(){super("facebook.com")}static credential(e){return Ms._fromParams({providerId:Ni.PROVIDER_ID,signInMethod:Ni.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ni.credentialFromTaggedObject(e)}static credentialFromError(e){return Ni.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ni.credential(e.oauthAccessToken)}catch{return null}}}Ni.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ni.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mi extends gl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ms._fromParams({providerId:Mi.PROVIDER_ID,signInMethod:Mi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Mi.credentialFromTaggedObject(e)}static credentialFromError(e){return Mi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Mi.credential(n,r)}catch{return null}}}Mi.GOOGLE_SIGN_IN_METHOD="google.com";Mi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Li extends gl{constructor(){super("github.com")}static credential(e){return Ms._fromParams({providerId:Li.PROVIDER_ID,signInMethod:Li.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Li.credentialFromTaggedObject(e)}static credentialFromError(e){return Li.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Li.credential(e.oauthAccessToken)}catch{return null}}}Li.GITHUB_SIGN_IN_METHOD="github.com";Li.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vi extends gl{constructor(){super("twitter.com")}static credential(e,n){return Ms._fromParams({providerId:Vi.PROVIDER_ID,signInMethod:Vi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Vi.credentialFromTaggedObject(e)}static credentialFromError(e){return Vi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Vi.credential(n,r)}catch{return null}}}Vi.TWITTER_SIGN_IN_METHOD="twitter.com";Vi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sd(t,e){return ml(t,"POST","/v1/accounts:signUp",Yi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ls{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await As._fromIdTokenResponse(e,r,i),o=Hg(r);return new Ls({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=Hg(r);return new Ls({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function Hg(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ec extends bi{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,ec.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new ec(e,n,r,i)}}function Vv(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?ec._fromErrorAndOperation(t,s,e,r):s})}async function VI(t,e,n=!1){const r=await Ns(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Ls._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UI(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const s=await Ns(t,Vv(r,i,e,t),n);$e(s.idToken,r,"internal-error");const o=tp(s.idToken);$e(o,r,"internal-error");const{sub:a}=o;return $e(t.uid===a,r,"user-mismatch"),Ls._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Ar(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Uv(t,e,n=!1){const r="signIn",i=await Vv(t,r,e),s=await Ls._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function FI(t,e){return Uv(Xi(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function od(t,e,n){var r;$e(((r=n.url)===null||r===void 0?void 0:r.length)>0,t,"invalid-continue-uri"),$e(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&($e(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&($e(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fv(t){const e=Xi(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function $I(t,e,n){var r;const i=Xi(t),s={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};if(!((r=i._getRecaptchaConfig())===null||r===void 0)&&r.emailPasswordEnabled){const o=await Mo(i,s,"getOobCode",!0);n&&od(i,o,n),await id(i,o)}else n&&od(i,s,n),await id(i,s).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const a=await Mo(i,s,"getOobCode",!0);n&&od(i,a,n),await id(i,a)}else return Promise.reject(o)})}async function BI(t,e,n){var r;const i=Xi(t),s={returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"};let o;if(!((r=i._getRecaptchaConfig())===null||r===void 0)&&r.emailPasswordEnabled){const u=await Mo(i,s,"signUpPassword");o=sd(i,u)}else o=sd(i,s).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const d=await Mo(i,s,"signUpPassword");return sd(i,d)}throw u});const a=await o.catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&Fv(t),u}),l=await Ls._fromIdTokenResponse(i,"signIn",a);return await i._updateCurrentUser(l.user),l}function zI(t,e,n){return FI(Zt(t),Yo.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&Fv(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jI(t,e){return ki(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $v(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=Zt(t),s={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},o=await Ns(r,jI(r.auth,s));r.displayName=o.displayName||null,r.photoURL=o.photoUrl||null;const a=r.providerData.find(({providerId:l})=>l==="password");a&&(a.displayName=r.displayName,a.photoURL=r.photoURL),await r._updateTokensIfNecessary(o)}function qI(t,e){return Bv(Zt(t),e,null)}function HI(t,e){return Bv(Zt(t),null,e)}async function Bv(t,e,n){const{auth:r}=t,s={idToken:await t.getIdToken(),returnSecureToken:!0};e&&(s.email=e),n&&(s.password=n);const o=await Ns(t,Mv(r,s));await t._updateTokensIfNecessary(o,!0)}function WI(t,e,n,r){return Zt(t).onIdTokenChanged(e,n,r)}function KI(t,e,n){return Zt(t).beforeAuthStateChanged(e,n)}function GI(t,e,n,r){return Zt(t).onAuthStateChanged(e,n,r)}function QI(t){return Zt(t).signOut()}async function YI(t){return Zt(t).delete()}const tc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zv{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(tc,"1"),this.storage.removeItem(tc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XI(){const t=jn();return np(t)||Dc(t)}const ZI=1e3,JI=10;class jv extends zv{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=XI()&&pI(),this.fallbackToPolling=Pv(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);fI()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,JI):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},ZI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}jv.type="LOCAL";const eA=jv;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qv extends zv{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}qv.type="SESSION";const Hv=qv;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tA(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oc{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Oc(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async u=>u(n.origin,s)),l=await tA(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Oc.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sp(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nA{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const u=sp("",20);i.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(f){const p=f;if(p.data.eventId===u)switch(p.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(p.data.response);break;default:clearTimeout(d),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qr(){return window}function rA(t){Qr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wv(){return typeof Qr().WorkerGlobalScope<"u"&&typeof Qr().importScripts=="function"}async function iA(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function sA(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function oA(){return Wv()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kv="firebaseLocalStorageDb",aA=1,nc="firebaseLocalStorage",Gv="fbase_key";class _l{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Nc(t,e){return t.transaction([nc],e?"readwrite":"readonly").objectStore(nc)}function lA(){const t=indexedDB.deleteDatabase(Kv);return new _l(t).toPromise()}function Yd(){const t=indexedDB.open(Kv,aA);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(nc,{keyPath:Gv})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(nc)?e(r):(r.close(),await lA(),e(await Yd()))})})}async function Wg(t,e,n){const r=Nc(t,!0).put({[Gv]:e,value:n});return new _l(r).toPromise()}async function uA(t,e){const n=Nc(t,!1).get(e),r=await new _l(n).toPromise();return r===void 0?null:r.value}function Kg(t,e){const n=Nc(t,!0).delete(e);return new _l(n).toPromise()}const cA=800,hA=3;class Qv{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Yd(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>hA)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Wv()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Oc._getInstance(oA()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await iA(),!this.activeServiceWorker)return;this.sender=new nA(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||sA()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Yd();return await Wg(e,tc,"1"),await Kg(e,tc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Wg(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>uA(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Kg(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=Nc(i,!1).getAll();return new _l(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),cA)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Qv.type="LOCAL";const dA=Qv;new pl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fA(t,e){return e?fi(e):($e(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class op extends rp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Eo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Eo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Eo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function pA(t){return Uv(t.auth,new op(t),t.bypassAuthState)}function mA(t){const{auth:e,user:n}=t;return $e(n,e,"internal-error"),UI(n,new op(t),t.bypassAuthState)}async function gA(t){const{auth:e,user:n}=t;return $e(n,e,"internal-error"),VI(n,new op(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yv{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return pA;case"linkViaPopup":case"linkViaRedirect":return gA;case"reauthViaPopup":case"reauthViaRedirect":return mA;default:Ar(this.auth,"internal-error")}}resolve(e){gi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){gi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _A=new pl(2e3,1e4);class go extends Yv{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,go.currentPopupAction&&go.currentPopupAction.cancel(),go.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return $e(e,this.auth,"internal-error"),e}async onExecution(){gi(this.filter.length===1,"Popup operations only handle one event");const e=sp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Gr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Gr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,go.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Gr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,_A.get())};e()}}go.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wA="pendingRedirect",Mu=new Map;class vA extends Yv{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Mu.get(this.auth._key());if(!e){try{const r=await yA(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Mu.set(this.auth._key(),e)}return this.bypassAuthState||Mu.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function yA(t,e){const n=EA(e),r=kA(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function bA(t,e){Mu.set(t._key(),e)}function kA(t){return fi(t._redirectPersistence)}function EA(t){return Nu(wA,t.config.apiKey,t.name)}async function TA(t,e,n=!1){const r=Xi(t),i=fA(r,e),o=await new vA(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IA=10*60*1e3;class AA{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!xA(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!Xv(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Gr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=IA&&this.cachedEventUids.clear(),this.cachedEventUids.has(Gg(e))}saveEventToCache(e){this.cachedEventUids.add(Gg(e)),this.lastProcessedEventTime=Date.now()}}function Gg(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function Xv({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function xA(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Xv(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CA(t,e={}){return ki(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SA=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,RA=/^https?/;async function PA(t){if(t.config.emulator)return;const{authorizedDomains:e}=await CA(t);for(const n of e)try{if(DA(n))return}catch{}Ar(t,"unauthorized-domain")}function DA(t){const e=Qd(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!RA.test(n))return!1;if(SA.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OA=new pl(3e4,6e4);function Qg(){const t=Qr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function NA(t){return new Promise((e,n)=>{var r,i,s;function o(){Qg(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Qg(),n(Gr(t,"network-request-failed"))},timeout:OA.get()})}if(!((i=(r=Qr().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=Qr().gapi)===null||s===void 0)&&s.load)o();else{const a=bI("iframefcb");return Qr()[a]=()=>{gapi.load?o():n(Gr(t,"network-request-failed"))},Ov(`https://apis.google.com/js/api.js?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Lu=null,e})}let Lu=null;function MA(t){return Lu=Lu||NA(t),Lu}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LA=new pl(5e3,15e3),VA="__/auth/iframe",UA="emulator/auth/iframe",FA={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},$A=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function BA(t){const e=t.config;$e(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?ep(e,UA):`https://${t.config.authDomain}/${VA}`,r={apiKey:e.apiKey,appName:t.name,v:Qo},i=$A.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${fl(r).slice(1)}`}async function zA(t){const e=await MA(t),n=Qr().gapi;return $e(n,t,"internal-error"),e.open({where:document.body,url:BA(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:FA,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=Gr(t,"network-request-failed"),a=Qr().setTimeout(()=>{s(o)},LA.get());function l(){Qr().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jA={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},qA=500,HA=600,WA="_blank",KA="http://localhost";class Yg{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function GA(t,e,n,r=qA,i=HA){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},jA),{width:r.toString(),height:i.toString(),top:s,left:o}),u=jn().toLowerCase();n&&(a=Av(u)?WA:n),Iv(u)&&(e=e||KA,l.scrollbars="yes");const d=Object.entries(l).reduce((p,[m,b])=>`${p}${m}=${b},`,"");if(dI(u)&&a!=="_self")return QA(e||"",a),new Yg(null);const f=window.open(e||"",a,d);$e(f,t,"popup-blocked");try{f.focus()}catch{}return new Yg(f)}function QA(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YA="__/auth/handler",XA="emulator/auth/handler",ZA=encodeURIComponent("fac");async function Xg(t,e,n,r,i,s){$e(t.config.authDomain,t,"auth-domain-config-required"),$e(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Qo,eventId:i};if(e instanceof Lv){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",LT(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,f]of Object.entries(s||{}))o[d]=f}if(e instanceof gl){const d=e.getScopes().filter(f=>f!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const d of Object.keys(a))a[d]===void 0&&delete a[d];const l=await t._getAppCheckToken(),u=l?`#${ZA}=${encodeURIComponent(l)}`:"";return`${JA(t)}?${fl(a).slice(1)}${u}`}function JA({config:t}){return t.emulator?ep(t,XA):`https://${t.authDomain}/${YA}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ad="webStorageSupport";class ex{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Hv,this._completeRedirectFn=TA,this._overrideRedirectResult=bA}async _openPopup(e,n,r,i){var s;gi((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await Xg(e,n,r,Qd(),i);return GA(e,o,sp())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await Xg(e,n,r,Qd(),i);return rA(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(gi(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await zA(e),r=new AA(e);return n.register("authEvent",i=>($e(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(ad,{type:ad},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[ad];o!==void 0&&n(!!o),Ar(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=PA(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Pv()||np()||Dc()}}const tx=ex;var Zg="@firebase/auth",Jg="1.3.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nx{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){$e(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rx(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function ix(t){No(new Ds("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;$e(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Dv(t)},u=new vI(r,i,s,l);return xI(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),No(new Ds("auth-internal",e=>{const n=Xi(e.getProvider("auth").getImmediate());return(r=>new nx(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),qi(Zg,Jg,rx(t)),qi(Zg,Jg,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sx=5*60,ox=hv("authIdTokenMaxAge")||sx;let e_=null;const ax=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>ox)return;const i=n==null?void 0:n.token;e_!==i&&(e_=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function lx(t=mv()){const e=Xf(t,"auth");if(e.isInitialized())return e.getImmediate();const n=AI(t,{popupRedirectResolver:tx,persistence:[dA,eA,Hv]}),r=hv("authTokenSyncURL");if(r){const s=ax(r);KI(n,s,()=>s(n.currentUser)),WI(n,o=>s(o))}const i=uv("auth");return i&&CI(n,`http://${i}`),n}ix("Browser");var ux=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},xe,ap=ap||{},Ye=ux||self;function Mc(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function wl(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function cx(t){return Object.prototype.hasOwnProperty.call(t,ld)&&t[ld]||(t[ld]=++hx)}var ld="closure_uid_"+(1e9*Math.random()>>>0),hx=0;function dx(t,e,n){return t.call.apply(t.bind,arguments)}function fx(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function $n(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?$n=dx:$n=fx,$n.apply(null,arguments)}function du(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function In(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function Zi(){this.s=this.s,this.o=this.o}var px=0;Zi.prototype.s=!1;Zi.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),px!=0)&&cx(this)};Zi.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Zv=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function lp(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function t_(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(Mc(r)){const i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function Bn(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Bn.prototype.h=function(){this.defaultPrevented=!0};var mx=function(){if(!Ye.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{Ye.addEventListener("test",()=>{},e),Ye.removeEventListener("test",()=>{},e)}catch{}return t}();function Ka(t){return/^[\s\xa0]*$/.test(t)}function Lc(){var t=Ye.navigator;return t&&(t=t.userAgent)?t:""}function zr(t){return Lc().indexOf(t)!=-1}function up(t){return up[" "](t),t}up[" "]=function(){};function gx(t,e){var n=lC;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var _x=zr("Opera"),Lo=zr("Trident")||zr("MSIE"),Jv=zr("Edge"),Xd=Jv||Lo,ey=zr("Gecko")&&!(Lc().toLowerCase().indexOf("webkit")!=-1&&!zr("Edge"))&&!(zr("Trident")||zr("MSIE"))&&!zr("Edge"),wx=Lc().toLowerCase().indexOf("webkit")!=-1&&!zr("Edge");function ty(){var t=Ye.document;return t?t.documentMode:void 0}var Zd;e:{var ud="",cd=function(){var t=Lc();if(ey)return/rv:([^\);]+)(\)|;)/.exec(t);if(Jv)return/Edge\/([\d\.]+)/.exec(t);if(Lo)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(wx)return/WebKit\/(\S+)/.exec(t);if(_x)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(cd&&(ud=cd?cd[1]:""),Lo){var hd=ty();if(hd!=null&&hd>parseFloat(ud)){Zd=String(hd);break e}}Zd=ud}var Jd;if(Ye.document&&Lo){var n_=ty();Jd=n_||parseInt(Zd,10)||void 0}else Jd=void 0;var vx=Jd;function Ga(t,e){if(Bn.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(ey){e:{try{up(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:yx[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Ga.$.h.call(this)}}In(Ga,Bn);var yx={2:"touch",3:"pen",4:"mouse"};Ga.prototype.h=function(){Ga.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var vl="closure_listenable_"+(1e6*Math.random()|0),bx=0;function kx(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++bx,this.fa=this.ia=!1}function Vc(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function cp(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function Ex(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function ny(t){const e={};for(const n in t)e[n]=t[n];return e}const r_="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ry(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let s=0;s<r_.length;s++)n=r_[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Uc(t){this.src=t,this.g={},this.h=0}Uc.prototype.add=function(t,e,n,r,i){var s=t.toString();t=this.g[s],t||(t=this.g[s]=[],this.h++);var o=tf(t,e,r,i);return-1<o?(e=t[o],n||(e.ia=!1)):(e=new kx(e,this.src,s,!!r,i),e.ia=n,t.push(e)),e};function ef(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=Zv(r,e),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(Vc(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function tf(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==r)return i}return-1}var hp="closure_lm_"+(1e6*Math.random()|0),dd={};function iy(t,e,n,r,i){if(r&&r.once)return oy(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)iy(t,e[s],n,r,i);return null}return n=pp(n),t&&t[vl]?t.O(e,n,wl(r)?!!r.capture:!!r,i):sy(t,e,n,!1,r,i)}function sy(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=wl(i)?!!i.capture:!!i,a=fp(t);if(a||(t[hp]=a=new Uc(t)),n=a.add(e,n,r,o,s),n.proxy)return n;if(r=Tx(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)mx||(i=o),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(ly(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function Tx(){function t(n){return e.call(t.src,t.listener,n)}const e=Ix;return t}function oy(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)oy(t,e[s],n,r,i);return null}return n=pp(n),t&&t[vl]?t.P(e,n,wl(r)?!!r.capture:!!r,i):sy(t,e,n,!0,r,i)}function ay(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)ay(t,e[s],n,r,i);else r=wl(r)?!!r.capture:!!r,n=pp(n),t&&t[vl]?(t=t.i,e=String(e).toString(),e in t.g&&(s=t.g[e],n=tf(s,n,r,i),-1<n&&(Vc(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete t.g[e],t.h--)))):t&&(t=fp(t))&&(e=t.g[e.toString()],t=-1,e&&(t=tf(e,n,r,i)),(n=-1<t?e[t]:null)&&dp(n))}function dp(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[vl])ef(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(ly(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=fp(e))?(ef(n,t),n.h==0&&(n.src=null,e[hp]=null)):Vc(t)}}}function ly(t){return t in dd?dd[t]:dd[t]="on"+t}function Ix(t,e){if(t.fa)t=!0;else{e=new Ga(e,this);var n=t.listener,r=t.la||t.src;t.ia&&dp(t),t=n.call(r,e)}return t}function fp(t){return t=t[hp],t instanceof Uc?t:null}var fd="__closure_events_fn_"+(1e9*Math.random()>>>0);function pp(t){return typeof t=="function"?t:(t[fd]||(t[fd]=function(e){return t.handleEvent(e)}),t[fd])}function Tn(){Zi.call(this),this.i=new Uc(this),this.S=this,this.J=null}In(Tn,Zi);Tn.prototype[vl]=!0;Tn.prototype.removeEventListener=function(t,e,n,r){ay(this,t,e,n,r)};function Rn(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new Bn(e,t);else if(e instanceof Bn)e.target=e.target||t;else{var i=e;e=new Bn(r,t),ry(e,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=fu(o,r,!0,e)&&i}if(o=e.g=t,i=fu(o,r,!0,e)&&i,i=fu(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)o=e.g=n[s],i=fu(o,r,!1,e)&&i}Tn.prototype.N=function(){if(Tn.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Vc(n[r]);delete t.g[e],t.h--}}this.J=null};Tn.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};Tn.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function fu(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,l=o.la||o.src;o.ia&&ef(t.i,o),i=a.call(l,r)!==!1&&i}}return i&&!r.defaultPrevented}var mp=Ye.JSON.stringify;class Ax{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function xx(){var t=gp;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class Cx{constructor(){this.h=this.g=null}add(e,n){const r=uy.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var uy=new Ax(()=>new Sx,t=>t.reset());class Sx{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function Rx(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function Px(t){Ye.setTimeout(()=>{throw t},0)}let Qa,Ya=!1,gp=new Cx,cy=()=>{const t=Ye.Promise.resolve(void 0);Qa=()=>{t.then(Dx)}};var Dx=()=>{for(var t;t=xx();){try{t.h.call(t.g)}catch(n){Px(n)}var e=uy;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Ya=!1};function Fc(t,e){Tn.call(this),this.h=t||1,this.g=e||Ye,this.j=$n(this.qb,this),this.l=Date.now()}In(Fc,Tn);xe=Fc.prototype;xe.ga=!1;xe.T=null;xe.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Rn(this,"tick"),this.ga&&(_p(this),this.start()))}};xe.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function _p(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}xe.N=function(){Fc.$.N.call(this),_p(this),delete this.g};function wp(t,e,n){if(typeof t=="function")n&&(t=$n(t,n));else if(t&&typeof t.handleEvent=="function")t=$n(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:Ye.setTimeout(t,e||0)}function hy(t){t.g=wp(()=>{t.g=null,t.i&&(t.i=!1,hy(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class Ox extends Zi{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:hy(this)}N(){super.N(),this.g&&(Ye.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Xa(t){Zi.call(this),this.h=t,this.g={}}In(Xa,Zi);var i_=[];function dy(t,e,n,r){Array.isArray(n)||(n&&(i_[0]=n.toString()),n=i_);for(var i=0;i<n.length;i++){var s=iy(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function fy(t){cp(t.g,function(e,n){this.g.hasOwnProperty(n)&&dp(e)},t),t.g={}}Xa.prototype.N=function(){Xa.$.N.call(this),fy(this)};Xa.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function $c(){this.g=!0}$c.prototype.Ea=function(){this.g=!1};function Nx(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var u=a[l].split("=");if(1<u.length){var d=u[0];u=u[1];var f=d.split("_");o=2<=f.length&&f[1]=="type"?o+(d+"="+u+"&"):o+(d+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+o})}function Mx(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+s+" "+o})}function _o(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+Vx(t,n)+(r?" "+r:"")})}function Lx(t,e){t.info(function(){return"TIMEOUT: "+e})}$c.prototype.info=function(){};function Vx(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return mp(n)}catch{return e}}var zs={},s_=null;function Bc(){return s_=s_||new Tn}zs.Ta="serverreachability";function py(t){Bn.call(this,zs.Ta,t)}In(py,Bn);function Za(t){const e=Bc();Rn(e,new py(e))}zs.STAT_EVENT="statevent";function my(t,e){Bn.call(this,zs.STAT_EVENT,t),this.stat=e}In(my,Bn);function Gn(t){const e=Bc();Rn(e,new my(e,t))}zs.Ua="timingevent";function gy(t,e){Bn.call(this,zs.Ua,t),this.size=e}In(gy,Bn);function yl(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return Ye.setTimeout(function(){t()},e)}var zc={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},_y={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function vp(){}vp.prototype.h=null;function o_(t){return t.h||(t.h=t.i())}function wy(){}var bl={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function yp(){Bn.call(this,"d")}In(yp,Bn);function bp(){Bn.call(this,"c")}In(bp,Bn);var nf;function jc(){}In(jc,vp);jc.prototype.g=function(){return new XMLHttpRequest};jc.prototype.i=function(){return{}};nf=new jc;function kl(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new Xa(this),this.P=Ux,t=Xd?125:void 0,this.V=new Fc(t),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new vy}function vy(){this.i=null,this.g="",this.h=!1}var Ux=45e3,rf={},rc={};xe=kl.prototype;xe.setTimeout=function(t){this.P=t};function sf(t,e,n){t.L=1,t.v=Hc(_i(e)),t.s=n,t.S=!0,yy(t,null)}function yy(t,e){t.G=Date.now(),El(t),t.A=_i(t.v);var n=t.A,r=t.W;Array.isArray(r)||(r=[String(r)]),Cy(n.i,"t",r),t.C=0,n=t.l.J,t.h=new vy,t.g=Qy(t.l,n?e:null,!t.s),0<t.O&&(t.M=new Ox($n(t.Pa,t,t.g),t.O)),dy(t.U,t.g,"readystatechange",t.nb),e=t.I?ny(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),Za(),Nx(t.j,t.u,t.A,t.m,t.W,t.s)}xe.nb=function(t){t=t.target;const e=this.M;e&&qr(t)==3?e.l():this.Pa(t)};xe.Pa=function(t){try{if(t==this.g)e:{const d=qr(this.g);var e=this.g.Ia();const f=this.g.da();if(!(3>d)&&(d!=3||Xd||this.g&&(this.h.h||this.g.ja()||c_(this.g)))){this.J||d!=4||e==7||(e==8||0>=f?Za(3):Za(2)),qc(this);var n=this.g.da();this.ca=n;t:if(by(this)){var r=c_(this.g);t="";var i=r.length,s=qr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){bs(this),Ra(this);var o="";break t}this.h.i=new Ye.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,Mx(this.j,this.u,this.A,this.m,this.W,d,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ka(a)){var u=a;break t}}u=null}if(n=u)_o(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,of(this,n);else{this.i=!1,this.o=3,Gn(12),bs(this),Ra(this);break e}}this.S?(ky(this,d,o),Xd&&this.i&&d==3&&(dy(this.U,this.V,"tick",this.mb),this.V.start())):(_o(this.j,this.m,o,null),of(this,o)),d==4&&bs(this),this.i&&!this.J&&(d==4?Hy(this.l,this):(this.i=!1,El(this)))}else sC(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.o=3,Gn(12)):(this.o=0,Gn(13)),bs(this),Ra(this)}}}catch{}finally{}};function by(t){return t.g?t.u=="GET"&&t.L!=2&&t.l.Ha:!1}function ky(t,e,n){let r=!0,i;for(;!t.J&&t.C<n.length;)if(i=Fx(t,n),i==rc){e==4&&(t.o=4,Gn(14),r=!1),_o(t.j,t.m,null,"[Incomplete Response]");break}else if(i==rf){t.o=4,Gn(15),_o(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else _o(t.j,t.m,i,null),of(t,i);by(t)&&i!=rc&&i!=rf&&(t.h.g="",t.C=0),e!=4||n.length!=0||t.h.h||(t.o=1,Gn(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),xp(e),e.M=!0,Gn(11))):(_o(t.j,t.m,n,"[Invalid Chunked Response]"),bs(t),Ra(t))}xe.mb=function(){if(this.g){var t=qr(this.g),e=this.g.ja();this.C<e.length&&(qc(this),ky(this,t,e),this.i&&t!=4&&El(this))}};function Fx(t,e){var n=t.C,r=e.indexOf(`
`,n);return r==-1?rc:(n=Number(e.substring(n,r)),isNaN(n)?rf:(r+=1,r+n>e.length?rc:(e=e.slice(r,r+n),t.C=r+n,e)))}xe.cancel=function(){this.J=!0,bs(this)};function El(t){t.Y=Date.now()+t.P,Ey(t,t.P)}function Ey(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=yl($n(t.lb,t),e)}function qc(t){t.B&&(Ye.clearTimeout(t.B),t.B=null)}xe.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(Lx(this.j,this.A),this.L!=2&&(Za(),Gn(17)),bs(this),this.o=2,Ra(this)):Ey(this,this.Y-t)};function Ra(t){t.l.H==0||t.J||Hy(t.l,t)}function bs(t){qc(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,_p(t.V),fy(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function of(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||af(n.i,t))){if(!t.K&&af(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)oc(n),Qc(n);else break e;Ap(n),Gn(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=yl($n(n.ib,n),6e3));if(1>=Py(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else ks(n,11)}else if((t.K||n.g==t)&&oc(n),!Ka(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let u=i[e];if(n.V=u[0],u=u[1],n.H==2)if(u[0]=="c"){n.K=u[1],n.pa=u[2];const d=u[3];d!=null&&(n.ra=d,n.l.info("VER="+n.ra));const f=u[4];f!=null&&(n.Ga=f,n.l.info("SVER="+n.Ga));const p=u[5];p!=null&&typeof p=="number"&&0<p&&(r=1.5*p,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const m=t.g;if(m){const b=m.g?m.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(b){var s=r.i;s.g||b.indexOf("spdy")==-1&&b.indexOf("quic")==-1&&b.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(kp(s,s.h),s.h=null))}if(r.F){const y=m.g?m.g.getResponseHeader("X-HTTP-Session-Id"):null;y&&(r.Da=y,Gt(r.I,r.F,y))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var o=t;if(r.wa=Gy(r,r.J?r.pa:null,r.Y),o.K){Dy(r.i,o);var a=o,l=r.L;l&&a.setTimeout(l),a.B&&(qc(a),El(a)),r.g=o}else jy(r);0<n.j.length&&Yc(n)}else u[0]!="stop"&&u[0]!="close"||ks(n,7);else n.H==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?ks(n,7):Ip(n):u[0]!="noop"&&n.h&&n.h.Aa(u),n.A=0)}}Za(4)}catch{}}function $x(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(Mc(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function Bx(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(Mc(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function Ty(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(Mc(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=Bx(t),r=$x(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}var Iy=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function zx(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function xs(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof xs){this.h=t.h,ic(this,t.j),this.s=t.s,this.g=t.g,sc(this,t.m),this.l=t.l;var e=t.i,n=new Ja;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),a_(this,n),this.o=t.o}else t&&(e=String(t).match(Iy))?(this.h=!1,ic(this,e[1]||"",!0),this.s=ba(e[2]||""),this.g=ba(e[3]||"",!0),sc(this,e[4]),this.l=ba(e[5]||"",!0),a_(this,e[6]||"",!0),this.o=ba(e[7]||"")):(this.h=!1,this.i=new Ja(null,this.h))}xs.prototype.toString=function(){var t=[],e=this.j;e&&t.push(ka(e,l_,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(ka(e,l_,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(ka(n,n.charAt(0)=="/"?Hx:qx,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",ka(n,Kx)),t.join("")};function _i(t){return new xs(t)}function ic(t,e,n){t.j=n?ba(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function sc(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function a_(t,e,n){e instanceof Ja?(t.i=e,Gx(t.i,t.h)):(n||(e=ka(e,Wx)),t.i=new Ja(e,t.h))}function Gt(t,e,n){t.i.set(e,n)}function Hc(t){return Gt(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function ba(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function ka(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,jx),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function jx(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var l_=/[#\/\?@]/g,qx=/[#\?:]/g,Hx=/[#\?]/g,Wx=/[#\?@]/g,Kx=/#/g;function Ja(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Ji(t){t.g||(t.g=new Map,t.h=0,t.i&&zx(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}xe=Ja.prototype;xe.add=function(t,e){Ji(this),this.i=null,t=Xo(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function Ay(t,e){Ji(t),e=Xo(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function xy(t,e){return Ji(t),e=Xo(t,e),t.g.has(e)}xe.forEach=function(t,e){Ji(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};xe.ta=function(){Ji(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n};xe.Z=function(t){Ji(this);let e=[];if(typeof t=="string")xy(this,t)&&(e=e.concat(this.g.get(Xo(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};xe.set=function(t,e){return Ji(this),this.i=null,t=Xo(this,t),xy(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};xe.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function Cy(t,e,n){Ay(t,e),0<n.length&&(t.i=null,t.g.set(Xo(t,e),lp(n)),t.h+=n.length)}xe.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;o[r]!==""&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};function Xo(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function Gx(t,e){e&&!t.j&&(Ji(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(Ay(this,r),Cy(this,i,n))},t)),t.j=e}var Qx=class{constructor(t,e){this.g=t,this.map=e}};function Sy(t){this.l=t||Yx,Ye.PerformanceNavigationTiming?(t=Ye.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(Ye.g&&Ye.g.Ka&&Ye.g.Ka()&&Ye.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Yx=10;function Ry(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function Py(t){return t.h?1:t.g?t.g.size:0}function af(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function kp(t,e){t.g?t.g.add(e):t.h=e}function Dy(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}Sy.prototype.cancel=function(){if(this.i=Oy(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function Oy(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return lp(t.i)}var Xx=class{stringify(t){return Ye.JSON.stringify(t,void 0)}parse(t){return Ye.JSON.parse(t,void 0)}};function Zx(){this.g=new Xx}function Jx(t,e,n){const r=n||"";try{Ty(t,function(i,s){let o=i;wl(i)&&(o=mp(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function eC(t,e){const n=new $c;if(Ye.Image){const r=new Image;r.onload=du(pu,n,r,"TestLoadImage: loaded",!0,e),r.onerror=du(pu,n,r,"TestLoadImage: error",!1,e),r.onabort=du(pu,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=du(pu,n,r,"TestLoadImage: timeout",!1,e),Ye.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function pu(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function Wc(t){this.l=t.ec||null,this.j=t.ob||!1}In(Wc,vp);Wc.prototype.g=function(){return new Kc(this.l,this.j)};Wc.prototype.i=function(t){return function(){return t}}({});function Kc(t,e){Tn.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=Ep,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}In(Kc,Tn);var Ep=0;xe=Kc.prototype;xe.open=function(t,e){if(this.readyState!=Ep)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,el(this)};xe.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||Ye).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};xe.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Tl(this)),this.readyState=Ep};xe.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,el(this)),this.g&&(this.readyState=3,el(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Ye.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Ny(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function Ny(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}xe.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Tl(this):el(this),this.readyState==3&&Ny(this)}};xe.Za=function(t){this.g&&(this.response=this.responseText=t,Tl(this))};xe.Ya=function(t){this.g&&(this.response=t,Tl(this))};xe.ka=function(){this.g&&Tl(this)};function Tl(t){t.readyState=4,t.l=null,t.j=null,t.A=null,el(t)}xe.setRequestHeader=function(t,e){this.v.append(t,e)};xe.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};xe.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function el(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(Kc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var tC=Ye.JSON.parse;function un(t){Tn.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=My,this.L=this.M=!1}In(un,Tn);var My="",nC=/^https?$/i,rC=["POST","PUT"];xe=un.prototype;xe.Oa=function(t){this.M=t};xe.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():nf.g(),this.C=this.u?o_(this.u):o_(nf),this.g.onreadystatechange=$n(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){u_(this,s);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),i=Ye.FormData&&t instanceof Ye.FormData,!(0<=Zv(rC,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{Uy(this),0<this.B&&((this.L=iC(this.g))?(this.g.timeout=this.B,this.g.ontimeout=$n(this.ua,this)):this.A=wp(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){u_(this,s)}};function iC(t){return Lo&&typeof t.timeout=="number"&&t.ontimeout!==void 0}xe.ua=function(){typeof ap<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Rn(this,"timeout"),this.abort(8))};function u_(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,Ly(t),Gc(t)}function Ly(t){t.F||(t.F=!0,Rn(t,"complete"),Rn(t,"error"))}xe.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Rn(this,"complete"),Rn(this,"abort"),Gc(this))};xe.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Gc(this,!0)),un.$.N.call(this)};xe.La=function(){this.s||(this.G||this.v||this.l?Vy(this):this.kb())};xe.kb=function(){Vy(this)};function Vy(t){if(t.h&&typeof ap<"u"&&(!t.C[1]||qr(t)!=4||t.da()!=2)){if(t.v&&qr(t)==4)wp(t.La,0,t);else if(Rn(t,"readystatechange"),qr(t)==4){t.h=!1;try{const o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=o===0){var i=String(t.I).match(Iy)[1]||null;!i&&Ye.self&&Ye.self.location&&(i=Ye.self.location.protocol.slice(0,-1)),r=!nC.test(i?i.toLowerCase():"")}n=r}if(n)Rn(t,"complete"),Rn(t,"success");else{t.m=6;try{var s=2<qr(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",Ly(t)}}finally{Gc(t)}}}}function Gc(t,e){if(t.g){Uy(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||Rn(t,"ready");try{n.onreadystatechange=r}catch{}}}function Uy(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(Ye.clearTimeout(t.A),t.A=null)}xe.isActive=function(){return!!this.g};function qr(t){return t.g?t.g.readyState:0}xe.da=function(){try{return 2<qr(this)?this.g.status:-1}catch{return-1}};xe.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};xe.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),tC(e)}};function c_(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case My:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function sC(t){const e={};t=(t.g&&2<=qr(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(Ka(t[r]))continue;var n=Rx(t[r]);const i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const s=e[i]||[];e[i]=s,s.push(n)}Ex(e,function(r){return r.join(", ")})}xe.Ia=function(){return this.m};xe.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function Fy(t){let e="";return cp(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function Tp(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Fy(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):Gt(t,e,n))}function ca(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function $y(t){this.Ga=0,this.j=[],this.l=new $c,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=ca("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=ca("baseRetryDelayMs",5e3,t),this.hb=ca("retryDelaySeedMs",1e4,t),this.eb=ca("forwardChannelMaxRetries",2,t),this.xa=ca("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new Sy(t&&t.concurrentRequestLimit),this.Ja=new Zx,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}xe=$y.prototype;xe.ra=8;xe.H=1;function Ip(t){if(By(t),t.H==3){var e=t.W++,n=_i(t.I);if(Gt(n,"SID",t.K),Gt(n,"RID",e),Gt(n,"TYPE","terminate"),Il(t,n),e=new kl(t,t.l,e),e.L=2,e.v=Hc(_i(n)),n=!1,Ye.navigator&&Ye.navigator.sendBeacon)try{n=Ye.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&Ye.Image&&(new Image().src=e.v,n=!0),n||(e.g=Qy(e.l,null),e.g.ha(e.v)),e.G=Date.now(),El(e)}Ky(t)}function Qc(t){t.g&&(xp(t),t.g.cancel(),t.g=null)}function By(t){Qc(t),t.u&&(Ye.clearTimeout(t.u),t.u=null),oc(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&Ye.clearTimeout(t.m),t.m=null)}function Yc(t){if(!Ry(t.i)&&!t.m){t.m=!0;var e=t.Na;Qa||cy(),Ya||(Qa(),Ya=!0),gp.add(e,t),t.C=0}}function oC(t,e){return Py(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=yl($n(t.Na,t,e),Wy(t,t.C)),t.C++,!0)}xe.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new kl(this,this.l,t);let s=this.s;if(this.U&&(s?(s=ny(s),ry(s,this.U)):s=this.U),this.o!==null||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=zy(this,i,e),n=_i(this.I),Gt(n,"RID",t),Gt(n,"CVER",22),this.F&&Gt(n,"X-HTTP-Session-Id",this.F),Il(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(Fy(s)))+"&"+e:this.o&&Tp(n,this.o,s)),kp(this.i,i),this.bb&&Gt(n,"TYPE","init"),this.P?(Gt(n,"$req",e),Gt(n,"SID","null"),i.aa=!0,sf(i,n,null)):sf(i,n,e),this.H=2}}else this.H==3&&(t?h_(this,t):this.j.length==0||Ry(this.i)||h_(this))};function h_(t,e){var n;e?n=e.m:n=t.W++;const r=_i(t.I);Gt(r,"SID",t.K),Gt(r,"RID",n),Gt(r,"AID",t.V),Il(t,r),t.o&&t.s&&Tp(r,t.o,t.s),n=new kl(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=zy(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),kp(t.i,n),sf(n,r,e)}function Il(t,e){t.na&&cp(t.na,function(n,r){Gt(e,r,n)}),t.h&&Ty({},function(n,r){Gt(e,r,n)})}function zy(t,e,n){n=Math.min(t.j.length,n);var r=t.h?$n(t.h.Va,t.h,t):null;e:{var i=t.j;let s=-1;for(;;){const o=["count="+n];s==-1?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let l=0;l<n;l++){let u=i[l].g;const d=i[l].map;if(u-=s,0>u)s=Math.max(0,i[l].g-100),a=!1;else try{Jx(d,o,"req"+u+"_")}catch{r&&r(d)}}if(a){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function jy(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;Qa||cy(),Ya||(Qa(),Ya=!0),gp.add(e,t),t.A=0}}function Ap(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=yl($n(t.Ma,t),Wy(t,t.A)),t.A++,!0)}xe.Ma=function(){if(this.u=null,qy(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=yl($n(this.jb,this),t)}};xe.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Gn(10),Qc(this),qy(this))};function xp(t){t.B!=null&&(Ye.clearTimeout(t.B),t.B=null)}function qy(t){t.g=new kl(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=_i(t.wa);Gt(e,"RID","rpc"),Gt(e,"SID",t.K),Gt(e,"AID",t.V),Gt(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&Gt(e,"TO",t.qa),Gt(e,"TYPE","xmlhttp"),Il(t,e),t.o&&t.s&&Tp(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.v=Hc(_i(e)),n.s=null,n.S=!0,yy(n,t)}xe.ib=function(){this.v!=null&&(this.v=null,Qc(this),Ap(this),Gn(19))};function oc(t){t.v!=null&&(Ye.clearTimeout(t.v),t.v=null)}function Hy(t,e){var n=null;if(t.g==e){oc(t),xp(t),t.g=null;var r=2}else if(af(t.i,e))n=e.F,Dy(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.s?e.s.length:0,e=Date.now()-e.G;var i=t.C;r=Bc(),Rn(r,new gy(r,n)),Yc(t)}else jy(t);else if(i=e.o,i==3||i==0&&0<e.ca||!(r==1&&oC(t,e)||r==2&&Ap(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:ks(t,5);break;case 4:ks(t,10);break;case 3:ks(t,6);break;default:ks(t,2)}}}function Wy(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function ks(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=$n(t.pb,t);n||(n=new xs("//www.google.com/images/cleardot.gif"),Ye.location&&Ye.location.protocol=="http"||ic(n,"https"),Hc(n)),eC(n.toString(),r)}else Gn(2);t.H=0,t.h&&t.h.za(e),Ky(t),By(t)}xe.pb=function(t){t?(this.l.info("Successfully pinged google.com"),Gn(2)):(this.l.info("Failed to ping google.com"),Gn(1))};function Ky(t){if(t.H=0,t.ma=[],t.h){const e=Oy(t.i);(e.length!=0||t.j.length!=0)&&(t_(t.ma,e),t_(t.ma,t.j),t.i.i.length=0,lp(t.j),t.j.length=0),t.h.ya()}}function Gy(t,e,n){var r=n instanceof xs?_i(n):new xs(n);if(r.g!="")e&&(r.g=e+"."+r.g),sc(r,r.m);else{var i=Ye.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new xs(null);r&&ic(s,r),e&&(s.g=e),i&&sc(s,i),n&&(s.l=n),r=s}return n=t.F,e=t.Da,n&&e&&Gt(r,n,e),Gt(r,"VER",t.ra),Il(t,r),r}function Qy(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Ha&&!t.va?new un(new Wc({ob:!0})):new un(t.va),e.Oa(t.J),e}xe.isActive=function(){return!!this.h&&this.h.isActive(this)};function Yy(){}xe=Yy.prototype;xe.Ba=function(){};xe.Aa=function(){};xe.za=function(){};xe.ya=function(){};xe.isActive=function(){return!0};xe.Va=function(){};function ac(){if(Lo&&!(10<=Number(vx)))throw Error("Environmental error: no available transport.")}ac.prototype.g=function(t,e){return new lr(t,e)};function lr(t,e){Tn.call(this),this.g=new $y(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!Ka(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Ka(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new Zo(this)}In(lr,Tn);lr.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;Gn(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=Gy(t,null,t.Y),Yc(t)};lr.prototype.close=function(){Ip(this.g)};lr.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=mp(t),t=n);e.j.push(new Qx(e.fb++,t)),e.H==3&&Yc(e)};lr.prototype.N=function(){this.g.h=null,delete this.j,Ip(this.g),delete this.g,lr.$.N.call(this)};function Xy(t){yp.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}In(Xy,yp);function Zy(){bp.call(this),this.status=1}In(Zy,bp);function Zo(t){this.g=t}In(Zo,Yy);Zo.prototype.Ba=function(){Rn(this.g,"a")};Zo.prototype.Aa=function(t){Rn(this.g,new Xy(t))};Zo.prototype.za=function(t){Rn(this.g,new Zy)};Zo.prototype.ya=function(){Rn(this.g,"b")};function aC(){this.blockSize=-1}function xr(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}In(xr,aC);xr.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function pd(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],i=t.g[2];var s=t.g[3],o=e+(s^n&(i^s))+r[0]+3614090360&4294967295;e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[1]+3905402710&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[2]+606105819&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[3]+3250441966&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[4]+4118548399&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[5]+1200080426&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[6]+2821735955&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[7]+4249261313&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[8]+1770035416&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[9]+2336552879&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[10]+4294925233&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[11]+2304563134&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[12]+1804603682&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[13]+4254626195&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[14]+2792965006&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[15]+1236535329&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(i^s&(n^i))+r[1]+4129170786&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[6]+3225465664&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[11]+643717713&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[0]+3921069994&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[5]+3593408605&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[10]+38016083&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[15]+3634488961&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[4]+3889429448&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[9]+568446438&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[14]+3275163606&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[3]+4107603335&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[8]+1163531501&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[13]+2850285829&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[2]+4243563512&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[7]+1735328473&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[12]+2368359562&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(n^i^s)+r[5]+4294588738&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[8]+2272392833&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[11]+1839030562&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[14]+4259657740&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[1]+2763975236&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[4]+1272893353&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[7]+4139469664&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[10]+3200236656&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[13]+681279174&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[0]+3936430074&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[3]+3572445317&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[6]+76029189&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[9]+3654602809&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[12]+3873151461&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[15]+530742520&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[2]+3299628645&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(i^(n|~s))+r[0]+4096336452&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[7]+1126891415&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[14]+2878612391&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[5]+4237533241&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[12]+1700485571&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[3]+2399980690&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[10]+4293915773&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[1]+2240044497&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[8]+1873313359&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[15]+4264355552&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[6]+2734768916&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[13]+1309151649&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[4]+4149444226&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[11]+3174756917&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[2]+718787259&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}xr.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(i==0)for(;s<=n;)pd(this,t,s),s+=this.blockSize;if(typeof t=="string"){for(;s<e;)if(r[i++]=t.charCodeAt(s++),i==this.blockSize){pd(this,r),i=0;break}}else for(;s<e;)if(r[i++]=t[s++],i==this.blockSize){pd(this,r),i=0;break}}this.h=i,this.i+=e};xr.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function Rt(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=t[i]|0;r&&s==e||(n[i]=s,r=!1)}this.g=n}var lC={};function Cp(t){return-128<=t&&128>t?gx(t,function(e){return new Rt([e|0],0>e?-1:0)}):new Rt([t|0],0>t?-1:0)}function Hr(t){if(isNaN(t)||!isFinite(t))return To;if(0>t)return Sn(Hr(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=lf;return new Rt(e,0)}function Jy(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return Sn(Jy(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Hr(Math.pow(e,8)),r=To,i=0;i<t.length;i+=8){var s=Math.min(8,t.length-i),o=parseInt(t.substring(i,i+s),e);8>s?(s=Hr(Math.pow(e,s)),r=r.R(s).add(Hr(o))):(r=r.R(n),r=r.add(Hr(o)))}return r}var lf=4294967296,To=Cp(0),uf=Cp(1),d_=Cp(16777216);xe=Rt.prototype;xe.ea=function(){if(fr(this))return-Sn(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:lf+r)*e,e*=lf}return t};xe.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(pi(this))return"0";if(fr(this))return"-"+Sn(this).toString(t);for(var e=Hr(Math.pow(t,6)),n=this,r="";;){var i=uc(n,e).g;n=lc(n,i.R(e));var s=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=i,pi(n))return s+r;for(;6>s.length;)s="0"+s;r=s+r}};xe.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function pi(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function fr(t){return t.h==-1}xe.X=function(t){return t=lc(this,t),fr(t)?-1:pi(t)?0:1};function Sn(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new Rt(n,~t.h).add(uf)}xe.abs=function(){return fr(this)?Sn(this):this};xe.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var s=r+(this.D(i)&65535)+(t.D(i)&65535),o=(s>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=o>>>16,s&=65535,o&=65535,n[i]=o<<16|s}return new Rt(n,n[n.length-1]&-2147483648?-1:0)};function lc(t,e){return t.add(Sn(e))}xe.R=function(t){if(pi(this)||pi(t))return To;if(fr(this))return fr(t)?Sn(this).R(Sn(t)):Sn(Sn(this).R(t));if(fr(t))return Sn(this.R(Sn(t)));if(0>this.X(d_)&&0>t.X(d_))return Hr(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var s=this.D(r)>>>16,o=this.D(r)&65535,a=t.D(i)>>>16,l=t.D(i)&65535;n[2*r+2*i]+=o*l,mu(n,2*r+2*i),n[2*r+2*i+1]+=s*l,mu(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,mu(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,mu(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new Rt(n,0)};function mu(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function ha(t,e){this.g=t,this.h=e}function uc(t,e){if(pi(e))throw Error("division by zero");if(pi(t))return new ha(To,To);if(fr(t))return e=uc(Sn(t),e),new ha(Sn(e.g),Sn(e.h));if(fr(e))return e=uc(t,Sn(e)),new ha(Sn(e.g),e.h);if(30<t.g.length){if(fr(t)||fr(e))throw Error("slowDivide_ only works with positive integers.");for(var n=uf,r=e;0>=r.X(t);)n=f_(n),r=f_(r);var i=co(n,1),s=co(r,1);for(r=co(r,2),n=co(n,2);!pi(r);){var o=s.add(r);0>=o.X(t)&&(i=i.add(n),s=o),r=co(r,1),n=co(n,1)}return e=lc(t,i.R(e)),new ha(i,e)}for(i=To;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),s=Hr(n),o=s.R(e);fr(o)||0<o.X(t);)n-=r,s=Hr(n),o=s.R(e);pi(s)&&(s=uf),i=i.add(s),t=lc(t,o)}return new ha(i,t)}xe.gb=function(t){return uc(this,t).h};xe.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new Rt(n,this.h&t.h)};xe.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new Rt(n,this.h|t.h)};xe.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new Rt(n,this.h^t.h)};function f_(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new Rt(n,t.h)}function co(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],s=0;s<r;s++)i[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new Rt(i,t.h)}ac.prototype.createWebChannel=ac.prototype.g;lr.prototype.send=lr.prototype.u;lr.prototype.open=lr.prototype.m;lr.prototype.close=lr.prototype.close;zc.NO_ERROR=0;zc.TIMEOUT=8;zc.HTTP_ERROR=6;_y.COMPLETE="complete";wy.EventType=bl;bl.OPEN="a";bl.CLOSE="b";bl.ERROR="c";bl.MESSAGE="d";Tn.prototype.listen=Tn.prototype.O;un.prototype.listenOnce=un.prototype.P;un.prototype.getLastError=un.prototype.Sa;un.prototype.getLastErrorCode=un.prototype.Ia;un.prototype.getStatus=un.prototype.da;un.prototype.getResponseJson=un.prototype.Wa;un.prototype.getResponseText=un.prototype.ja;un.prototype.send=un.prototype.ha;un.prototype.setWithCredentials=un.prototype.Oa;xr.prototype.digest=xr.prototype.l;xr.prototype.reset=xr.prototype.reset;xr.prototype.update=xr.prototype.j;Rt.prototype.add=Rt.prototype.add;Rt.prototype.multiply=Rt.prototype.R;Rt.prototype.modulo=Rt.prototype.gb;Rt.prototype.compare=Rt.prototype.X;Rt.prototype.toNumber=Rt.prototype.ea;Rt.prototype.toString=Rt.prototype.toString;Rt.prototype.getBits=Rt.prototype.D;Rt.fromNumber=Hr;Rt.fromString=Jy;var uC=function(){return new ac},cC=function(){return Bc()},md=zc,hC=_y,dC=zs,p_={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},gu=wy,fC=un,pC=xr,Io=Rt;const m_="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Nn.UNAUTHENTICATED=new Nn(null),Nn.GOOGLE_CREDENTIALS=new Nn("google-credentials-uid"),Nn.FIRST_PARTY=new Nn("first-party-uid"),Nn.MOCK_USER=new Nn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Jo="10.4.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vs=new Qf("@firebase/firestore");function da(){return Vs.logLevel}function Ne(t,...e){if(Vs.logLevel<=_t.DEBUG){const n=e.map(Sp);Vs.debug(`Firestore (${Jo}): ${t}`,...n)}}function wi(t,...e){if(Vs.logLevel<=_t.ERROR){const n=e.map(Sp);Vs.error(`Firestore (${Jo}): ${t}`,...n)}}function Vo(t,...e){if(Vs.logLevel<=_t.WARN){const n=e.map(Sp);Vs.warn(`Firestore (${Jo}): ${t}`,...n)}}function Sp(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qe(t="Unexpected state"){const e=`FIRESTORE (${Jo}) INTERNAL ASSERTION FAILED: `+t;throw wi(e),new Error(e)}function $t(t,e){t||Qe()}function et(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const me={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ie extends bi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e0{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class mC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Nn.UNAUTHENTICATED))}shutdown(){}}class gC{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class _C{constructor(e){this.t=e,this.currentUser=Nn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new Yr;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Yr,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{Ne("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(Ne("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Yr)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Ne("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?($t(typeof r.accessToken=="string"),new e0(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return $t(e===null||typeof e=="string"),new Nn(e)}}class wC{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Nn.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class vC{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new wC(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Nn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class yC{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class bC{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=s=>{s.error!=null&&Ne("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,Ne("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{Ne("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):Ne("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?($t(typeof n.token=="string"),this.R=n.token,new yC(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kC(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t0{static V(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=kC(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function Et(t,e){return t<e?-1:t>e?1:0}function Uo(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Ie(me.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Ie(me.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new Ie(me.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ie(me.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return tt.fromMillis(Date.now())}static fromDate(e){return tt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new tt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Et(this.nanoseconds,e.nanoseconds):Et(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ze{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Ze(e)}static min(){return new Ze(new tt(0,0))}static max(){return new Ze(new tt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tl{constructor(e,n,r){n===void 0?n=0:n>e.length&&Qe(),r===void 0?r=e.length-n:r>e.length-n&&Qe(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return tl.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof tl?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Ft extends tl{construct(e,n,r){return new Ft(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Ie(me.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Ft(n)}static emptyPath(){return new Ft([])}}const EC=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Un extends tl{construct(e,n,r){return new Un(e,n,r)}static isValidIdentifier(e){return EC.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Un.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Un(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new Ie(me.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new Ie(me.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new Ie(me.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new Ie(me.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Un(n)}static emptyPath(){return new Un([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ve{constructor(e){this.path=e}static fromPath(e){return new Ve(Ft.fromString(e))}static fromName(e){return new Ve(Ft.fromString(e).popFirst(5))}static empty(){return new Ve(Ft.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ft.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ft.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ve(new Ft(e.slice()))}}function TC(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Ze.fromTimestamp(r===1e9?new tt(n+1,0):new tt(n,r));return new Ki(i,Ve.empty(),e)}function IC(t){return new Ki(t.readTime,t.key,-1)}class Ki{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Ki(Ze.min(),Ve.empty(),-1)}static max(){return new Ki(Ze.max(),Ve.empty(),-1)}}function AC(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Ve.comparator(t.documentKey,e.documentKey),n!==0?n:Et(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xC="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class CC{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Al(t){if(t.code!==me.FAILED_PRECONDITION||t.message!==xC)throw t;Ne("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ke{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Qe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ke((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof ke?n:ke.resolve(n)}catch(n){return ke.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):ke.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):ke.reject(n)}static resolve(e){return new ke((n,r)=>{n(e)})}static reject(e){return new ke((n,r)=>{r(e)})}static waitFor(e){return new ke((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=ke.resolve(!1);for(const r of e)n=n.next(i=>i?ke.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new ke((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const u=l;n(e[u]).next(d=>{o[u]=d,++a,a===s&&r(o)},d=>i(d))}})}static doWhile(e,n){return new ke((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function xl(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rp{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.oe(r),this._e=r=>n.writeSequenceNumber(r))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}Rp.ae=-1;function Xc(t){return t==null}function cc(t){return t===0&&1/t==-1/0}function SC(t){return typeof t=="number"&&Number.isInteger(t)&&!cc(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g_(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function js(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function n0(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{constructor(e,n){this.comparator=e,this.root=n||xn.EMPTY}insert(e,n){return new Jt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,xn.BLACK,null,null))}remove(e){return new Jt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,xn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new _u(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new _u(this.root,e,this.comparator,!1)}getReverseIterator(){return new _u(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new _u(this.root,e,this.comparator,!0)}}class _u{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class xn{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??xn.RED,this.left=i??xn.EMPTY,this.right=s??xn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new xn(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return xn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return xn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,xn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,xn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Qe();const e=this.left.check();if(e!==this.right.check())throw Qe();return e+(this.isRed()?0:1)}}xn.EMPTY=null,xn.RED=!0,xn.BLACK=!1;xn.EMPTY=new class{constructor(){this.size=0}get key(){throw Qe()}get value(){throw Qe()}get color(){throw Qe()}get left(){throw Qe()}get right(){throw Qe()}copy(e,n,r,i,s){return this}insert(e,n,r){return new xn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zn{constructor(e){this.comparator=e,this.data=new Jt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new __(this.data.getIterator())}getIteratorFrom(e){return new __(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof zn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new zn(this.comparator);return n.data=e,n}}class __{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ar{constructor(e){this.fields=e,e.sort(Un.comparator)}static empty(){return new ar([])}unionWith(e){let n=new zn(Un.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new ar(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Uo(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new r0("Invalid base64 string: "+s):s}}(e);return new qn(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new qn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Et(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}qn.EMPTY_BYTE_STRING=new qn("");const RC=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Gi(t){if($t(!!t),typeof t=="string"){let e=0;const n=RC.exec(t);if($t(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:mn(t.seconds),nanos:mn(t.nanos)}}function mn(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Us(t){return typeof t=="string"?qn.fromBase64String(t):qn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zc(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Pp(t){const e=t.mapValue.fields.__previous_value__;return Zc(e)?Pp(e):e}function nl(t){const e=Gi(t.mapValue.fields.__local_write_time__.timestampValue);return new tt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PC{constructor(e,n,r,i,s,o,a,l,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}}class rl{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new rl("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof rl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wu={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Fs(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Zc(t)?4:DC(t)?9007199254740991:10:Qe()}function ti(t,e){if(t===e)return!0;const n=Fs(t);if(n!==Fs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return nl(t).isEqual(nl(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=Gi(i.timestampValue),a=Gi(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return Us(i.bytesValue).isEqual(Us(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return mn(i.geoPointValue.latitude)===mn(s.geoPointValue.latitude)&&mn(i.geoPointValue.longitude)===mn(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return mn(i.integerValue)===mn(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=mn(i.doubleValue),a=mn(s.doubleValue);return o===a?cc(o)===cc(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Uo(t.arrayValue.values||[],e.arrayValue.values||[],ti);case 10:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(g_(o)!==g_(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!ti(o[l],a[l])))return!1;return!0}(t,e);default:return Qe()}}function il(t,e){return(t.values||[]).find(n=>ti(n,e))!==void 0}function Fo(t,e){if(t===e)return 0;const n=Fs(t),r=Fs(e);if(n!==r)return Et(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Et(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=mn(s.integerValue||s.doubleValue),l=mn(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return w_(t.timestampValue,e.timestampValue);case 4:return w_(nl(t),nl(e));case 5:return Et(t.stringValue,e.stringValue);case 6:return function(s,o){const a=Us(s),l=Us(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let u=0;u<a.length&&u<l.length;u++){const d=Et(a[u],l[u]);if(d!==0)return d}return Et(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=Et(mn(s.latitude),mn(o.latitude));return a!==0?a:Et(mn(s.longitude),mn(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(s,o){const a=s.values||[],l=o.values||[];for(let u=0;u<a.length&&u<l.length;++u){const d=Fo(a[u],l[u]);if(d)return d}return Et(a.length,l.length)}(t.arrayValue,e.arrayValue);case 10:return function(s,o){if(s===wu.mapValue&&o===wu.mapValue)return 0;if(s===wu.mapValue)return 1;if(o===wu.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),u=o.fields||{},d=Object.keys(u);l.sort(),d.sort();for(let f=0;f<l.length&&f<d.length;++f){const p=Et(l[f],d[f]);if(p!==0)return p;const m=Fo(a[l[f]],u[d[f]]);if(m!==0)return m}return Et(l.length,d.length)}(t.mapValue,e.mapValue);default:throw Qe()}}function w_(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Et(t,e);const n=Gi(t),r=Gi(e),i=Et(n.seconds,r.seconds);return i!==0?i:Et(n.nanos,r.nanos)}function $o(t){return cf(t)}function cf(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Gi(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Us(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Ve.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=cf(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${cf(n.fields[o])}`;return i+"}"}(t.mapValue):Qe()}function hc(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function hf(t){return!!t&&"integerValue"in t}function Dp(t){return!!t&&"arrayValue"in t}function v_(t){return!!t&&"nullValue"in t}function y_(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Vu(t){return!!t&&"mapValue"in t}function Pa(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return js(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Pa(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Pa(t.arrayValue.values[n]);return e}return Object.assign({},t)}function DC(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rr{constructor(e){this.value=e}static empty(){return new rr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Vu(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Pa(n)}setAll(e){let n=Un.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=Pa(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Vu(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ti(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Vu(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){js(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new rr(Pa(this.value))}}function i0(t){const e=[];return js(t.fields,(n,r)=>{const i=new Un([n]);if(Vu(r)){const s=i0(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new ar(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mn{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Mn(e,0,Ze.min(),Ze.min(),Ze.min(),rr.empty(),0)}static newFoundDocument(e,n,r,i){return new Mn(e,1,n,Ze.min(),r,i,0)}static newNoDocument(e,n){return new Mn(e,2,n,Ze.min(),Ze.min(),rr.empty(),0)}static newUnknownDocument(e,n){return new Mn(e,3,n,Ze.min(),Ze.min(),rr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ze.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=rr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=rr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ze.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Mn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Mn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bo{constructor(e,n){this.position=e,this.inclusive=n}}function b_(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=Ve.comparator(Ve.fromName(o.referenceValue),n.key):r=Fo(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function k_(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ti(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ao{constructor(e,n="asc"){this.field=e,this.dir=n}}function OC(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s0{}class gn extends s0{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new MC(e,n,r):n==="array-contains"?new UC(e,r):n==="in"?new FC(e,r):n==="not-in"?new $C(e,r):n==="array-contains-any"?new BC(e,r):new gn(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new LC(e,r):new VC(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Fo(n,this.value)):n!==null&&Fs(this.value)===Fs(n)&&this.matchesComparison(Fo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Qe()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Cr extends s0{constructor(e,n){super(),this.filters=e,this.op=n,this.ce=null}static create(e,n){return new Cr(e,n)}matches(e){return o0(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.le(n=>n.isInequality());return e!==null?e.field:null}le(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function o0(t){return t.op==="and"}function a0(t){return NC(t)&&o0(t)}function NC(t){for(const e of t.filters)if(e instanceof Cr)return!1;return!0}function df(t){if(t instanceof gn)return t.field.canonicalString()+t.op.toString()+$o(t.value);if(a0(t))return t.filters.map(e=>df(e)).join(",");{const e=t.filters.map(n=>df(n)).join(",");return`${t.op}(${e})`}}function l0(t,e){return t instanceof gn?function(r,i){return i instanceof gn&&r.op===i.op&&r.field.isEqual(i.field)&&ti(r.value,i.value)}(t,e):t instanceof Cr?function(r,i){return i instanceof Cr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&l0(o,i.filters[a]),!0):!1}(t,e):void Qe()}function u0(t){return t instanceof gn?function(n){return`${n.field.canonicalString()} ${n.op} ${$o(n.value)}`}(t):t instanceof Cr?function(n){return n.op.toString()+" {"+n.getFilters().map(u0).join(" ,")+"}"}(t):"Filter"}class MC extends gn{constructor(e,n,r){super(e,n,r),this.key=Ve.fromName(r.referenceValue)}matches(e){const n=Ve.comparator(e.key,this.key);return this.matchesComparison(n)}}class LC extends gn{constructor(e,n){super(e,"in",n),this.keys=c0("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class VC extends gn{constructor(e,n){super(e,"not-in",n),this.keys=c0("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function c0(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>Ve.fromName(r.referenceValue))}class UC extends gn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Dp(n)&&il(n.arrayValue,this.value)}}class FC extends gn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&il(this.value.arrayValue,n)}}class $C extends gn{constructor(e,n){super(e,"not-in",n)}matches(e){if(il(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!il(this.value.arrayValue,n)}}class BC extends gn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Dp(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>il(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zC{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.he=null}}function E_(t,e=null,n=[],r=[],i=null,s=null,o=null){return new zC(t,e,n,r,i,s,o)}function Op(t){const e=et(t);if(e.he===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>df(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Xc(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>$o(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>$o(r)).join(",")),e.he=n}return e.he}function Np(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!OC(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!l0(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!k_(t.startAt,e.startAt)&&k_(t.endAt,e.endAt)}function ff(t){return Ve.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qs{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.Pe=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function jC(t,e,n,r,i,s,o,a){return new qs(t,e,n,r,i,s,o,a)}function Mp(t){return new qs(t)}function T_(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Lp(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function Jc(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(n!==null)return n}return null}function Vp(t){return t.collectionGroup!==null}function xo(t){const e=et(t);if(e.Pe===null){e.Pe=[];const n=Jc(e),r=Lp(e);if(n!==null&&r===null)n.isKeyField()||e.Pe.push(new Ao(n)),e.Pe.push(new Ao(Un.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e.Pe.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.Pe.push(new Ao(Un.keyField(),s))}}}return e.Pe}function Xr(t){const e=et(t);return e.Ie||(e.Ie=h0(e,xo(t))),e.Ie}function h0(t,e){if(t.limitType==="F")return E_(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new Ao(i.field,s)});const n=t.endAt?new Bo(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Bo(t.startAt.position,t.startAt.inclusive):null;return E_(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function pf(t,e){e.getFirstInequalityField(),Jc(t);const n=t.filters.concat([e]);return new qs(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function dc(t,e,n){return new qs(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function eh(t,e){return Np(Xr(t),Xr(e))&&t.limitType===e.limitType}function d0(t){return`${Op(Xr(t))}|lt:${t.limitType}`}function ho(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>u0(i)).join(", ")}]`),Xc(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>$o(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>$o(i)).join(",")),`Target(${r})`}(Xr(t))}; limitType=${t.limitType})`}function th(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):Ve.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of xo(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,l){const u=b_(o,a,l);return o.inclusive?u<=0:u<0}(r.startAt,xo(r),i)||r.endAt&&!function(o,a,l){const u=b_(o,a,l);return o.inclusive?u>=0:u>0}(r.endAt,xo(r),i))}(t,e)}function qC(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function f0(t){return(e,n)=>{let r=!1;for(const i of xo(t)){const s=HC(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function HC(t,e,n){const r=t.field.isKeyField()?Ve.comparator(e.key,n.key):function(s,o,a){const l=o.data.field(s),u=a.data.field(s);return l!==null&&u!==null?Fo(l,u):Qe()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Qe()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ea{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){js(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return n0(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WC=new Jt(Ve.comparator);function vi(){return WC}const p0=new Jt(Ve.comparator);function Ea(...t){let e=p0;for(const n of t)e=e.insert(n.key,n);return e}function m0(t){let e=p0;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Es(){return Da()}function g0(){return Da()}function Da(){return new ea(t=>t.toString(),(t,e)=>t.isEqual(e))}const KC=new Jt(Ve.comparator),GC=new zn(Ve.comparator);function mt(...t){let e=GC;for(const n of t)e=e.add(n);return e}const QC=new zn(Et);function YC(){return QC}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _0(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:cc(e)?"-0":e}}function w0(t){return{integerValue:""+t}}function XC(t,e){return SC(e)?w0(e):_0(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nh{constructor(){this._=void 0}}function ZC(t,e,n){return t instanceof fc?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&Zc(s)&&(s=Pp(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof sl?y0(t,e):t instanceof ol?b0(t,e):function(i,s){const o=v0(i,s),a=I_(o)+I_(i.Te);return hf(o)&&hf(i.Te)?w0(a):_0(i.serializer,a)}(t,e)}function JC(t,e,n){return t instanceof sl?y0(t,e):t instanceof ol?b0(t,e):n}function v0(t,e){return t instanceof pc?function(r){return hf(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class fc extends nh{}class sl extends nh{constructor(e){super(),this.elements=e}}function y0(t,e){const n=k0(e);for(const r of t.elements)n.some(i=>ti(i,r))||n.push(r);return{arrayValue:{values:n}}}class ol extends nh{constructor(e){super(),this.elements=e}}function b0(t,e){let n=k0(e);for(const r of t.elements)n=n.filter(i=>!ti(i,r));return{arrayValue:{values:n}}}class pc extends nh{constructor(e,n){super(),this.serializer=e,this.Te=n}}function I_(t){return mn(t.integerValue||t.doubleValue)}function k0(t){return Dp(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function eS(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof sl&&i instanceof sl||r instanceof ol&&i instanceof ol?Uo(r.elements,i.elements,ti):r instanceof pc&&i instanceof pc?ti(r.Te,i.Te):r instanceof fc&&i instanceof fc}(t.transform,e.transform)}class tS{constructor(e,n){this.version=e,this.transformResults=n}}class pr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new pr}static exists(e){return new pr(void 0,e)}static updateTime(e){return new pr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Uu(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class rh{}function E0(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Up(t.key,pr.none()):new Cl(t.key,t.data,pr.none());{const n=t.data,r=rr.empty();let i=new zn(Un.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new es(t.key,r,new ar(i.toArray()),pr.none())}}function nS(t,e,n){t instanceof Cl?function(i,s,o){const a=i.value.clone(),l=x_(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof es?function(i,s,o){if(!Uu(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=x_(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(T0(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Oa(t,e,n,r){return t instanceof Cl?function(s,o,a,l){if(!Uu(s.precondition,o))return a;const u=s.value.clone(),d=C_(s.fieldTransforms,l,o);return u.setAll(d),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof es?function(s,o,a,l){if(!Uu(s.precondition,o))return a;const u=C_(s.fieldTransforms,l,o),d=o.data;return d.setAll(T0(s)),d.setAll(u),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(s,o,a){return Uu(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function rS(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=v0(r.transform,i||null);s!=null&&(n===null&&(n=rr.empty()),n.set(r.field,s))}return n||null}function A_(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Uo(r,i,(s,o)=>eS(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Cl extends rh{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class es extends rh{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function T0(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function x_(t,e,n){const r=new Map;$t(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,JC(o,a,n[i]))}return r}function C_(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,ZC(s,o,e))}return r}class Up extends rh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class iS extends rh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sS{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&nS(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Oa(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Oa(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=g0();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=E0(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(Ze.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),mt())}isEqual(e){return this.batchId===e.batchId&&Uo(this.mutations,e.mutations,(n,r)=>A_(n,r))&&Uo(this.baseMutations,e.baseMutations,(n,r)=>A_(n,r))}}class Fp{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){$t(e.mutations.length===r.length);let i=function(){return KC}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new Fp(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oS{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aS{constructor(e,n,r){this.alias=e,this.Ee=n,this.fieldPath=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lS{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pn,wt;function uS(t){switch(t){default:return Qe();case me.CANCELLED:case me.UNKNOWN:case me.DEADLINE_EXCEEDED:case me.RESOURCE_EXHAUSTED:case me.INTERNAL:case me.UNAVAILABLE:case me.UNAUTHENTICATED:return!1;case me.INVALID_ARGUMENT:case me.NOT_FOUND:case me.ALREADY_EXISTS:case me.PERMISSION_DENIED:case me.FAILED_PRECONDITION:case me.ABORTED:case me.OUT_OF_RANGE:case me.UNIMPLEMENTED:case me.DATA_LOSS:return!0}}function I0(t){if(t===void 0)return wi("GRPC error has no .code"),me.UNKNOWN;switch(t){case pn.OK:return me.OK;case pn.CANCELLED:return me.CANCELLED;case pn.UNKNOWN:return me.UNKNOWN;case pn.DEADLINE_EXCEEDED:return me.DEADLINE_EXCEEDED;case pn.RESOURCE_EXHAUSTED:return me.RESOURCE_EXHAUSTED;case pn.INTERNAL:return me.INTERNAL;case pn.UNAVAILABLE:return me.UNAVAILABLE;case pn.UNAUTHENTICATED:return me.UNAUTHENTICATED;case pn.INVALID_ARGUMENT:return me.INVALID_ARGUMENT;case pn.NOT_FOUND:return me.NOT_FOUND;case pn.ALREADY_EXISTS:return me.ALREADY_EXISTS;case pn.PERMISSION_DENIED:return me.PERMISSION_DENIED;case pn.FAILED_PRECONDITION:return me.FAILED_PRECONDITION;case pn.ABORTED:return me.ABORTED;case pn.OUT_OF_RANGE:return me.OUT_OF_RANGE;case pn.UNIMPLEMENTED:return me.UNIMPLEMENTED;case pn.DATA_LOSS:return me.DATA_LOSS;default:return Qe()}}(wt=pn||(pn={}))[wt.OK=0]="OK",wt[wt.CANCELLED=1]="CANCELLED",wt[wt.UNKNOWN=2]="UNKNOWN",wt[wt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",wt[wt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",wt[wt.NOT_FOUND=5]="NOT_FOUND",wt[wt.ALREADY_EXISTS=6]="ALREADY_EXISTS",wt[wt.PERMISSION_DENIED=7]="PERMISSION_DENIED",wt[wt.UNAUTHENTICATED=16]="UNAUTHENTICATED",wt[wt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",wt[wt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",wt[wt.ABORTED=10]="ABORTED",wt[wt.OUT_OF_RANGE=11]="OUT_OF_RANGE",wt[wt.UNIMPLEMENTED=12]="UNIMPLEMENTED",wt[wt.INTERNAL=13]="INTERNAL",wt[wt.UNAVAILABLE=14]="UNAVAILABLE",wt[wt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cS(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hS=new Io([4294967295,4294967295],0);function S_(t){const e=cS().encode(t),n=new pC;return n.update(e),new Uint8Array(n.digest())}function R_(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Io([n,r],0),new Io([i,s],0)]}class $p{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Ta(`Invalid padding: ${n}`);if(r<0)throw new Ta(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ta(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Ta(`Invalid padding when bitmap length is 0: ${n}`);this.Ae=8*e.length-n,this.Re=Io.fromNumber(this.Ae)}Ve(e,n,r){let i=e.add(n.multiply(Io.fromNumber(r)));return i.compare(hS)===1&&(i=new Io([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Re).toNumber()}me(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ae===0)return!1;const n=S_(e),[r,i]=R_(n);for(let s=0;s<this.hashCount;s++){const o=this.Ve(r,i,s);if(!this.me(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new $p(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ae===0)return;const n=S_(e),[r,i]=R_(n);for(let s=0;s<this.hashCount;s++){const o=this.Ve(r,i,s);this.fe(o)}}fe(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Ta extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ih{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Sl.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new ih(Ze.min(),i,new Jt(Et),vi(),mt())}}class Sl{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Sl(r,n,mt(),mt(),mt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fu{constructor(e,n,r,i){this.ge=e,this.removedTargetIds=n,this.key=r,this.pe=i}}class A0{constructor(e,n){this.targetId=e,this.ye=n}}class x0{constructor(e,n,r=qn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class P_{constructor(){this.we=0,this.Se=O_(),this.be=qn.EMPTY_BYTE_STRING,this.De=!1,this.Ce=!0}get current(){return this.De}get resumeToken(){return this.be}get ve(){return this.we!==0}get Fe(){return this.Ce}Me(e){e.approximateByteSize()>0&&(this.Ce=!0,this.be=e)}xe(){let e=mt(),n=mt(),r=mt();return this.Se.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Qe()}}),new Sl(this.be,this.De,e,n,r)}Oe(){this.Ce=!1,this.Se=O_()}Ne(e,n){this.Ce=!0,this.Se=this.Se.insert(e,n)}Be(e){this.Ce=!0,this.Se=this.Se.remove(e)}Le(){this.we+=1}ke(){this.we-=1}qe(){this.Ce=!0,this.De=!0}}class dS{constructor(e){this.Qe=e,this.Ke=new Map,this.$e=vi(),this.Ue=D_(),this.We=new Jt(Et)}Ge(e){for(const n of e.ge)e.pe&&e.pe.isFoundDocument()?this.ze(n,e.pe):this.je(n,e.key,e.pe);for(const n of e.removedTargetIds)this.je(n,e.key,e.pe)}He(e){this.forEachTarget(e,n=>{const r=this.Je(n);switch(e.state){case 0:this.Ye(n)&&r.Me(e.resumeToken);break;case 1:r.ke(),r.ve||r.Oe(),r.Me(e.resumeToken);break;case 2:r.ke(),r.ve||this.removeTarget(n);break;case 3:this.Ye(n)&&(r.qe(),r.Me(e.resumeToken));break;case 4:this.Ye(n)&&(this.Ze(n),r.Me(e.resumeToken));break;default:Qe()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Ke.forEach((r,i)=>{this.Ye(i)&&n(i)})}Xe(e){const n=e.targetId,r=e.ye.count,i=this.et(n);if(i){const s=i.target;if(ff(s))if(r===0){const o=new Ve(s.path);this.je(n,o,Mn.newNoDocument(o,Ze.min()))}else $t(r===1);else{const o=this.tt(n);if(o!==r){const a=this.nt(e),l=a?this.rt(a,e,o):1;if(l!==0){this.Ze(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.We=this.We.insert(n,u)}}}}}nt(e){const n=e.ye.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=Us(r).toUint8Array()}catch(l){if(l instanceof r0)return Vo("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new $p(o,i,s)}catch(l){return Vo(l instanceof Ta?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ae===0?null:a}rt(e,n,r){return n.ye.count===r-this.ot(e,n.targetId)?0:2}ot(e,n){const r=this.Qe.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Qe.st(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.je(n,s,null),i++)}),i}_t(e){const n=new Map;this.Ke.forEach((s,o)=>{const a=this.et(o);if(a){if(s.current&&ff(a.target)){const l=new Ve(a.target.path);this.$e.get(l)!==null||this.ut(o,l)||this.je(o,l,Mn.newNoDocument(l,e))}s.Fe&&(n.set(o,s.xe()),s.Oe())}});let r=mt();this.Ue.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const u=this.et(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.$e.forEach((s,o)=>o.setReadTime(e));const i=new ih(e,n,this.We,this.$e,r);return this.$e=vi(),this.Ue=D_(),this.We=new Jt(Et),i}ze(e,n){if(!this.Ye(e))return;const r=this.ut(e,n.key)?2:0;this.Je(e).Ne(n.key,r),this.$e=this.$e.insert(n.key,n),this.Ue=this.Ue.insert(n.key,this.ct(n.key).add(e))}je(e,n,r){if(!this.Ye(e))return;const i=this.Je(e);this.ut(e,n)?i.Ne(n,1):i.Be(n),this.Ue=this.Ue.insert(n,this.ct(n).delete(e)),r&&(this.$e=this.$e.insert(n,r))}removeTarget(e){this.Ke.delete(e)}tt(e){const n=this.Je(e).xe();return this.Qe.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Le(e){this.Je(e).Le()}Je(e){let n=this.Ke.get(e);return n||(n=new P_,this.Ke.set(e,n)),n}ct(e){let n=this.Ue.get(e);return n||(n=new zn(Et),this.Ue=this.Ue.insert(e,n)),n}Ye(e){const n=this.et(e)!==null;return n||Ne("WatchChangeAggregator","Detected inactive target",e),n}et(e){const n=this.Ke.get(e);return n&&n.ve?null:this.Qe.lt(e)}Ze(e){this.Ke.set(e,new P_),this.Qe.getRemoteKeysForTarget(e).forEach(n=>{this.je(e,n,null)})}ut(e,n){return this.Qe.getRemoteKeysForTarget(e).has(n)}}function D_(){return new Jt(Ve.comparator)}function O_(){return new Jt(Ve.comparator)}const fS=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),pS=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),mS=(()=>({and:"AND",or:"OR"}))();class gS{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function mf(t,e){return t.useProto3Json||Xc(e)?e:{value:e}}function mc(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function C0(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function _S(t,e){return mc(t,e.toTimestamp())}function Zr(t){return $t(!!t),Ze.fromTimestamp(function(n){const r=Gi(n);return new tt(r.seconds,r.nanos)}(t))}function Bp(t,e){return function(r){return new Ft(["projects",r.projectId,"databases",r.database])}(t).child("documents").child(e).canonicalString()}function S0(t){const e=Ft.fromString(t);return $t(N0(e)),e}function gf(t,e){return Bp(t.databaseId,e.path)}function gd(t,e){const n=S0(e);if(n.get(1)!==t.databaseId.projectId)throw new Ie(me.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Ie(me.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Ve(R0(n))}function _f(t,e){return Bp(t.databaseId,e)}function wS(t){const e=S0(t);return e.length===4?Ft.emptyPath():R0(e)}function wf(t){return new Ft(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function R0(t){return $t(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function N_(t,e,n){return{name:gf(t,e),fields:n.value.mapValue.fields}}function vS(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:Qe()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(u,d){return u.useProto3Json?($t(d===void 0||typeof d=="string"),qn.fromBase64String(d||"")):($t(d===void 0||d instanceof Uint8Array),qn.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const d=u.code===void 0?me.UNKNOWN:I0(u.code);return new Ie(d,u.message||"")}(o);n=new x0(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=gd(t,r.document.name),s=Zr(r.document.updateTime),o=r.document.createTime?Zr(r.document.createTime):Ze.min(),a=new rr({mapValue:{fields:r.document.fields}}),l=Mn.newFoundDocument(i,s,o,a),u=r.targetIds||[],d=r.removedTargetIds||[];n=new Fu(u,d,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=gd(t,r.document),s=r.readTime?Zr(r.readTime):Ze.min(),o=Mn.newNoDocument(i,s),a=r.removedTargetIds||[];n=new Fu([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=gd(t,r.document),s=r.removedTargetIds||[];n=new Fu([],s,i,null)}else{if(!("filter"in e))return Qe();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new lS(i,s),a=r.targetId;n=new A0(a,o)}}return n}function yS(t,e){let n;if(e instanceof Cl)n={update:N_(t,e.key,e.value)};else if(e instanceof Up)n={delete:gf(t,e.key)};else if(e instanceof es)n={update:N_(t,e.key,e.data),updateMask:CS(e.fieldMask)};else{if(!(e instanceof iS))return Qe();n={verify:gf(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof fc)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof sl)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof ol)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof pc)return{fieldPath:o.field.canonicalString(),increment:a.Te};throw Qe()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:_S(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Qe()}(t,e.precondition)),n}function bS(t,e){return t&&t.length>0?($t(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?Zr(i.updateTime):Zr(s);return o.isEqual(Ze.min())&&(o=Zr(s)),new tS(o,i.transformResults||[])}(n,e))):[]}function kS(t,e){return{documents:[_f(t,e.path)]}}function P0(t,e){const n={structuredQuery:{}},r=e.path;e.collectionGroup!==null?(n.parent=_f(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=_f(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(l){if(l.length!==0)return O0(Cr.create(l,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const s=function(l){if(l.length!==0)return l.map(u=>function(f){return{field:Ui(f.field),direction:IS(f.dir)}}(u))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=mf(t,e.limit);return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),n}function ES(t){let e=wS(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){$t(r===1);const d=n.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let s=[];n.where&&(s=function(f){const p=D0(f);return p instanceof Cr&&a0(p)?p.getFilters():[p]}(n.where));let o=[];n.orderBy&&(o=function(f){return f.map(p=>function(b){return new Ao(fo(b.field),function(A){switch(A){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(b.direction))}(p))}(n.orderBy));let a=null;n.limit&&(a=function(f){let p;return p=typeof f=="object"?f.value:f,Xc(p)?null:p}(n.limit));let l=null;n.startAt&&(l=function(f){const p=!!f.before,m=f.values||[];return new Bo(m,p)}(n.startAt));let u=null;return n.endAt&&(u=function(f){const p=!f.before,m=f.values||[];return new Bo(m,p)}(n.endAt)),jC(e,i,o,s,a,"F",l,u)}function TS(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Qe()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function D0(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=fo(n.unaryFilter.field);return gn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=fo(n.unaryFilter.field);return gn.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=fo(n.unaryFilter.field);return gn.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=fo(n.unaryFilter.field);return gn.create(o,"!=",{nullValue:"NULL_VALUE"});default:return Qe()}}(t):t.fieldFilter!==void 0?function(n){return gn.create(fo(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Qe()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Cr.create(n.compositeFilter.filters.map(r=>D0(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Qe()}}(n.compositeFilter.op))}(t):Qe()}function IS(t){return fS[t]}function AS(t){return pS[t]}function xS(t){return mS[t]}function Ui(t){return{fieldPath:t.canonicalString()}}function fo(t){return Un.fromServerFormat(t.fieldPath)}function O0(t){return t instanceof gn?function(n){if(n.op==="=="){if(y_(n.value))return{unaryFilter:{field:Ui(n.field),op:"IS_NAN"}};if(v_(n.value))return{unaryFilter:{field:Ui(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(y_(n.value))return{unaryFilter:{field:Ui(n.field),op:"IS_NOT_NAN"}};if(v_(n.value))return{unaryFilter:{field:Ui(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ui(n.field),op:AS(n.op),value:n.value}}}(t):t instanceof Cr?function(n){const r=n.getFilters().map(i=>O0(i));return r.length===1?r[0]:{compositeFilter:{op:xS(n.op),filters:r}}}(t):Qe()}function CS(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function N0(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fi{constructor(e,n,r,i,s=Ze.min(),o=Ze.min(),a=qn.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Fi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Fi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Fi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Fi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SS{constructor(e){this.ht=e}}function RS(t){const e=ES({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?dc(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PS{constructor(){this.an=new DS}addToCollectionParentIndex(e,n){return this.an.add(n),ke.resolve()}getCollectionParents(e,n){return ke.resolve(this.an.getEntries(n))}addFieldIndex(e,n){return ke.resolve()}deleteFieldIndex(e,n){return ke.resolve()}deleteAllFieldIndexes(e){return ke.resolve()}createTargetIndexes(e,n){return ke.resolve()}getDocumentsMatchingTarget(e,n){return ke.resolve(null)}getIndexType(e,n){return ke.resolve(0)}getFieldIndexes(e,n){return ke.resolve([])}getNextCollectionGroupToUpdate(e){return ke.resolve(null)}getMinOffset(e,n){return ke.resolve(Ki.min())}getMinOffsetFromCollectionGroup(e,n){return ke.resolve(Ki.min())}updateCollectionGroup(e,n,r){return ke.resolve()}updateIndexEntries(e,n){return ke.resolve()}}class DS{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new zn(Ft.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new zn(Ft.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zo{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static Bn(){return new zo(0)}static Ln(){return new zo(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OS{constructor(){this.changes=new ea(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Mn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?ke.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NS{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MS{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Oa(r.mutation,i,ar.empty(),tt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,mt()).next(()=>r))}getLocalViewOfDocuments(e,n,r=mt()){const i=Es();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Ea();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Es();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,mt()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=vi();const o=Da(),a=function(){return Da()}();return n.forEach((l,u)=>{const d=r.get(u.key);i.has(u.key)&&(d===void 0||d.mutation instanceof es)?s=s.insert(u.key,u):d!==void 0?(o.set(u.key,d.mutation.getFieldMask()),Oa(d.mutation,u,d.mutation.getFieldMask(),tt.now())):o.set(u.key,ar.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((u,d)=>o.set(u,d)),n.forEach((u,d)=>{var f;return a.set(u,new NS(d,(f=o.get(u))!==null&&f!==void 0?f:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Da();let i=new Jt((o,a)=>o-a),s=mt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let d=r.get(l)||ar.empty();d=a.applyToLocalView(u,d),r.set(l,d);const f=(i.get(a.batchId)||mt()).add(l);i=i.insert(a.batchId,f)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,d=l.value,f=g0();d.forEach(p=>{if(!s.has(p)){const m=E0(n.get(p),r.get(p));m!==null&&f.set(p,m),s=s.add(p)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,f))}return ke.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return Ve.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Vp(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):ke.resolve(Es());let a=-1,l=s;return o.next(u=>ke.forEach(u,(d,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),s.get(d)?ke.resolve():this.remoteDocumentCache.getEntry(e,d).next(p=>{l=l.insert(d,p)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,l,u,mt())).next(d=>({batchId:a,changes:m0(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ve(n)).next(r=>{let i=Ea();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=Ea();return this.indexManager.getCollectionParents(e,s).next(a=>ke.forEach(a,l=>{const u=function(f,p){return new qs(p,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(d=>{d.forEach((f,p)=>{o=o.insert(f,p)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((l,u)=>{const d=u.getKey();o.get(d)===null&&(o=o.insert(d,Mn.newInvalidDocument(d)))});let a=Ea();return o.forEach((l,u)=>{const d=s.get(l);d!==void 0&&Oa(d.mutation,u,ar.empty(),tt.now()),th(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LS{constructor(e){this.serializer=e,this.lr=new Map,this.hr=new Map}getBundleMetadata(e,n){return ke.resolve(this.lr.get(n))}saveBundleMetadata(e,n){return this.lr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Zr(i.createTime)}}(n)),ke.resolve()}getNamedQuery(e,n){return ke.resolve(this.hr.get(n))}saveNamedQuery(e,n){return this.hr.set(n.name,function(i){return{name:i.name,query:RS(i.bundledQuery),readTime:Zr(i.readTime)}}(n)),ke.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VS{constructor(){this.overlays=new Jt(Ve.comparator),this.Pr=new Map}getOverlay(e,n){return ke.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Es();return ke.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.It(e,n,s)}),ke.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Pr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Pr.delete(r)),ke.resolve()}getOverlaysForCollection(e,n,r){const i=Es(),s=n.length+1,o=new Ve(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return ke.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Jt((u,d)=>u-d);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let d=s.get(u.largestBatchId);d===null&&(d=Es(),s=s.insert(u.largestBatchId,d)),d.set(u.getKey(),u)}}const a=Es(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,d)=>a.set(u,d)),!(a.size()>=i)););return ke.resolve(a)}It(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.Pr.get(i.largestBatchId).delete(r.key);this.Pr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new oS(n,r));let s=this.Pr.get(n);s===void 0&&(s=mt(),this.Pr.set(n,s)),this.Pr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zp{constructor(){this.Ir=new zn(En.dr),this.Tr=new zn(En.Er)}isEmpty(){return this.Ir.isEmpty()}addReference(e,n){const r=new En(e,n);this.Ir=this.Ir.add(r),this.Tr=this.Tr.add(r)}Ar(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Rr(new En(e,n))}Vr(e,n){e.forEach(r=>this.removeReference(r,n))}mr(e){const n=new Ve(new Ft([])),r=new En(n,e),i=new En(n,e+1),s=[];return this.Tr.forEachInRange([r,i],o=>{this.Rr(o),s.push(o.key)}),s}gr(){this.Ir.forEach(e=>this.Rr(e))}Rr(e){this.Ir=this.Ir.delete(e),this.Tr=this.Tr.delete(e)}pr(e){const n=new Ve(new Ft([])),r=new En(n,e),i=new En(n,e+1);let s=mt();return this.Tr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new En(e,0),r=this.Ir.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class En{constructor(e,n){this.key=e,this.yr=n}static dr(e,n){return Ve.comparator(e.key,n.key)||Et(e.yr,n.yr)}static Er(e,n){return Et(e.yr,n.yr)||Ve.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class US{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.wr=1,this.Sr=new zn(En.dr)}checkEmpty(e){return ke.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.wr;this.wr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new sS(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.Sr=this.Sr.add(new En(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return ke.resolve(o)}lookupMutationBatch(e,n){return ke.resolve(this.br(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.Dr(r),s=i<0?0:i;return ke.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return ke.resolve(this.mutationQueue.length===0?-1:this.wr-1)}getAllMutationBatches(e){return ke.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new En(n,0),i=new En(n,Number.POSITIVE_INFINITY),s=[];return this.Sr.forEachInRange([r,i],o=>{const a=this.br(o.yr);s.push(a)}),ke.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new zn(Et);return n.forEach(i=>{const s=new En(i,0),o=new En(i,Number.POSITIVE_INFINITY);this.Sr.forEachInRange([s,o],a=>{r=r.add(a.yr)})}),ke.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;Ve.isDocumentKey(s)||(s=s.child(""));const o=new En(new Ve(s),0);let a=new zn(Et);return this.Sr.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.yr)),!0)},o),ke.resolve(this.Cr(a))}Cr(e){const n=[];return e.forEach(r=>{const i=this.br(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){$t(this.vr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Sr;return ke.forEach(n.mutations,i=>{const s=new En(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Sr=r})}xn(e){}containsKey(e,n){const r=new En(n,0),i=this.Sr.firstAfterOrEqual(r);return ke.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,ke.resolve()}vr(e,n){return this.Dr(e)}Dr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}br(e){const n=this.Dr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FS{constructor(e){this.Fr=e,this.docs=function(){return new Jt(Ve.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Fr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return ke.resolve(r?r.document.mutableCopy():Mn.newInvalidDocument(n))}getEntries(e,n){let r=vi();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Mn.newInvalidDocument(i))}),ke.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=vi();const o=n.path,a=new Ve(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:d}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||AC(IC(d),r)<=0||(i.has(d.key)||th(n,d))&&(s=s.insert(d.key,d.mutableCopy()))}return ke.resolve(s)}getAllFromCollectionGroup(e,n,r,i){Qe()}Mr(e,n){return ke.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new $S(this)}getSize(e){return ke.resolve(this.size)}}class $S extends OS{constructor(e){super(),this.ur=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.ur.addEntry(e,i)):this.ur.removeEntry(r)}),ke.waitFor(n)}getFromCache(e,n){return this.ur.getEntry(e,n)}getAllFromCache(e,n){return this.ur.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BS{constructor(e){this.persistence=e,this.Or=new ea(n=>Op(n),Np),this.lastRemoteSnapshotVersion=Ze.min(),this.highestTargetId=0,this.Nr=0,this.Br=new zp,this.targetCount=0,this.Lr=zo.Bn()}forEachTarget(e,n){return this.Or.forEach((r,i)=>n(i)),ke.resolve()}getLastRemoteSnapshotVersion(e){return ke.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ke.resolve(this.Nr)}allocateTargetId(e){return this.highestTargetId=this.Lr.next(),ke.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Nr&&(this.Nr=n),ke.resolve()}Qn(e){this.Or.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Lr=new zo(n),this.highestTargetId=n),e.sequenceNumber>this.Nr&&(this.Nr=e.sequenceNumber)}addTargetData(e,n){return this.Qn(n),this.targetCount+=1,ke.resolve()}updateTargetData(e,n){return this.Qn(n),ke.resolve()}removeTargetData(e,n){return this.Or.delete(n.target),this.Br.mr(n.targetId),this.targetCount-=1,ke.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Or.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Or.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),ke.waitFor(s).next(()=>i)}getTargetCount(e){return ke.resolve(this.targetCount)}getTargetData(e,n){const r=this.Or.get(n)||null;return ke.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Ar(n,r),ke.resolve()}removeMatchingKeys(e,n,r){this.Br.Vr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),ke.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Br.mr(n),ke.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.pr(n);return ke.resolve(r)}containsKey(e,n){return ke.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zS{constructor(e,n){this.kr={},this.overlays={},this.qr=new Rp(0),this.Qr=!1,this.Qr=!0,this.referenceDelegate=e(this),this.Kr=new BS(this),this.indexManager=new PS,this.remoteDocumentCache=function(i){return new FS(i)}(r=>this.referenceDelegate.$r(r)),this.serializer=new SS(n),this.Ur=new LS(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Qr=!1,Promise.resolve()}get started(){return this.Qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new VS,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.kr[e.toKey()];return r||(r=new US(n,this.referenceDelegate),this.kr[e.toKey()]=r),r}getTargetCache(){return this.Kr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ur}runTransaction(e,n,r){Ne("MemoryPersistence","Starting transaction:",e);const i=new jS(this.qr.next());return this.referenceDelegate.Wr(),r(i).next(s=>this.referenceDelegate.Gr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}zr(e,n){return ke.or(Object.values(this.kr).map(r=>()=>r.containsKey(e,n)))}}class jS extends CC{constructor(e){super(),this.currentSequenceNumber=e}}class jp{constructor(e){this.persistence=e,this.jr=new zp,this.Hr=null}static Jr(e){return new jp(e)}get Yr(){if(this.Hr)return this.Hr;throw Qe()}addReference(e,n,r){return this.jr.addReference(r,n),this.Yr.delete(r.toString()),ke.resolve()}removeReference(e,n,r){return this.jr.removeReference(r,n),this.Yr.add(r.toString()),ke.resolve()}markPotentiallyOrphaned(e,n){return this.Yr.add(n.toString()),ke.resolve()}removeTarget(e,n){this.jr.mr(n.targetId).forEach(i=>this.Yr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Yr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Wr(){this.Hr=new Set}Gr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ke.forEach(this.Yr,r=>{const i=Ve.fromPath(r);return this.Zr(e,i).next(s=>{s||n.removeEntry(i,Ze.min())})}).next(()=>(this.Hr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Zr(e,n).next(r=>{r?this.Yr.delete(n.toString()):this.Yr.add(n.toString())})}$r(e){return 0}Zr(e,n){return ke.or([()=>ke.resolve(this.jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.zr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qp{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Qi=r,this.Ki=i}static $i(e,n){let r=mt(),i=mt();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new qp(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qS{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HS{constructor(){this.Ui=!1,this.Wi=!1,this.Gi=100,this.zi=8}initialize(e,n){this.ji=e,this.indexManager=n,this.Ui=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.Hi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Ji(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new qS;return this.Yi(e,n,o).next(a=>{if(s.result=a,this.Wi)return this.Zi(e,n,o,a.size)})}).next(()=>s.result)}Zi(e,n,r,i){return r.documentReadCount<this.Gi?(da()<=_t.DEBUG&&Ne("QueryEngine","SDK will not create cache indexes for query:",ho(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Gi,"documents"),ke.resolve()):(da()<=_t.DEBUG&&Ne("QueryEngine","Query:",ho(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.zi*i?(da()<=_t.DEBUG&&Ne("QueryEngine","The SDK decides to create cache indexes for query:",ho(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Xr(n))):ke.resolve())}Hi(e,n){if(T_(n))return ke.resolve(null);let r=Xr(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=dc(n,null,"F"),r=Xr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=mt(...s);return this.ji.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.Xi(n,a);return this.es(n,u,o,l.readTime)?this.Hi(e,dc(n,null,"F")):this.ts(e,u,n,l)}))})))}Ji(e,n,r,i){return T_(n)||i.isEqual(Ze.min())?ke.resolve(null):this.ji.getDocuments(e,r).next(s=>{const o=this.Xi(n,s);return this.es(n,o,r,i)?ke.resolve(null):(da()<=_t.DEBUG&&Ne("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),ho(n)),this.ts(e,o,n,TC(i,-1)).next(a=>a))})}Xi(e,n){let r=new zn(f0(e));return n.forEach((i,s)=>{th(e,s)&&(r=r.add(s))}),r}es(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Yi(e,n,r){return da()<=_t.DEBUG&&Ne("QueryEngine","Using full collection scan to execute query:",ho(n)),this.ji.getDocumentsMatchingQuery(e,n,Ki.min(),r)}ts(e,n,r,i){return this.ji.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WS{constructor(e,n,r,i){this.persistence=e,this.ns=n,this.serializer=i,this.rs=new Jt(Et),this.ss=new ea(s=>Op(s),Np),this.os=new Map,this._s=e.getRemoteDocumentCache(),this.Kr=e.getTargetCache(),this.Ur=e.getBundleCache(),this.us(r)}us(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new MS(this._s,this.mutationQueue,this.documentOverlayCache,this.indexManager),this._s.setIndexManager(this.indexManager),this.ns.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.rs))}}function KS(t,e,n,r){return new WS(t,e,n,r)}async function M0(t,e){const n=et(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.us(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=mt();for(const u of i){o.push(u.batchId);for(const d of u.mutations)l=l.add(d.key)}for(const u of s){a.push(u.batchId);for(const d of u.mutations)l=l.add(d.key)}return n.localDocuments.getDocuments(r,l).next(u=>({cs:u,removedBatchIds:o,addedBatchIds:a}))})})}function GS(t,e){const n=et(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n._s.newChangeBuffer({trackRemovals:!0});return function(a,l,u,d){const f=u.batch,p=f.keys();let m=ke.resolve();return p.forEach(b=>{m=m.next(()=>d.getEntry(l,b)).next(y=>{const A=u.docVersions.get(b);$t(A!==null),y.version.compareTo(A)<0&&(f.applyToRemoteDocument(y,u),y.isValidDocument()&&(y.setReadTime(u.commitVersion),d.addEntry(y)))})}),m.next(()=>a.mutationQueue.removeMutationBatch(l,f))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=mt();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function L0(t){const e=et(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Kr.getLastRemoteSnapshotVersion(n))}function QS(t,e){const n=et(t),r=e.snapshotVersion;let i=n.rs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n._s.newChangeBuffer({trackRemovals:!0});i=n.rs;const a=[];e.targetChanges.forEach((d,f)=>{const p=i.get(f);if(!p)return;a.push(n.Kr.removeMatchingKeys(s,d.removedDocuments,f).next(()=>n.Kr.addMatchingKeys(s,d.addedDocuments,f)));let m=p.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(f)!==null?m=m.withResumeToken(qn.EMPTY_BYTE_STRING,Ze.min()).withLastLimboFreeSnapshotVersion(Ze.min()):d.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(d.resumeToken,r)),i=i.insert(f,m),function(y,A,I){return y.resumeToken.approximateByteSize()===0||A.snapshotVersion.toMicroseconds()-y.snapshotVersion.toMicroseconds()>=3e8?!0:I.addedDocuments.size+I.modifiedDocuments.size+I.removedDocuments.size>0}(p,m,d)&&a.push(n.Kr.updateTargetData(s,m))});let l=vi(),u=mt();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,d))}),a.push(YS(s,o,e.documentUpdates).next(d=>{l=d.ls,u=d.hs})),!r.isEqual(Ze.min())){const d=n.Kr.getLastRemoteSnapshotVersion(s).next(f=>n.Kr.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(d)}return ke.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,u)).next(()=>l)}).then(s=>(n.rs=i,s))}function YS(t,e,n){let r=mt(),i=mt();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=vi();return n.forEach((a,l)=>{const u=s.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(Ze.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):Ne("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{ls:o,hs:i}})}function XS(t,e){const n=et(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function ZS(t,e){const n=et(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Kr.getTargetData(r,e).next(s=>s?(i=s,ke.resolve(i)):n.Kr.allocateTargetId(r).next(o=>(i=new Fi(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Kr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.rs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.rs=n.rs.insert(r.targetId,r),n.ss.set(e,r.targetId)),r})}async function vf(t,e,n){const r=et(t),i=r.rs.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!xl(o))throw o;Ne("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.rs=r.rs.remove(e),r.ss.delete(i.target)}function M_(t,e,n){const r=et(t);let i=Ze.min(),s=mt();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,u,d){const f=et(l),p=f.ss.get(d);return p!==void 0?ke.resolve(f.rs.get(p)):f.Kr.getTargetData(u,d)}(r,o,Xr(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Kr.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.ns.getDocumentsMatchingQuery(o,e,n?i:Ze.min(),n?s:mt())).next(a=>(JS(r,qC(e),a),{documents:a,Ps:s})))}function JS(t,e,n){let r=t.os.get(e)||Ze.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.os.set(e,r)}class L_{constructor(){this.activeTargetIds=YC()}Rs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}As(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class eR{constructor(){this.ro=new L_,this.io={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.ro.Rs(e),this.io[e]||"not-current"}updateQueryState(e,n,r){this.io[e]=n}removeLocalQueryTarget(e){this.ro.Vs(e)}isLocalQueryTarget(e){return this.ro.activeTargetIds.has(e)}clearQueryState(e){delete this.io[e]}getAllActiveQueryTargets(){return this.ro.activeTargetIds}isActiveQueryTarget(e){return this.ro.activeTargetIds.has(e)}start(){return this.ro=new L_,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tR{so(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V_{constructor(){this.oo=()=>this._o(),this.ao=()=>this.uo(),this.co=[],this.lo()}so(e){this.co.push(e)}shutdown(){window.removeEventListener("online",this.oo),window.removeEventListener("offline",this.ao)}lo(){window.addEventListener("online",this.oo),window.addEventListener("offline",this.ao)}_o(){Ne("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.co)e(0)}uo(){Ne("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.co)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vu=null;function _d(){return vu===null?vu=function(){return 268435456+Math.round(2147483648*Math.random())}():vu++,"0x"+vu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nR={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rR{constructor(e){this.ho=e.ho,this.Po=e.Po}Io(e){this.To=e}Eo(e){this.Ao=e}onMessage(e){this.Ro=e}close(){this.Po()}send(e){this.ho(e)}Vo(){this.To()}mo(e){this.Ao(e)}fo(e){this.Ro(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const On="WebChannelConnection";class iR extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.po=r+"://"+n.host,this.yo=`projects/${i}/databases/${s}`,this.wo=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get So(){return!1}bo(n,r,i,s,o){const a=_d(),l=this.Do(n,r);Ne("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);const u={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Co(u,s,o),this.vo(n,l,u,i).then(d=>(Ne("RestConnection",`Received RPC '${n}' ${a}: `,d),d),d=>{throw Vo("RestConnection",`RPC '${n}' ${a} failed with error: `,d,"url: ",l,"request:",i),d})}Fo(n,r,i,s,o,a){return this.bo(n,r,i,s,o)}Co(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Jo}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}Do(n,r){const i=nR[n];return`${this.po}/v1/${r}:${i}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,n,r,i){const s=_d();return new Promise((o,a)=>{const l=new fC;l.setWithCredentials(!0),l.listenOnce(hC.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case md.NO_ERROR:const d=l.getResponseJson();Ne(On,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(d)),o(d);break;case md.TIMEOUT:Ne(On,`RPC '${e}' ${s} timed out`),a(new Ie(me.DEADLINE_EXCEEDED,"Request time out"));break;case md.HTTP_ERROR:const f=l.getStatus();if(Ne(On,`RPC '${e}' ${s} failed with status:`,f,"response text:",l.getResponseText()),f>0){let p=l.getResponseJson();Array.isArray(p)&&(p=p[0]);const m=p==null?void 0:p.error;if(m&&m.status&&m.message){const b=function(A){const I=A.toLowerCase().replace(/_/g,"-");return Object.values(me).indexOf(I)>=0?I:me.UNKNOWN}(m.status);a(new Ie(b,m.message))}else a(new Ie(me.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new Ie(me.UNAVAILABLE,"Connection failed."));break;default:Qe()}}finally{Ne(On,`RPC '${e}' ${s} completed.`)}});const u=JSON.stringify(i);Ne(On,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",u,r,15)})}Mo(e,n,r){const i=_d(),s=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=uC(),a=cC(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Co(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const d=s.join("");Ne(On,`Creating RPC '${e}' stream ${i}: ${d}`,l);const f=o.createWebChannel(d,l);let p=!1,m=!1;const b=new rR({ho:A=>{m?Ne(On,`Not sending because RPC '${e}' stream ${i} is closed:`,A):(p||(Ne(On,`Opening RPC '${e}' stream ${i} transport.`),f.open(),p=!0),Ne(On,`RPC '${e}' stream ${i} sending:`,A),f.send(A))},Po:()=>f.close()}),y=(A,I,x)=>{A.listen(I,R=>{try{x(R)}catch(P){setTimeout(()=>{throw P},0)}})};return y(f,gu.EventType.OPEN,()=>{m||Ne(On,`RPC '${e}' stream ${i} transport opened.`)}),y(f,gu.EventType.CLOSE,()=>{m||(m=!0,Ne(On,`RPC '${e}' stream ${i} transport closed`),b.mo())}),y(f,gu.EventType.ERROR,A=>{m||(m=!0,Vo(On,`RPC '${e}' stream ${i} transport errored:`,A),b.mo(new Ie(me.UNAVAILABLE,"The operation could not be completed")))}),y(f,gu.EventType.MESSAGE,A=>{var I;if(!m){const x=A.data[0];$t(!!x);const R=x,P=R.error||((I=R[0])===null||I===void 0?void 0:I.error);if(P){Ne(On,`RPC '${e}' stream ${i} received error:`,P);const B=P.status;let G=function(ee){const Z=pn[ee];if(Z!==void 0)return I0(Z)}(B),F=P.message;G===void 0&&(G=me.INTERNAL,F="Unknown error status: "+B+" with message "+P.message),m=!0,b.mo(new Ie(G,F)),f.close()}else Ne(On,`RPC '${e}' stream ${i} received:`,x),b.fo(x)}}),y(a,dC.STAT_EVENT,A=>{A.stat===p_.PROXY?Ne(On,`RPC '${e}' stream ${i} detected buffering proxy`):A.stat===p_.NOPROXY&&Ne(On,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{b.Vo()},0),b}}function wd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sh(t){return new gS(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V0{constructor(e,n,r=1e3,i=1.5,s=6e4){this._i=e,this.timerId=n,this.xo=r,this.Oo=i,this.No=s,this.Bo=0,this.Lo=null,this.ko=Date.now(),this.reset()}reset(){this.Bo=0}qo(){this.Bo=this.No}Qo(e){this.cancel();const n=Math.floor(this.Bo+this.Ko()),r=Math.max(0,Date.now()-this.ko),i=Math.max(0,n-r);i>0&&Ne("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Bo} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Lo=this._i.enqueueAfterDelay(this.timerId,i,()=>(this.ko=Date.now(),e())),this.Bo*=this.Oo,this.Bo<this.xo&&(this.Bo=this.xo),this.Bo>this.No&&(this.Bo=this.No)}$o(){this.Lo!==null&&(this.Lo.skipDelay(),this.Lo=null)}cancel(){this.Lo!==null&&(this.Lo.cancel(),this.Lo=null)}Ko(){return(Math.random()-.5)*this.Bo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U0{constructor(e,n,r,i,s,o,a,l){this._i=e,this.Uo=r,this.Wo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Go=0,this.zo=null,this.jo=null,this.stream=null,this.Ho=new V0(e,n)}Jo(){return this.state===1||this.state===5||this.Yo()}Yo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Zo()}async stop(){this.Jo()&&await this.close(0)}Xo(){this.state=0,this.Ho.reset()}e_(){this.Yo()&&this.zo===null&&(this.zo=this._i.enqueueAfterDelay(this.Uo,6e4,()=>this.t_()))}n_(e){this.r_(),this.stream.send(e)}async t_(){if(this.Yo())return this.close(0)}r_(){this.zo&&(this.zo.cancel(),this.zo=null)}i_(){this.jo&&(this.jo.cancel(),this.jo=null)}async close(e,n){this.r_(),this.i_(),this.Ho.cancel(),this.Go++,e!==4?this.Ho.reset():n&&n.code===me.RESOURCE_EXHAUSTED?(wi(n.toString()),wi("Using maximum backoff delay to prevent overloading the backend."),this.Ho.qo()):n&&n.code===me.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.s_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Eo(n)}s_(){}auth(){this.state=1;const e=this.o_(this.Go),n=this.Go;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Go===n&&this.__(r,i)},r=>{e(()=>{const i=new Ie(me.UNKNOWN,"Fetching auth token failed: "+r.message);return this.a_(i)})})}__(e,n){const r=this.o_(this.Go);this.stream=this.u_(e,n),this.stream.Io(()=>{r(()=>(this.state=2,this.jo=this._i.enqueueAfterDelay(this.Wo,1e4,()=>(this.Yo()&&(this.state=3),Promise.resolve())),this.listener.Io()))}),this.stream.Eo(i=>{r(()=>this.a_(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Zo(){this.state=5,this.Ho.Qo(async()=>{this.state=0,this.start()})}a_(e){return Ne("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}o_(e){return n=>{this._i.enqueueAndForget(()=>this.Go===e?n():(Ne("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class sR extends U0{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}u_(e,n){return this.connection.Mo("Listen",e,n)}onMessage(e){this.Ho.reset();const n=vS(this.serializer,e),r=function(s){if(!("targetChange"in s))return Ze.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?Ze.min():o.readTime?Zr(o.readTime):Ze.min()}(e);return this.listener.c_(n,r)}l_(e){const n={};n.database=wf(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=ff(l)?{documents:kS(s,l)}:{query:P0(s,l)},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=C0(s,o.resumeToken);const u=mf(s,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(Ze.min())>0){a.readTime=mc(s,o.snapshotVersion.toTimestamp());const u=mf(s,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=TS(this.serializer,e);r&&(n.labels=r),this.n_(n)}h_(e){const n={};n.database=wf(this.serializer),n.removeTarget=e,this.n_(n)}}class oR extends U0{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.P_=!1}get I_(){return this.P_}start(){this.P_=!1,this.lastStreamToken=void 0,super.start()}s_(){this.P_&&this.d_([])}u_(e,n){return this.connection.Mo("Write",e,n)}onMessage(e){if($t(!!e.streamToken),this.lastStreamToken=e.streamToken,this.P_){this.Ho.reset();const n=bS(e.writeResults,e.commitTime),r=Zr(e.commitTime);return this.listener.T_(r,n)}return $t(!e.writeResults||e.writeResults.length===0),this.P_=!0,this.listener.E_()}A_(){const e={};e.database=wf(this.serializer),this.n_(e)}d_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>yS(this.serializer,r))};this.n_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aR extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.R_=!1}V_(){if(this.R_)throw new Ie(me.FAILED_PRECONDITION,"The client has already been terminated.")}bo(e,n,r){return this.V_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.bo(e,n,r,i,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===me.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Ie(me.UNKNOWN,i.toString())})}Fo(e,n,r,i){return this.V_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Fo(e,n,r,s,o,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===me.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Ie(me.UNKNOWN,s.toString())})}terminate(){this.R_=!0}}async function lR(t,e,n){var r;const i=et(t),{request:s,m_:o}=function(f,p,m){const b=P0(f,p),y={},A=[];let I=0;return m.forEach(x=>{const R="aggregate_"+I++;y[R]=x.alias,x.Ee==="count"?A.push({alias:R,count:{}}):x.Ee==="avg"?A.push({alias:R,avg:{field:Ui(x.fieldPath)}}):x.Ee==="sum"&&A.push({alias:R,sum:{field:Ui(x.fieldPath)}})}),{request:{structuredAggregationQuery:{aggregations:A,structuredQuery:b.structuredQuery},parent:b.parent},m_:y}}(i.serializer,function(f){const p=et(f);return p.de||(p.de=h0(p,f.explicitOrderBy)),p.de}(e),n),a=s.parent;i.connection.So||delete s.parent;const l=(await i.Fo("RunAggregationQuery",a,s,1)).filter(d=>!!d.result);$t(l.length===1);const u=(r=l[0].result)===null||r===void 0?void 0:r.aggregateFields;return Object.keys(u).reduce((d,f)=>(d[o[f]]=u[f],d),{})}class uR{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.f_=0,this.g_=null,this.p_=!0}y_(){this.f_===0&&(this.w_("Unknown"),this.g_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.g_=null,this.S_("Backend didn't respond within 10 seconds."),this.w_("Offline"),Promise.resolve())))}b_(e){this.state==="Online"?this.w_("Unknown"):(this.f_++,this.f_>=1&&(this.D_(),this.S_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.w_("Offline")))}set(e){this.D_(),this.f_=0,e==="Online"&&(this.p_=!1),this.w_(e)}w_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}S_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.p_?(wi(n),this.p_=!1):Ne("OnlineStateTracker",n)}D_(){this.g_!==null&&(this.g_.cancel(),this.g_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cR{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.C_=[],this.v_=new Map,this.F_=new Set,this.M_=[],this.x_=s,this.x_.so(o=>{r.enqueueAndForget(async()=>{Hs(this)&&(Ne("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=et(l);u.F_.add(4),await Rl(u),u.O_.set("Unknown"),u.F_.delete(4),await oh(u)}(this))})}),this.O_=new uR(r,i)}}async function oh(t){if(Hs(t))for(const e of t.M_)await e(!0)}async function Rl(t){for(const e of t.M_)await e(!1)}function F0(t,e){const n=et(t);n.v_.has(e.targetId)||(n.v_.set(e.targetId,e),Kp(n)?Wp(n):ta(n).Yo()&&Hp(n,e))}function $0(t,e){const n=et(t),r=ta(n);n.v_.delete(e),r.Yo()&&B0(n,e),n.v_.size===0&&(r.Yo()?r.e_():Hs(n)&&n.O_.set("Unknown"))}function Hp(t,e){if(t.N_.Le(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ze.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ta(t).l_(e)}function B0(t,e){t.N_.Le(e),ta(t).h_(e)}function Wp(t){t.N_=new dS({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>t.v_.get(e)||null,st:()=>t.datastore.serializer.databaseId}),ta(t).start(),t.O_.y_()}function Kp(t){return Hs(t)&&!ta(t).Jo()&&t.v_.size>0}function Hs(t){return et(t).F_.size===0}function z0(t){t.N_=void 0}async function hR(t){t.v_.forEach((e,n)=>{Hp(t,e)})}async function dR(t,e){z0(t),Kp(t)?(t.O_.b_(e),Wp(t)):t.O_.set("Unknown")}async function fR(t,e,n){if(t.O_.set("Online"),e instanceof x0&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.v_.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.v_.delete(a),i.N_.removeTarget(a))}(t,e)}catch(r){Ne("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await gc(t,r)}else if(e instanceof Fu?t.N_.Ge(e):e instanceof A0?t.N_.Xe(e):t.N_.He(e),!n.isEqual(Ze.min()))try{const r=await L0(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.N_._t(o);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const d=s.v_.get(u);d&&s.v_.set(u,d.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,u)=>{const d=s.v_.get(l);if(!d)return;s.v_.set(l,d.withResumeToken(qn.EMPTY_BYTE_STRING,d.snapshotVersion)),B0(s,l);const f=new Fi(d.target,l,u,d.sequenceNumber);Hp(s,f)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){Ne("RemoteStore","Failed to raise snapshot:",r),await gc(t,r)}}async function gc(t,e,n){if(!xl(e))throw e;t.F_.add(1),await Rl(t),t.O_.set("Offline"),n||(n=()=>L0(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Ne("RemoteStore","Retrying IndexedDB access"),await n(),t.F_.delete(1),await oh(t)})}function j0(t,e){return e().catch(n=>gc(t,n,e))}async function ah(t){const e=et(t),n=Qi(e);let r=e.C_.length>0?e.C_[e.C_.length-1].batchId:-1;for(;pR(e);)try{const i=await XS(e.localStore,r);if(i===null){e.C_.length===0&&n.e_();break}r=i.batchId,mR(e,i)}catch(i){await gc(e,i)}q0(e)&&H0(e)}function pR(t){return Hs(t)&&t.C_.length<10}function mR(t,e){t.C_.push(e);const n=Qi(t);n.Yo()&&n.I_&&n.d_(e.mutations)}function q0(t){return Hs(t)&&!Qi(t).Jo()&&t.C_.length>0}function H0(t){Qi(t).start()}async function gR(t){Qi(t).A_()}async function _R(t){const e=Qi(t);for(const n of t.C_)e.d_(n.mutations)}async function wR(t,e,n){const r=t.C_.shift(),i=Fp.from(r,e,n);await j0(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await ah(t)}async function vR(t,e){e&&Qi(t).I_&&await async function(r,i){if(function(o){return uS(o)&&o!==me.ABORTED}(i.code)){const s=r.C_.shift();Qi(r).Xo(),await j0(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await ah(r)}}(t,e),q0(t)&&H0(t)}async function U_(t,e){const n=et(t);n.asyncQueue.verifyOperationInProgress(),Ne("RemoteStore","RemoteStore received new credentials");const r=Hs(n);n.F_.add(3),await Rl(n),r&&n.O_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.F_.delete(3),await oh(n)}async function yR(t,e){const n=et(t);e?(n.F_.delete(2),await oh(n)):e||(n.F_.add(2),await Rl(n),n.O_.set("Unknown"))}function ta(t){return t.B_||(t.B_=function(n,r,i){const s=et(n);return s.V_(),new sR(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Io:hR.bind(null,t),Eo:dR.bind(null,t),c_:fR.bind(null,t)}),t.M_.push(async e=>{e?(t.B_.Xo(),Kp(t)?Wp(t):t.O_.set("Unknown")):(await t.B_.stop(),z0(t))})),t.B_}function Qi(t){return t.L_||(t.L_=function(n,r,i){const s=et(n);return s.V_(),new oR(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Io:gR.bind(null,t),Eo:vR.bind(null,t),E_:_R.bind(null,t),T_:wR.bind(null,t)}),t.M_.push(async e=>{e?(t.L_.Xo(),await ah(t)):(await t.L_.stop(),t.C_.length>0&&(Ne("RemoteStore",`Stopping write stream with ${t.C_.length} pending writes`),t.C_=[]))})),t.L_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gp{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Yr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new Gp(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ie(me.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Qp(t,e){if(wi("AsyncQueue",`${e}: ${t}`),xl(t))return new Ie(me.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Co{constructor(e){this.comparator=e?(n,r)=>e(n,r)||Ve.comparator(n.key,r.key):(n,r)=>Ve.comparator(n.key,r.key),this.keyedMap=Ea(),this.sortedSet=new Jt(this.comparator)}static emptySet(e){return new Co(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Co)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Co;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F_{constructor(){this.k_=new Jt(Ve.comparator)}track(e){const n=e.doc.key,r=this.k_.get(n);r?e.type!==0&&r.type===3?this.k_=this.k_.insert(n,e):e.type===3&&r.type!==1?this.k_=this.k_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.k_=this.k_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.k_=this.k_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.k_=this.k_.remove(n):e.type===1&&r.type===2?this.k_=this.k_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.k_=this.k_.insert(n,{type:2,doc:e.doc}):Qe():this.k_=this.k_.insert(n,e)}q_(){const e=[];return this.k_.inorderTraversal((n,r)=>{e.push(r)}),e}}class jo{constructor(e,n,r,i,s,o,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new jo(e,n,Co.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&eh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bR{constructor(){this.Q_=void 0,this.listeners=[]}}class kR{constructor(){this.queries=new ea(e=>d0(e),eh),this.onlineState="Unknown",this.K_=new Set}}async function W0(t,e){const n=et(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new bR),i)try{s.Q_=await n.onListen(r)}catch(o){const a=Qp(o,`Initialization of query '${ho(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.listeners.push(e),e.U_(n.onlineState),s.Q_&&e.W_(s.Q_)&&Yp(n)}async function K0(t,e){const n=et(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=s.listeners.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function ER(t,e){const n=et(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.listeners)a.W_(i)&&(r=!0);o.Q_=i}}r&&Yp(n)}function TR(t,e,n){const r=et(t),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(e)}function Yp(t){t.K_.forEach(e=>{e.next()})}class G0{constructor(e,n,r){this.query=e,this.G_=n,this.z_=!1,this.j_=null,this.onlineState="Unknown",this.options=r||{}}W_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new jo(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.z_?this.H_(e)&&(this.G_.next(e),n=!0):this.J_(e,this.onlineState)&&(this.Y_(e),n=!0),this.j_=e,n}onError(e){this.G_.error(e)}U_(e){this.onlineState=e;let n=!1;return this.j_&&!this.z_&&this.J_(this.j_,e)&&(this.Y_(this.j_),n=!0),n}J_(e,n){if(!e.fromCache)return!0;const r=n!=="Offline";return(!this.options.Z_||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}H_(e){if(e.docChanges.length>0)return!0;const n=this.j_&&this.j_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Y_(e){e=jo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.z_=!0,this.G_.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q0{constructor(e){this.key=e}}class Y0{constructor(e){this.key=e}}class IR{constructor(e,n){this.query=e,this.oa=n,this._a=null,this.hasCachedResults=!1,this.current=!1,this.aa=mt(),this.mutatedKeys=mt(),this.ua=f0(e),this.ca=new Co(this.ua)}get la(){return this.oa}ha(e,n){const r=n?n.Pa:new F_,i=n?n.ca:this.ca;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,f)=>{const p=i.get(d),m=th(this.query,f)?f:null,b=!!p&&this.mutatedKeys.has(p.key),y=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let A=!1;p&&m?p.data.isEqual(m.data)?b!==y&&(r.track({type:3,doc:m}),A=!0):this.Ia(p,m)||(r.track({type:2,doc:m}),A=!0,(l&&this.ua(m,l)>0||u&&this.ua(m,u)<0)&&(a=!0)):!p&&m?(r.track({type:0,doc:m}),A=!0):p&&!m&&(r.track({type:1,doc:p}),A=!0,(l||u)&&(a=!0)),A&&(m?(o=o.add(m),s=y?s.add(d):s.delete(d)):(o=o.delete(d),s=s.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),s=s.delete(d.key),r.track({type:1,doc:d})}return{ca:o,Pa:r,es:a,mutatedKeys:s}}Ia(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.ca;this.ca=e.ca,this.mutatedKeys=e.mutatedKeys;const s=e.Pa.q_();s.sort((u,d)=>function(p,m){const b=y=>{switch(y){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Qe()}};return b(p)-b(m)}(u.type,d.type)||this.ua(u.doc,d.doc)),this.da(r);const o=n?this.Ta():[],a=this.aa.size===0&&this.current?1:0,l=a!==this._a;return this._a=a,s.length!==0||l?{snapshot:new jo(this.query,e.ca,i,s,e.mutatedKeys,a===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ea:o}:{Ea:o}}U_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ca:this.ca,Pa:new F_,mutatedKeys:this.mutatedKeys,es:!1},!1)):{Ea:[]}}Aa(e){return!this.oa.has(e)&&!!this.ca.has(e)&&!this.ca.get(e).hasLocalMutations}da(e){e&&(e.addedDocuments.forEach(n=>this.oa=this.oa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.oa=this.oa.delete(n)),this.current=e.current)}Ta(){if(!this.current)return[];const e=this.aa;this.aa=mt(),this.ca.forEach(r=>{this.Aa(r.key)&&(this.aa=this.aa.add(r.key))});const n=[];return e.forEach(r=>{this.aa.has(r)||n.push(new Y0(r))}),this.aa.forEach(r=>{e.has(r)||n.push(new Q0(r))}),n}Ra(e){this.oa=e.Ps,this.aa=mt();const n=this.ha(e.documents);return this.applyChanges(n,!0)}Va(){return jo.fromInitialDocuments(this.query,this.ca,this.mutatedKeys,this._a===0,this.hasCachedResults)}}class AR{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class xR{constructor(e){this.key=e,this.ma=!1}}class CR{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.fa={},this.ga=new ea(a=>d0(a),eh),this.pa=new Map,this.ya=new Set,this.wa=new Jt(Ve.comparator),this.Sa=new Map,this.ba=new zp,this.Da={},this.Ca=new Map,this.va=zo.Ln(),this.onlineState="Unknown",this.Fa=void 0}get isPrimaryClient(){return this.Fa===!0}}async function SR(t,e){const n=FR(t);let r,i;const s=n.ga.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.Va();else{const o=await ZS(n.localStore,Xr(e)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=await RR(n,e,r,a==="current",o.resumeToken),n.isPrimaryClient&&F0(n.remoteStore,o)}return i}async function RR(t,e,n,r,i){t.Ma=(f,p,m)=>async function(y,A,I,x){let R=A.view.ha(I);R.es&&(R=await M_(y.localStore,A.query,!1).then(({documents:G})=>A.view.ha(G,R)));const P=x&&x.targetChanges.get(A.targetId),B=A.view.applyChanges(R,y.isPrimaryClient,P);return B_(y,A.targetId,B.Ea),B.snapshot}(t,f,p,m);const s=await M_(t.localStore,e,!0),o=new IR(e,s.Ps),a=o.ha(s.documents),l=Sl.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=o.applyChanges(a,t.isPrimaryClient,l);B_(t,n,u.Ea);const d=new AR(e,n,o);return t.ga.set(e,d),t.pa.has(n)?t.pa.get(n).push(e):t.pa.set(n,[e]),u.snapshot}async function PR(t,e){const n=et(t),r=n.ga.get(e),i=n.pa.get(r.targetId);if(i.length>1)return n.pa.set(r.targetId,i.filter(s=>!eh(s,e))),void n.ga.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await vf(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),$0(n.remoteStore,r.targetId),yf(n,r.targetId)}).catch(Al)):(yf(n,r.targetId),await vf(n.localStore,r.targetId,!0))}async function DR(t,e,n){const r=$R(t);try{const i=await function(o,a){const l=et(o),u=tt.now(),d=a.reduce((m,b)=>m.add(b.key),mt());let f,p;return l.persistence.runTransaction("Locally write mutations","readwrite",m=>{let b=vi(),y=mt();return l._s.getEntries(m,d).next(A=>{b=A,b.forEach((I,x)=>{x.isValidDocument()||(y=y.add(I))})}).next(()=>l.localDocuments.getOverlayedDocuments(m,b)).next(A=>{f=A;const I=[];for(const x of a){const R=rS(x,f.get(x.key).overlayedDocument);R!=null&&I.push(new es(x.key,R,i0(R.value.mapValue),pr.exists(!0)))}return l.mutationQueue.addMutationBatch(m,u,I,a)}).next(A=>{p=A;const I=A.applyToLocalDocumentSet(f,y);return l.documentOverlayCache.saveOverlays(m,A.batchId,I)})}).then(()=>({batchId:p.batchId,changes:m0(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let u=o.Da[o.currentUser.toKey()];u||(u=new Jt(Et)),u=u.insert(a,l),o.Da[o.currentUser.toKey()]=u}(r,i.batchId,n),await Pl(r,i.changes),await ah(r.remoteStore)}catch(i){const s=Qp(i,"Failed to persist write");n.reject(s)}}async function X0(t,e){const n=et(t);try{const r=await QS(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Sa.get(s);o&&($t(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.ma=!0:i.modifiedDocuments.size>0?$t(o.ma):i.removedDocuments.size>0&&($t(o.ma),o.ma=!1))}),await Pl(n,r,e)}catch(r){await Al(r)}}function $_(t,e,n){const r=et(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.ga.forEach((s,o)=>{const a=o.view.U_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=et(o);l.onlineState=a;let u=!1;l.queries.forEach((d,f)=>{for(const p of f.listeners)p.U_(a)&&(u=!0)}),u&&Yp(l)}(r.eventManager,e),i.length&&r.fa.c_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function OR(t,e,n){const r=et(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Sa.get(e),s=i&&i.key;if(s){let o=new Jt(Ve.comparator);o=o.insert(s,Mn.newNoDocument(s,Ze.min()));const a=mt().add(s),l=new ih(Ze.min(),new Map,new Jt(Et),o,a);await X0(r,l),r.wa=r.wa.remove(s),r.Sa.delete(e),Xp(r)}else await vf(r.localStore,e,!1).then(()=>yf(r,e,n)).catch(Al)}async function NR(t,e){const n=et(t),r=e.batch.batchId;try{const i=await GS(n.localStore,e);J0(n,r,null),Z0(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Pl(n,i)}catch(i){await Al(i)}}async function MR(t,e,n){const r=et(t);try{const i=await function(o,a){const l=et(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let d;return l.mutationQueue.lookupMutationBatch(u,a).next(f=>($t(f!==null),d=f.keys(),l.mutationQueue.removeMutationBatch(u,f))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,d,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,d)).next(()=>l.localDocuments.getDocuments(u,d))})}(r.localStore,e);J0(r,e,n),Z0(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Pl(r,i)}catch(i){await Al(i)}}function Z0(t,e){(t.Ca.get(e)||[]).forEach(n=>{n.resolve()}),t.Ca.delete(e)}function J0(t,e,n){const r=et(t);let i=r.Da[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Da[r.currentUser.toKey()]=i}}function yf(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.pa.get(e))t.ga.delete(r),n&&t.fa.xa(r,n);t.pa.delete(e),t.isPrimaryClient&&t.ba.mr(e).forEach(r=>{t.ba.containsKey(r)||eb(t,r)})}function eb(t,e){t.ya.delete(e.path.canonicalString());const n=t.wa.get(e);n!==null&&($0(t.remoteStore,n),t.wa=t.wa.remove(e),t.Sa.delete(n),Xp(t))}function B_(t,e,n){for(const r of n)r instanceof Q0?(t.ba.addReference(r.key,e),LR(t,r)):r instanceof Y0?(Ne("SyncEngine","Document no longer in limbo: "+r.key),t.ba.removeReference(r.key,e),t.ba.containsKey(r.key)||eb(t,r.key)):Qe()}function LR(t,e){const n=e.key,r=n.path.canonicalString();t.wa.get(n)||t.ya.has(r)||(Ne("SyncEngine","New document in limbo: "+n),t.ya.add(r),Xp(t))}function Xp(t){for(;t.ya.size>0&&t.wa.size<t.maxConcurrentLimboResolutions;){const e=t.ya.values().next().value;t.ya.delete(e);const n=new Ve(Ft.fromString(e)),r=t.va.next();t.Sa.set(r,new xR(n)),t.wa=t.wa.insert(n,r),F0(t.remoteStore,new Fi(Xr(Mp(n.path)),r,"TargetPurposeLimboResolution",Rp.ae))}}async function Pl(t,e,n){const r=et(t),i=[],s=[],o=[];r.ga.isEmpty()||(r.ga.forEach((a,l)=>{o.push(r.Ma(l,e,n).then(u=>{if((u||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,u!=null&&u.fromCache?"not-current":"current"),u){i.push(u);const d=qp.$i(l.targetId,u);s.push(d)}}))}),await Promise.all(o),r.fa.c_(i),await async function(l,u){const d=et(l);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>ke.forEach(u,p=>ke.forEach(p.Qi,m=>d.persistence.referenceDelegate.addReference(f,p.targetId,m)).next(()=>ke.forEach(p.Ki,m=>d.persistence.referenceDelegate.removeReference(f,p.targetId,m)))))}catch(f){if(!xl(f))throw f;Ne("LocalStore","Failed to update sequence numbers: "+f)}for(const f of u){const p=f.targetId;if(!f.fromCache){const m=d.rs.get(p),b=m.snapshotVersion,y=m.withLastLimboFreeSnapshotVersion(b);d.rs=d.rs.insert(p,y)}}}(r.localStore,s))}async function VR(t,e){const n=et(t);if(!n.currentUser.isEqual(e)){Ne("SyncEngine","User change. New user:",e.toKey());const r=await M0(n.localStore,e);n.currentUser=e,function(s,o){s.Ca.forEach(a=>{a.forEach(l=>{l.reject(new Ie(me.CANCELLED,o))})}),s.Ca.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Pl(n,r.cs)}}function UR(t,e){const n=et(t),r=n.Sa.get(e);if(r&&r.ma)return mt().add(r.key);{let i=mt();const s=n.pa.get(e);if(!s)return i;for(const o of s){const a=n.ga.get(o);i=i.unionWith(a.view.la)}return i}}function FR(t){const e=et(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=X0.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=UR.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=OR.bind(null,e),e.fa.c_=ER.bind(null,e.eventManager),e.fa.xa=TR.bind(null,e.eventManager),e}function $R(t){const e=et(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=NR.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=MR.bind(null,e),e}class z_{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=sh(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return KS(this.persistence,new HS,e.initialUser,this.serializer)}createPersistence(e){return new zS(jp.Jr,this.serializer)}createSharedClientState(e){return new eR}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class BR{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>$_(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=VR.bind(null,this.syncEngine),await yR(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new kR}()}createDatastore(e){const n=sh(e.databaseInfo.databaseId),r=function(s){return new iR(s)}(e.databaseInfo);return function(s,o,a,l){return new aR(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new cR(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>$_(this.syncEngine,n,0),function(){return V_.C()?new V_:new tR}())}createSyncEngine(e,n){return function(i,s,o,a,l,u,d){const f=new CR(i,s,o,a,l,u);return d&&(f.Fa=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(n){const r=et(n);Ne("RemoteStore","RemoteStore shutting down."),r.F_.add(5),await Rl(r),r.x_.shutdown(),r.O_.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tb{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ba(this.observer.next,e)}error(e){this.observer.error?this.Ba(this.observer.error,e):wi("Uncaught Error in snapshot listener:",e.toString())}La(){this.muted=!0}Ba(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zR{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Nn.UNAUTHENTICATED,this.clientId=t0.V(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{Ne("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(Ne("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Ie(me.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Yr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Qp(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function vd(t,e){t.asyncQueue.verifyOperationInProgress(),Ne("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await M0(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function j_(t,e){t.asyncQueue.verifyOperationInProgress();const n=await qR(t);Ne("FirestoreClient","Initializing OnlineComponentProvider");const r=await t.getConfiguration();await e.initialize(n,r),t.setCredentialChangeListener(i=>U_(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>U_(e.remoteStore,s)),t._onlineComponents=e}function jR(t){return t.name==="FirebaseError"?t.code===me.FAILED_PRECONDITION||t.code===me.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function qR(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Ne("FirestoreClient","Using user provided OfflineComponentProvider");try{await vd(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!jR(n))throw n;Vo("Error using user provided cache. Falling back to memory cache: "+n),await vd(t,new z_)}}else Ne("FirestoreClient","Using default OfflineComponentProvider"),await vd(t,new z_);return t._offlineComponents}async function Zp(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Ne("FirestoreClient","Using user provided OnlineComponentProvider"),await j_(t,t._uninitializedComponentsProvider._online)):(Ne("FirestoreClient","Using default OnlineComponentProvider"),await j_(t,new BR))),t._onlineComponents}function HR(t){return Zp(t).then(e=>e.syncEngine)}function WR(t){return Zp(t).then(e=>e.datastore)}async function nb(t){const e=await Zp(t),n=e.eventManager;return n.onListen=SR.bind(null,e.syncEngine),n.onUnlisten=PR.bind(null,e.syncEngine),n}function KR(t,e,n={}){const r=new Yr;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,u){const d=new tb({next:p=>{o.enqueueAndForget(()=>K0(s,f));const m=p.docs.has(a);!m&&p.fromCache?u.reject(new Ie(me.UNAVAILABLE,"Failed to get document because the client is offline.")):m&&p.fromCache&&l&&l.source==="server"?u.reject(new Ie(me.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(p)},error:p=>u.reject(p)}),f=new G0(Mp(a.path),d,{includeMetadataChanges:!0,Z_:!0});return W0(s,f)}(await nb(t),t.asyncQueue,e,n,r)),r.promise}function GR(t,e,n={}){const r=new Yr;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,u){const d=new tb({next:p=>{o.enqueueAndForget(()=>K0(s,f)),p.fromCache&&l.source==="server"?u.reject(new Ie(me.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(p)},error:p=>u.reject(p)}),f=new G0(a,d,{includeMetadataChanges:!0,Z_:!0});return W0(s,f)}(await nb(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rb(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q_=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ib(t,e,n){if(!n)throw new Ie(me.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function QR(t,e,n,r){if(e===!0&&r===!0)throw new Ie(me.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function H_(t){if(!Ve.isDocumentKey(t))throw new Ie(me.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function W_(t){if(Ve.isDocumentKey(t))throw new Ie(me.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function lh(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Qe()}function mr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Ie(me.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=lh(t);throw new Ie(me.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function YR(t,e){if(e<=0)throw new Ie(me.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K_{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Ie(me.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Ie(me.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}QR("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=rb((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new Ie(me.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new Ie(me.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new Ie(me.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class uh{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new K_({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Ie(me.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new Ie(me.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new K_(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new mC;switch(r.type){case"firstParty":return new vC(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Ie(me.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=q_.get(n);r&&(Ne("ComponentProvider","Removing Datastore"),q_.delete(n),r.terminate())}(this),Promise.resolve()}}function XR(t,e,n,r={}){var i;const s=(t=mr(t,uh))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&Vo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=Nn.MOCK_USER;else{a=AT(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new Ie(me.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Nn(u)}t._authCredentials=new gC(new e0(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ei{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Ei(this.firestore,e,this._query)}}class Qn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Hi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Qn(this.firestore,e,this._key)}}class Hi extends Ei{constructor(e,n,r){super(e,n,Mp(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Qn(this.firestore,null,new Ve(e))}withConverter(e){return new Hi(this.firestore,e,this._path)}}function Mt(t,e,...n){if(t=Zt(t),ib("collection","path",e),t instanceof uh){const r=Ft.fromString(e,...n);return W_(r),new Hi(t,null,r)}{if(!(t instanceof Qn||t instanceof Hi))throw new Ie(me.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ft.fromString(e,...n));return W_(r),new Hi(t.firestore,null,r)}}function ft(t,e,...n){if(t=Zt(t),arguments.length===1&&(e=t0.V()),ib("doc","path",e),t instanceof uh){const r=Ft.fromString(e,...n);return H_(r),new Qn(t,null,new Ve(r))}{if(!(t instanceof Qn||t instanceof Hi))throw new Ie(me.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ft.fromString(e,...n));return H_(r),new Qn(t.firestore,t instanceof Hi?t.converter:null,new Ve(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZR{constructor(){this.Za=Promise.resolve(),this.Xa=[],this.eu=!1,this.tu=[],this.nu=null,this.ru=!1,this.iu=!1,this.su=[],this.Ho=new V0(this,"async_queue_retry"),this.ou=()=>{const n=wd();n&&Ne("AsyncQueue","Visibility state changed to "+n.visibilityState),this.Ho.$o()};const e=wd();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.ou)}get isShuttingDown(){return this.eu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this._u(),this.au(e)}enterRestrictedMode(e){if(!this.eu){this.eu=!0,this.iu=e||!1;const n=wd();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.ou)}}enqueue(e){if(this._u(),this.eu)return new Promise(()=>{});const n=new Yr;return this.au(()=>this.eu&&this.iu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xa.push(e),this.uu()))}async uu(){if(this.Xa.length!==0){try{await this.Xa[0](),this.Xa.shift(),this.Ho.reset()}catch(e){if(!xl(e))throw e;Ne("AsyncQueue","Operation failed with retryable error: "+e)}this.Xa.length>0&&this.Ho.Qo(()=>this.uu())}}au(e){const n=this.Za.then(()=>(this.ru=!0,e().catch(r=>{this.nu=r,this.ru=!1;const i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw wi("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.ru=!1,r))));return this.Za=n,n}enqueueAfterDelay(e,n,r){this._u(),this.su.indexOf(e)>-1&&(n=0);const i=Gp.createAndSchedule(this,e,n,r,s=>this.cu(s));return this.tu.push(i),i}_u(){this.nu&&Qe()}verifyOperationInProgress(){}async lu(){let e;do e=this.Za,await e;while(e!==this.Za)}hu(e){for(const n of this.tu)if(n.timerId===e)return!0;return!1}Pu(e){return this.lu().then(()=>{this.tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.lu()})}Iu(e){this.su.push(e)}cu(e){const n=this.tu.indexOf(e);this.tu.splice(n,1)}}class ts extends uh{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new ZR}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||sb(this),this._firestoreClient.terminate()}}function JR(t,e){const n=typeof t=="object"?t:mv(),r=typeof t=="string"?t:e||"(default)",i=Xf(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=TT("firestore");s&&XR(i,...s)}return i}function ch(t){return t._firestoreClient||sb(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function sb(t){var e,n,r;const i=t._freezeSettings(),s=function(a,l,u,d){return new PC(a,l,u,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,rb(d.experimentalLongPollingOptions),d.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new zR(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eP{constructor(e="count",n){this._aggregateType=e,this._internalFieldPath=n,this.type="AggregateField"}}class tP{constructor(e,n,r){this._userDataWriter=n,this._data=r,this.type="AggregateQuerySnapshot",this.query=e}data(){return this._userDataWriter.convertObjectMap(this._data)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new qo(qn.fromBase64String(e))}catch(n){throw new Ie(me.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new qo(qn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hh{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Ie(me.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Un(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jp{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class em{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Ie(me.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Ie(me.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Et(this._lat,e._lat)||Et(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nP=/^__.*__$/;class rP{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new es(e,this.data,this.fieldMask,n,this.fieldTransforms):new Cl(e,this.data,n,this.fieldTransforms)}}class ob{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new es(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function ab(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Qe()}}class tm{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.du(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Tu(){return this.settings.Tu}Eu(e){return new tm(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Au(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Eu({path:r,Ru:!1});return i.Vu(e),i}mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Eu({path:r,Ru:!1});return i.du(),i}fu(e){return this.Eu({path:void 0,Ru:!0})}gu(e){return _c(e,this.settings.methodName,this.settings.pu||!1,this.path,this.settings.yu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}du(){if(this.path)for(let e=0;e<this.path.length;e++)this.Vu(this.path.get(e))}Vu(e){if(e.length===0)throw this.gu("Document fields must not be empty");if(ab(this.Tu)&&nP.test(e))throw this.gu('Document fields cannot begin and end with "__"')}}class iP{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||sh(e)}wu(e,n,r,i=!1){return new tm({Tu:e,methodName:n,yu:r,path:Un.emptyPath(),Ru:!1,pu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Dl(t){const e=t._freezeSettings(),n=sh(t._databaseId);return new iP(t._databaseId,!!e.ignoreUndefinedProperties,n)}function lb(t,e,n,r,i,s={}){const o=t.wu(s.merge||s.mergeFields?2:0,e,n,i);nm("Data must be an object, but it was:",o,r);const a=cb(r,o);let l,u;if(s.merge)l=new ar(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const d=[];for(const f of s.mergeFields){const p=bf(e,f,n);if(!o.contains(p))throw new Ie(me.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);db(d,p)||d.push(p)}l=new ar(d),u=o.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,u=o.fieldTransforms;return new rP(new rr(a),l,u)}class dh extends Jp{_toFieldTransform(e){if(e.Tu!==2)throw e.Tu===1?e.gu(`${this._methodName}() can only appear at the top level of your update data`):e.gu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof dh}}function sP(t,e,n,r){const i=t.wu(1,e,n);nm("Data must be an object, but it was:",i,r);const s=[],o=rr.empty();js(r,(l,u)=>{const d=rm(e,l,n);u=Zt(u);const f=i.mu(d);if(u instanceof dh)s.push(d);else{const p=Ol(u,f);p!=null&&(s.push(d),o.set(d,p))}});const a=new ar(s);return new ob(o,a,i.fieldTransforms)}function oP(t,e,n,r,i,s){const o=t.wu(1,e,n),a=[bf(e,r,n)],l=[i];if(s.length%2!=0)throw new Ie(me.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let p=0;p<s.length;p+=2)a.push(bf(e,s[p])),l.push(s[p+1]);const u=[],d=rr.empty();for(let p=a.length-1;p>=0;--p)if(!db(u,a[p])){const m=a[p];let b=l[p];b=Zt(b);const y=o.mu(m);if(b instanceof dh)u.push(m);else{const A=Ol(b,y);A!=null&&(u.push(m),d.set(m,A))}}const f=new ar(u);return new ob(d,f,o.fieldTransforms)}function ub(t,e,n,r=!1){return Ol(n,t.wu(r?4:3,e))}function Ol(t,e){if(hb(t=Zt(t)))return nm("Unsupported field value:",e,t),cb(t,e);if(t instanceof Jp)return function(r,i){if(!ab(i.Tu))throw i.gu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.gu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Ru&&e.Tu!==4)throw e.gu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let l=Ol(a,i.fu(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=Zt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return XC(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=tt.fromDate(r);return{timestampValue:mc(i.serializer,s)}}if(r instanceof tt){const s=new tt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:mc(i.serializer,s)}}if(r instanceof em)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof qo)return{bytesValue:C0(i.serializer,r._byteString)};if(r instanceof Qn){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.gu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Bp(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.gu(`Unsupported field value: ${lh(r)}`)}(t,e)}function cb(t,e){const n={};return n0(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):js(t,(r,i)=>{const s=Ol(i,e.Au(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function hb(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof tt||t instanceof em||t instanceof qo||t instanceof Qn||t instanceof Jp)}function nm(t,e,n){if(!hb(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=lh(n);throw r==="an object"?e.gu(t+" a custom object"):e.gu(t+" "+r)}}function bf(t,e,n){if((e=Zt(e))instanceof hh)return e._internalPath;if(typeof e=="string")return rm(t,e);throw _c("Field path arguments must be of type string or ",t,!1,void 0,n)}const aP=new RegExp("[~\\*/\\[\\]]");function rm(t,e,n){if(e.search(aP)>=0)throw _c(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new hh(...e.split("."))._internalPath}catch{throw _c(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function _c(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new Ie(me.INVALID_ARGUMENT,a+t+l)}function db(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class im{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Qn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new lP(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(fh("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class lP extends im{data(){return super.data()}}function fh(t,e){return typeof e=="string"?rm(t,e):e instanceof hh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uP(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Ie(me.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class sm{}class ph extends sm{}function dr(t,e,...n){let r=[];e instanceof sm&&r.push(e),r=r.concat(n),function(s){const o=s.filter(l=>l instanceof om).length,a=s.filter(l=>l instanceof mh).length;if(o>1||o>0&&a>0)throw new Ie(me.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class mh extends ph{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new mh(e,n,r)}_apply(e){const n=this._parse(e);return fb(e._query,n),new Ei(e.firestore,e.converter,pf(e._query,n))}_parse(e){const n=Dl(e.firestore);return function(s,o,a,l,u,d,f){let p;if(u.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new Ie(me.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){Y_(f,d);const m=[];for(const b of f)m.push(Q_(l,s,b));p={arrayValue:{values:m}}}else p=Q_(l,s,f)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||Y_(f,d),p=ub(a,o,f,d==="in"||d==="not-in");return gn.create(u,d,p)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function yn(t,e,n){const r=e,i=fh("where",t);return mh._create(i,r,n)}class om extends sm{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new om(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Cr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const l of a)fb(o,l),o=pf(o,l)}(e._query,n),new Ei(e.firestore,e.converter,pf(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class am extends ph{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new am(e,n)}_apply(e){const n=function(i,s,o){if(i.startAt!==null)throw new Ie(me.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new Ie(me.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const a=new Ao(s,o);return function(u,d){if(Lp(u)===null){const f=Jc(u);f!==null&&pb(u,f,d.field)}}(i,a),a}(e._query,this._field,this._direction);return new Ei(e.firestore,e.converter,function(i,s){const o=i.explicitOrderBy.concat([s]);return new qs(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function po(t,e="asc"){const n=e,r=fh("orderBy",t);return am._create(r,n)}class lm extends ph{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new lm(e,n,r)}_apply(e){return new Ei(e.firestore,e.converter,dc(e._query,this._limit,this._limitType))}}function mo(t){return YR("limit",t),lm._create("limit",t,"F")}class um extends ph{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new um(e,n,r)}_apply(e){const n=cP(e,this.type,this._docOrFields,this._inclusive);return new Ei(e.firestore,e.converter,function(i,s){return new qs(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,s,i.endAt)}(e._query,n))}}function G_(...t){return um._create("startAfter",t,!1)}function cP(t,e,n,r){if(n[0]=Zt(n[0]),n[0]instanceof im)return function(s,o,a,l,u){if(!l)throw new Ie(me.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${a}().`);const d=[];for(const f of xo(s))if(f.field.isKeyField())d.push(hc(o,l.key));else{const p=l.data.field(f.field);if(Zc(p))throw new Ie(me.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+f.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(p===null){const m=f.field.canonicalString();throw new Ie(me.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${m}' (used as the orderBy) does not exist.`)}d.push(p)}return new Bo(d,u)}(t._query,t.firestore._databaseId,e,n[0]._document,r);{const i=Dl(t.firestore);return function(o,a,l,u,d,f){const p=o.explicitOrderBy;if(d.length>p.length)throw new Ie(me.INVALID_ARGUMENT,`Too many arguments provided to ${u}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const m=[];for(let b=0;b<d.length;b++){const y=d[b];if(p[b].field.isKeyField()){if(typeof y!="string")throw new Ie(me.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${u}(), but got a ${typeof y}`);if(!Vp(o)&&y.indexOf("/")!==-1)throw new Ie(me.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${u}() must be a plain document ID, but '${y}' contains a slash.`);const A=o.path.child(Ft.fromString(y));if(!Ve.isDocumentKey(A))throw new Ie(me.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${u}() must result in a valid document path, but '${A}' is not because it contains an odd number of segments.`);const I=new Ve(A);m.push(hc(a,I))}else{const A=ub(l,u,y);m.push(A)}}return new Bo(m,f)}(t._query,t.firestore._databaseId,i,e,n,r)}}function Q_(t,e,n){if(typeof(n=Zt(n))=="string"){if(n==="")throw new Ie(me.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Vp(e)&&n.indexOf("/")!==-1)throw new Ie(me.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Ft.fromString(n));if(!Ve.isDocumentKey(r))throw new Ie(me.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return hc(t,new Ve(r))}if(n instanceof Qn)return hc(t,n._key);throw new Ie(me.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${lh(n)}.`)}function Y_(t,e){if(!Array.isArray(t)||t.length===0)throw new Ie(me.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function fb(t,e){if(e.isInequality()){const r=Jc(t),i=e.field;if(r!==null&&!r.isEqual(i))throw new Ie(me.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${i.toString()}'`);const s=Lp(t);s!==null&&pb(t,i,s)}const n=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new Ie(me.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Ie(me.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function pb(t,e,n){if(!n.isEqual(e))throw new Ie(me.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}class hP{convertValue(e,n="none"){switch(Fs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return mn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Us(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw Qe()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return js(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new em(mn(e.latitude),mn(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Pp(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(nl(e));default:return null}}convertTimestamp(e){const n=Gi(e);return new tt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Ft.fromString(e);$t(N0(r));const i=new rl(r.get(1),r.get(3)),s=new Ve(r.popFirst(5));return i.isEqual(n)||wi(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mb(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}function dP(){return new eP("count")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ia{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class gb extends im{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new $u(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(fh("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class $u extends gb{data(e={}){return super.data(e)}}class fP{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Ia(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new $u(this._firestore,this._userDataWriter,r.key,r,new Ia(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Ie(me.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const l=new $u(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Ia(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new $u(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Ia(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,d=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),d=o.indexOf(a.doc.key)),{type:pP(a.type),doc:l,oldIndex:u,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function pP(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Qe()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $s(t){t=mr(t,Qn);const e=mr(t.firestore,ts);return KR(ch(e),t._key).then(n=>gP(e,t,n))}class cm extends hP{constructor(e){super(),this.firestore=e}convertBytes(e){return new qo(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Qn(this.firestore,null,n)}}function jr(t){t=mr(t,Ei);const e=mr(t.firestore,ts),n=ch(e),r=new cm(e);return uP(t._query),GR(n,t._query).then(i=>new fP(e,r,t,i))}function mP(t,e,n){t=mr(t,Qn);const r=mr(t.firestore,ts),i=mb(t.converter,e,n);return gh(r,[lb(Dl(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,pr.none())])}function Wt(t,e,n,...r){t=mr(t,Qn);const i=mr(t.firestore,ts),s=Dl(i);let o;return o=typeof(e=Zt(e))=="string"||e instanceof hh?oP(s,"updateDoc",t._key,e,n,r):sP(s,"updateDoc",t._key,e),gh(i,[o.toMutation(t._key,pr.exists(!0))])}function hm(t){return gh(mr(t.firestore,ts),[new Up(t._key,pr.none())])}function Jr(t,e){const n=mr(t.firestore,ts),r=ft(t),i=mb(t.converter,e);return gh(n,[lb(Dl(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,pr.exists(!1))]).then(()=>r)}function gh(t,e){return function(r,i){const s=new Yr;return r.asyncQueue.enqueueAndForget(async()=>DR(await HR(r),i,s)),s.promise}(ch(t),e)}function gP(t,e,n){const r=n.docs.get(e._key),i=new cm(t);return new gb(t,i,e._key,r,new Ia(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cs(t){return _P(t,{count:dP()})}function _P(t,e){const n=mr(t.firestore,ts),r=ch(n),i=function(o,a){const l=[];for(const u in o)Object.prototype.hasOwnProperty.call(o,u)&&l.push(a(o[u],u,o));return l}(e,(s,o)=>new aS(o,s._aggregateType,s._internalFieldPath));return function(o,a,l){const u=new Yr;return o.asyncQueue.enqueueAndForget(async()=>{try{const d=await WR(o);u.resolve(lR(d,a,l))}catch(d){u.reject(d)}}),u.promise}(r,t._query,i).then(s=>function(a,l,u){const d=new cm(a);return new tP(l,d,u)}(n,t,s))}(function(e,n=!0){(function(i){Jo=i})(Qo),No(new Ds("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new ts(new _C(r.getProvider("auth-internal")),new bC(r.getProvider("app-check-internal")),function(u,d){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new Ie(me.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new rl(u.options.projectId,d)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),qi(m_,"4.2.0",e),qi(m_,"4.2.0","esm2017")})();const wP={class:"fixed bottom-0 left-0 right-0 top-0 z-50 bg-gray-600 bg-opacity-50"},vP={class:"fixed left-1/2 top-0 max-h-screen w-[100vw] -translate-x-1/2 overflow-auto rounded-md bg-gradient-to-br from-orange-600 to-green-400 px-3 py-10 text-center text-xl shadow-lg shadow-black"},yP=N("p",{class:"text-3xl"},"GUIDE",-1),bP={class:"text-sm"},kP=nv('<div class="mt-5"><p class="mb-1 text-2xl">Adding Decks and Cards</p><p> Pressing the &#39;New Deck&#39; button initiates the deck creation menu, where you can specify three parameters: the deck name, the &#39;new cards per day&#39;, and whether the deck utilizes large cards.Opting for &#39;Large Cards&#39; allows for the inclusion of multiline text, HTML components, and Markdown formatting. To use Markdown, simply initiate the field with either &#39;[markdown]&#39; or &#39;[md]&#39; on the first line, with no additional text. For incorporating images, videos, or audio, utilize the &lt;img&gt;, &lt;video&gt;, and &lt;audio&gt; elements in the format &lt;ELEMENT src=&quot;URL HERE&quot; controls&gt;&lt;/ELEMENT&gt;. Note that the &#39;controls&#39; part is not used for images. When adding regular cards, accelerate the process by pressing &#39;Enter&#39; in the back field to add the card. Selecting for &#39;Create Reversed&#39; generates a mirrored card with swapped front and back values. Selecting &#39;Type Answer&#39; mandates inputting the back value during reviews. If &#39;Type Answer&#39; is chosen, any content within square brackets &#39;[]&#39; is ignored and doesn&#39;t need to be imputed (avoid using this with HTML or Markdown). </p></div><div class="mt-5"><p class="text-2xl">Reviews</p><p> Pressing the &#39;Review&#39; button will start the review. The number of reviews available for the day is shown above the &#39;Review&#39; button. During the review process, attempt to recall the answer on the other side of the card. Click the card or press the &#39;space bar&#39; to reveal the answer. If your answer is correct, click the &#39;correct&#39; button (blue) or press the &#39;space bar&#39;. If your answer is incorrect, click the &#39;wrong&#39; button (red) or press the &#39;c&#39; key. For &#39;type answer&#39; cards, input your response and press &#39;enter&#39; or click the &#39;Check&#39; button to reveal the correct answer. To continue, click the card or press either &#39;enter&#39; or &#39;space bar&#39;. Repeat this process until you&#39;ve reviewed all cards and the panel closes. Remember to return the next day for more reviews. Consistently answering correctly will reduce the frequency of seeing a card, while getting a wrong answer will reset its streak. </p></div><div class="mt-5"><p class="text-2xl">Settings</p><p> To access the settings, simply tap on your username. Card review dates are determined by the formula: &#39;today + ((time_multiplier^success_streak) * time_duration)&#39;. Customize your experience by adjusting the time_multiplier in the settings. Note that modifying the time_duration is currently not supported. Additionally, you can modify your username, update your email, or change your password. The default settings are 1.5 for the time_multiplier and 24 hours for the time_duration. </p></div><div class="mt-5"><p class="text-2xl">Editing and Deleting Cards and Decks</p><p> When you double-click on a deck, a variety of options become accessible, empowering you to make changes to both the overall deck and its individual cards. Additionally, card details such as card streaks and next review dates are easily visible. Furthermore, you can fine-tune settings such as the new cards per day and the use of large cards. </p></div><div class="mt-5"><p class="text-2xl">Searching Cards</p><p> When searching, your query will be matched from the beginning of the card&#39;s field. The search is case-sensitive. Additionally, you can utilize the following options: </p><ul class="ml-5 list-disc"><li> Use &#39;f&#39; or &#39;field&#39; to specify the field to search [f:f, f:front, f:b, f:back]. </li></ul></div><div class="mt-5"><p class="text-2xl">Notes</p><p> This app stores your data in Google&#39;s Firebase. All decks, cards and settings are synced between devices. The app works on both desktop and mobile. </p></div>',6),EP={__name:"Guide",props:["appVersion"],emits:["close","showChangelog"],setup(t,{emit:e}){return(n,r)=>(Ae(),De("div",wP,[N("div",vP,[N("button",{onClick:r[0]||(r[0]=i=>n.$emit("close")),class:"mb-5 rounded-md bg-gray-500 p-2 shadow shadow-black"}," Close "),yP,N("p",bP,"App version: "+Tt(t.appVersion),1),N("button",{onClick:r[1]||(r[1]=i=>n.$emit("showChangelog")),class:"rounded-md bg-green-800 p-2"}," Changelog "),kP])]))}},dm=""+new URL("cancel-58c7ea43.svg",import.meta.url).href;var kn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function _h(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function TP(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var _b={exports:{}};/*!
* sweetalert2 v11.10.6
* Released under the MIT License.
*/(function(t,e){(function(n,r){t.exports=r()})(kn,function(){function n(E,h,_){return h=m(h),A(E,i()?Reflect.construct(h,_||[],m(E).constructor):h.apply(E,_))}function r(E,h,_){if(i())return Reflect.construct.apply(null,arguments);var k=[null];k.push.apply(k,h);var $=new(E.bind.apply(E,k));return _&&b($,_.prototype),$}function i(){try{var E=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(i=function(){return!!E})()}function s(E,h){var _=E==null?null:typeof Symbol<"u"&&E[Symbol.iterator]||E["@@iterator"];if(_!=null){var k,$,pe,Se,lt=[],ht=!0,on=!1;try{if(pe=(_=_.call(E)).next,h===0){if(Object(_)!==_)return;ht=!1}else for(;!(ht=(k=pe.call(_)).done)&&(lt.push(k.value),lt.length!==h);ht=!0);}catch(la){on=!0,$=la}finally{try{if(!ht&&_.return!=null&&(Se=_.return(),Object(Se)!==Se))return}finally{if(on)throw $}}return lt}}function o(E,h){if(typeof E!="object"||!E)return E;var _=E[Symbol.toPrimitive];if(_!==void 0){var k=_.call(E,h||"default");if(typeof k!="object")return k;throw new TypeError("@@toPrimitive must return a primitive value.")}return(h==="string"?String:Number)(E)}function a(E){var h=o(E,"string");return typeof h=="symbol"?h:String(h)}function l(E){"@babel/helpers - typeof";return l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(h){return typeof h}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h},l(E)}function u(E,h){if(!(E instanceof h))throw new TypeError("Cannot call a class as a function")}function d(E,h){for(var _=0;_<h.length;_++){var k=h[_];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(E,a(k.key),k)}}function f(E,h,_){return h&&d(E.prototype,h),_&&d(E,_),Object.defineProperty(E,"prototype",{writable:!1}),E}function p(E,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function");E.prototype=Object.create(h&&h.prototype,{constructor:{value:E,writable:!0,configurable:!0}}),Object.defineProperty(E,"prototype",{writable:!1}),h&&b(E,h)}function m(E){return m=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(_){return _.__proto__||Object.getPrototypeOf(_)},m(E)}function b(E,h){return b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(k,$){return k.__proto__=$,k},b(E,h)}function y(E){if(E===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E}function A(E,h){if(h&&(typeof h=="object"||typeof h=="function"))return h;if(h!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return y(E)}function I(E,h){for(;!Object.prototype.hasOwnProperty.call(E,h)&&(E=m(E),E!==null););return E}function x(){return typeof Reflect<"u"&&Reflect.get?x=Reflect.get.bind():x=function(h,_,k){var $=I(h,_);if($){var pe=Object.getOwnPropertyDescriptor($,_);return pe.get?pe.get.call(arguments.length<3?h:k):pe.value}},x.apply(this,arguments)}function R(E,h){return G(E)||s(E,h)||te(E,h)||ae()}function P(E){return B(E)||F(E)||te(E)||Z()}function B(E){if(Array.isArray(E))return ee(E)}function G(E){if(Array.isArray(E))return E}function F(E){if(typeof Symbol<"u"&&E[Symbol.iterator]!=null||E["@@iterator"]!=null)return Array.from(E)}function te(E,h){if(E){if(typeof E=="string")return ee(E,h);var _=Object.prototype.toString.call(E).slice(8,-1);if(_==="Object"&&E.constructor&&(_=E.constructor.name),_==="Map"||_==="Set")return Array.from(E);if(_==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(_))return ee(E,h)}}function ee(E,h){(h==null||h>E.length)&&(h=E.length);for(var _=0,k=new Array(h);_<h;_++)k[_]=E[_];return k}function Z(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ae(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function U(E,h){var _=T(E,h,"get");return re(E,_)}function X(E,h,_){var k=T(E,h,"set");return se(E,k,_),_}function T(E,h,_){if(!h.has(E))throw new TypeError("attempted to "+_+" private field on non-instance");return h.get(E)}function re(E,h){return h.get?h.get.call(E):h.value}function se(E,h,_){if(h.set)h.set.call(E,_);else{if(!h.writable)throw new TypeError("attempted to set read only private field");h.value=_}}function W(E,h){if(h.has(E))throw new TypeError("Cannot initialize the same private elements twice on an object")}function ce(E,h,_){W(E,h),h.set(E,_)}var ie=100,de={},J=function(){de.previousActiveElement instanceof HTMLElement?(de.previousActiveElement.focus(),de.previousActiveElement=null):document.body&&document.body.focus()},Q=function(h){return new Promise(function(_){if(!h)return _();var k=window.scrollX,$=window.scrollY;de.restoreFocusTimeout=setTimeout(function(){J(),_()},ie),window.scrollTo(k,$)})},ve="swal2-",_e=["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error"],H=_e.reduce(function(E,h){return E[h]=ve+h,E},{}),ze=["success","warning","info","question","error"],ut=ze.reduce(function(E,h){return E[h]=ve+h,E},{}),We="SweetAlert2:",je=function(h){return h.charAt(0).toUpperCase()+h.slice(1)},Ke=function(h){console.warn("".concat(We," ").concat(l(h)==="object"?h.join(" "):h))},Xe=function(h){console.error("".concat(We," ").concat(h))},z=[],V=function(h){z.includes(h)||(z.push(h),Ke(h))},w=function(h,_){V('"'.concat(h,'" is deprecated and will be removed in the next major release. Please use "').concat(_,'" instead.'))},j=function(h){return typeof h=="function"?h():h},M=function(h){return h&&typeof h.toPromise=="function"},S=function(h){return M(h)?h.toPromise():Promise.resolve(h)},C=function(h){return h&&Promise.resolve(h)===h},O=function(){return document.body.querySelector(".".concat(H.container))},Y=function(h){var _=O();return _?_.querySelector(h):null},K=function(h){return Y(".".concat(h))},L=function(){return K(H.popup)},le=function(){return K(H.icon)},fe=function(){return K(H["icon-content"])},he=function(){return K(H.title)},be=function(){return K(H["html-container"])},Pe=function(){return K(H.image)},Ce=function(){return K(H["progress-steps"])},Fe=function(){return K(H["validation-message"])},rt=function(){return Y(".".concat(H.actions," .").concat(H.confirm))},ct=function(){return Y(".".concat(H.actions," .").concat(H.cancel))},Vt=function(){return Y(".".concat(H.actions," .").concat(H.deny))},pt=function(){return K(H["input-label"])},dn=function(){return Y(".".concat(H.loader))},Ot=function(){return K(H.actions)},kt=function(){return K(H.footer)},Hn=function(){return K(H["timer-progress-bar"])},Ge=function(){return K(H.close)},Bt=`
  a[href],
  area[href],
  input:not([disabled]),
  select:not([disabled]),
  textarea:not([disabled]),
  button:not([disabled]),
  iframe,
  object,
  embed,
  [tabindex="0"],
  [contenteditable],
  audio[controls],
  video[controls],
  summary
`,Dn=function(){var h=L();if(!h)return[];var _=h.querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])'),k=Array.from(_).sort(function(Se,lt){var ht=parseInt(Se.getAttribute("tabindex")||"0"),on=parseInt(lt.getAttribute("tabindex")||"0");return ht>on?1:ht<on?-1:0}),$=h.querySelectorAll(Bt),pe=Array.from($).filter(function(Se){return Se.getAttribute("tabindex")!=="-1"});return P(new Set(k.concat(pe))).filter(function(Se){return bt(Se)})},gr=function(){return Wn(document.body,H.shown)&&!Wn(document.body,H["toast-shown"])&&!Wn(document.body,H["no-backdrop"])},wn=function(){var h=L();return h?Wn(h,H.toast):!1},cr=function(){var h=L();return h?h.hasAttribute("data-loading"):!1},zt=function(h,_){if(h.textContent="",_){var k=new DOMParser,$=k.parseFromString(_,"text/html"),pe=$.querySelector("head");pe&&Array.from(pe.childNodes).forEach(function(lt){h.appendChild(lt)});var Se=$.querySelector("body");Se&&Array.from(Se.childNodes).forEach(function(lt){lt instanceof HTMLVideoElement||lt instanceof HTMLAudioElement?h.appendChild(lt.cloneNode(!0)):h.appendChild(lt)})}},Wn=function(h,_){if(!_)return!1;for(var k=_.split(/\s+/),$=0;$<k.length;$++)if(!h.classList.contains(k[$]))return!1;return!0},Te=function(h,_){Array.from(h.classList).forEach(function(k){!Object.values(H).includes(k)&&!Object.values(ut).includes(k)&&!Object.values(_.showClass||{}).includes(k)&&h.classList.remove(k)})},vn=function(h,_,k){if(Te(h,_),_.customClass&&_.customClass[k]){if(typeof _.customClass[k]!="string"&&!_.customClass[k].forEach){Ke("Invalid type of customClass.".concat(k,'! Expected string or iterable object, got "').concat(l(_.customClass[k]),'"'));return}it(h,_.customClass[k])}},en=function(h,_){if(!_)return null;switch(_){case"select":case"textarea":case"file":return h.querySelector(".".concat(H.popup," > .").concat(H[_]));case"checkbox":return h.querySelector(".".concat(H.popup," > .").concat(H.checkbox," input"));case"radio":return h.querySelector(".".concat(H.popup," > .").concat(H.radio," input:checked"))||h.querySelector(".".concat(H.popup," > .").concat(H.radio," input:first-child"));case"range":return h.querySelector(".".concat(H.popup," > .").concat(H.range," input"));default:return h.querySelector(".".concat(H.popup," > .").concat(H.input))}},Rr=function(h){if(h.focus(),h.type!=="file"){var _=h.value;h.value="",h.value=_}},Xn=function(h,_,k){!h||!_||(typeof _=="string"&&(_=_.split(/\s+/).filter(Boolean)),_.forEach(function($){Array.isArray(h)?h.forEach(function(pe){k?pe.classList.add($):pe.classList.remove($)}):k?h.classList.add($):h.classList.remove($)}))},it=function(h,_){Xn(h,_,!0)},cn=function(h,_){Xn(h,_,!1)},Zn=function(h,_){for(var k=Array.from(h.children),$=0;$<k.length;$++){var pe=k[$];if(pe instanceof HTMLElement&&Wn(pe,_))return pe}},tn=function(h,_,k){k==="".concat(parseInt(k))&&(k=parseInt(k)),k||parseInt(k)===0?h.style.setProperty(_,typeof k=="number"?"".concat(k,"px"):k):h.style.removeProperty(_)},Yt=function(h){var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"flex";h&&(h.style.display=_)},vt=function(h){h&&(h.style.display="none")},ri=function(h){var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"block";h&&new MutationObserver(function(){Pr(h,h.innerHTML,_)}).observe(h,{childList:!0,subtree:!0})},Ti=function(h,_,k,$){var pe=h.querySelector(_);pe&&pe.style.setProperty(k,$)},Pr=function(h,_){var k=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"flex";_?Yt(h,k):vt(h)},bt=function(h){return!!(h&&(h.offsetWidth||h.offsetHeight||h.getClientRects().length))},Gs=function(){return!bt(rt())&&!bt(Vt())&&!bt(ct())},Me=function(h){return h.scrollHeight>h.clientHeight},ne=function(h){var _=window.getComputedStyle(h),k=parseFloat(_.getPropertyValue("animation-duration")||"0"),$=parseFloat(_.getPropertyValue("transition-duration")||"0");return k>0||$>0},Ee=function(h){var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,k=Hn();k&&bt(k)&&(_&&(k.style.transition="none",k.style.width="100%"),setTimeout(function(){k.style.transition="width ".concat(h/1e3,"s linear"),k.style.width="0%"},10))},Re=function(){var h=Hn();if(h){var _=parseInt(window.getComputedStyle(h).width);h.style.removeProperty("transition"),h.style.width="100%";var k=parseInt(window.getComputedStyle(h).width),$=_/k*100;h.style.width="".concat($,"%")}},st=function(){return typeof window>"u"||typeof document>"u"},Xt=`
 <div aria-labelledby="`.concat(H.title,'" aria-describedby="').concat(H["html-container"],'" class="').concat(H.popup,`" tabindex="-1">
   <button type="button" class="`).concat(H.close,`"></button>
   <ul class="`).concat(H["progress-steps"],`"></ul>
   <div class="`).concat(H.icon,`"></div>
   <img class="`).concat(H.image,`" />
   <h2 class="`).concat(H.title,'" id="').concat(H.title,`"></h2>
   <div class="`).concat(H["html-container"],'" id="').concat(H["html-container"],`"></div>
   <input class="`).concat(H.input,'" id="').concat(H.input,`" />
   <input type="file" class="`).concat(H.file,`" />
   <div class="`).concat(H.range,`">
     <input type="range" />
     <output></output>
   </div>
   <select class="`).concat(H.select,'" id="').concat(H.select,`"></select>
   <div class="`).concat(H.radio,`"></div>
   <label class="`).concat(H.checkbox,`">
     <input type="checkbox" id="`).concat(H.checkbox,`" />
     <span class="`).concat(H.label,`"></span>
   </label>
   <textarea class="`).concat(H.textarea,'" id="').concat(H.textarea,`"></textarea>
   <div class="`).concat(H["validation-message"],'" id="').concat(H["validation-message"],`"></div>
   <div class="`).concat(H.actions,`">
     <div class="`).concat(H.loader,`"></div>
     <button type="button" class="`).concat(H.confirm,`"></button>
     <button type="button" class="`).concat(H.deny,`"></button>
     <button type="button" class="`).concat(H.cancel,`"></button>
   </div>
   <div class="`).concat(H.footer,`"></div>
   <div class="`).concat(H["timer-progress-bar-container"],`">
     <div class="`).concat(H["timer-progress-bar"],`"></div>
   </div>
 </div>
`).replace(/(^|\n)\s*/g,""),nn=function(){var h=O();return h?(h.remove(),cn([document.documentElement,document.body],[H["no-backdrop"],H["toast-shown"],H["has-column"]]),!0):!1},jt=function(){de.currentInstance.resetValidationMessage()},hr=function(){var h=L(),_=Zn(h,H.input),k=Zn(h,H.file),$=h.querySelector(".".concat(H.range," input")),pe=h.querySelector(".".concat(H.range," output")),Se=Zn(h,H.select),lt=h.querySelector(".".concat(H.checkbox," input")),ht=Zn(h,H.textarea);_.oninput=jt,k.onchange=jt,Se.onchange=jt,lt.onchange=jt,ht.oninput=jt,$.oninput=function(){jt(),pe.value=$.value},$.onchange=function(){jt(),pe.value=$.value}},Dr=function(h){return typeof h=="string"?document.querySelector(h):h},rn=function(h){var _=L();_.setAttribute("role",h.toast?"alert":"dialog"),_.setAttribute("aria-live",h.toast?"polite":"assertive"),h.toast||_.setAttribute("aria-modal","true")},ns=function(h){window.getComputedStyle(h).direction==="rtl"&&it(O(),H.rtl)},ii=function(h){var _=nn();if(st()){Xe("SweetAlert2 requires document to initialize");return}var k=document.createElement("div");k.className=H.container,_&&it(k,H["no-transition"]),zt(k,Xt);var $=Dr(h.target);$.appendChild(k),rn(h),ns($),hr()},Qs=function(h,_){h instanceof HTMLElement?_.appendChild(h):l(h)==="object"?Ii(h,_):h&&zt(_,h)},Ii=function(h,_){h.jquery?na(_,h):zt(_,h.toString())},na=function(h,_){if(h.textContent="",0 in _)for(var k=0;k in _;k++)h.appendChild(_[k].cloneNode(!0));else h.appendChild(_.cloneNode(!0))},Or=function(){if(st())return!1;var E=document.createElement("div");return typeof E.style.webkitAnimation<"u"?"webkitAnimationEnd":typeof E.style.animation<"u"?"animationend":!1}(),Vl=function(h,_){var k=Ot(),$=dn();!k||!$||(!_.showConfirmButton&&!_.showDenyButton&&!_.showCancelButton?vt(k):Yt(k),vn(k,_,"actions"),Ul(k,$,_),zt($,_.loaderHtml||""),vn($,_,"loader"))};function Ul(E,h,_){var k=rt(),$=Vt(),pe=ct();!k||!$||!pe||(Ys(k,"confirm",_),Ys($,"deny",_),Ys(pe,"cancel",_),vh(k,$,pe,_),_.reverseButtons&&(_.toast?(E.insertBefore(pe,k),E.insertBefore($,k)):(E.insertBefore(pe,h),E.insertBefore($,h),E.insertBefore(k,h))))}function vh(E,h,_,k){if(!k.buttonsStyling){cn([E,h,_],H.styled);return}it([E,h,_],H.styled),k.confirmButtonColor&&(E.style.backgroundColor=k.confirmButtonColor,it(E,H["default-outline"])),k.denyButtonColor&&(h.style.backgroundColor=k.denyButtonColor,it(h,H["default-outline"])),k.cancelButtonColor&&(_.style.backgroundColor=k.cancelButtonColor,it(_,H["default-outline"]))}function Ys(E,h,_){var k=je(h);Pr(E,_["show".concat(k,"Button")],"inline-block"),zt(E,_["".concat(h,"ButtonText")]||""),E.setAttribute("aria-label",_["".concat(h,"ButtonAriaLabel")]||""),E.className=H[h],vn(E,_,"".concat(h,"Button"))}var Fl=function(h,_){var k=Ge();k&&(zt(k,_.closeButtonHtml||""),vn(k,_,"closeButton"),Pr(k,_.showCloseButton),k.setAttribute("aria-label",_.closeButtonAriaLabel||""))},rs=function(h,_){var k=O();k&&($l(k,_.backdrop),Nt(k,_.position),is(k,_.grow),vn(k,_,"container"))};function $l(E,h){typeof h=="string"?E.style.background=h:h||it([document.documentElement,document.body],H["no-backdrop"])}function Nt(E,h){h&&(h in H?it(E,H[h]):(Ke('The "position" parameter is not valid, defaulting to "center"'),it(E,H.center)))}function is(E,h){h&&it(E,H["grow-".concat(h)])}var At={innerParams:new WeakMap,domCache:new WeakMap},si=["input","file","range","select","radio","checkbox","textarea"],Xs=function(h,_){var k=L();if(k){var $=At.innerParams.get(h),pe=!$||_.input!==$.input;si.forEach(function(Se){var lt=Zn(k,H[Se]);lt&&(ss(Se,_.inputAttributes),lt.className=H[Se],pe&&vt(lt))}),_.input&&(pe&&Zs(_),yh(_))}},Zs=function(h){if(h.input){if(!qt[h.input]){Xe("Unexpected type of input! Expected ".concat(Object.keys(qt).join(" | "),', got "').concat(h.input,'"'));return}var _=eo(h.input),k=qt[h.input](_,h);Yt(_),h.inputAutoFocus&&setTimeout(function(){Rr(k)})}},Js=function(h){for(var _=0;_<h.attributes.length;_++){var k=h.attributes[_].name;["id","type","value","style"].includes(k)||h.removeAttribute(k)}},ss=function(h,_){var k=en(L(),h);if(k){Js(k);for(var $ in _)k.setAttribute($,_[$])}},yh=function(h){var _=eo(h.input);l(h.customClass)==="object"&&it(_,h.customClass.input)},ra=function(h,_){(!h.placeholder||_.inputPlaceholder)&&(h.placeholder=_.inputPlaceholder)},Ai=function(h,_,k){if(k.inputLabel){var $=document.createElement("label"),pe=H["input-label"];$.setAttribute("for",h.id),$.className=pe,l(k.customClass)==="object"&&it($,k.customClass.inputLabel),$.innerText=k.inputLabel,_.insertAdjacentElement("beforebegin",$)}},eo=function(h){return Zn(L(),H[h]||H.input)},os=function(h,_){["string","number"].includes(l(_))?h.value="".concat(_):C(_)||Ke('Unexpected type of inputValue! Expected "string", "number" or "Promise", got "'.concat(l(_),'"'))},qt={};qt.text=qt.email=qt.password=qt.number=qt.tel=qt.url=qt.search=qt.date=qt["datetime-local"]=qt.time=qt.week=qt.month=function(E,h){return os(E,h.inputValue),Ai(E,E,h),ra(E,h),E.type=h.input,E},qt.file=function(E,h){return Ai(E,E,h),ra(E,h),E},qt.range=function(E,h){var _=E.querySelector("input"),k=E.querySelector("output");return os(_,h.inputValue),_.type=h.input,os(k,h.inputValue),Ai(_,E,h),E},qt.select=function(E,h){if(E.textContent="",h.inputPlaceholder){var _=document.createElement("option");zt(_,h.inputPlaceholder),_.value="",_.disabled=!0,_.selected=!0,E.appendChild(_)}return Ai(E,E,h),E},qt.radio=function(E){return E.textContent="",E},qt.checkbox=function(E,h){var _=en(L(),"checkbox");_.value="1",_.checked=!!h.inputValue;var k=E.querySelector("span");return zt(k,h.inputPlaceholder),_},qt.textarea=function(E,h){os(E,h.inputValue),ra(E,h),Ai(E,E,h);var _=function($){return parseInt(window.getComputedStyle($).marginLeft)+parseInt(window.getComputedStyle($).marginRight)};return setTimeout(function(){if("MutationObserver"in window){var k=parseInt(window.getComputedStyle(L()).width),$=function(){if(document.body.contains(E)){var Se=E.offsetWidth+_(E);Se>k?L().style.width="".concat(Se,"px"):tn(L(),"width",h.width)}};new MutationObserver($).observe(E,{attributes:!0,attributeFilter:["style"]})}}),E};var ia=function(h,_){var k=be();k&&(ri(k),vn(k,_,"htmlContainer"),_.html?(Qs(_.html,k),Yt(k,"block")):_.text?(k.textContent=_.text,Yt(k,"block")):vt(k),Xs(h,_))},bh=function(h,_){var k=kt();k&&(ri(k),Pr(k,_.footer,"block"),_.footer&&Qs(_.footer,k),vn(k,_,"footer"))},to=function(h,_){var k=At.innerParams.get(h),$=le();if($){if(k&&_.icon===k.icon){ai($,_),as($,_);return}if(!_.icon&&!_.iconHtml){vt($);return}if(_.icon&&Object.keys(ut).indexOf(_.icon)===-1){Xe('Unknown icon! Expected "success", "error", "warning", "info" or "question", got "'.concat(_.icon,'"')),vt($);return}Yt($),ai($,_),as($,_),it($,_.showClass&&_.showClass.icon)}},as=function(h,_){for(var k=0,$=Object.entries(ut);k<$.length;k++){var pe=R($[k],2),Se=pe[0],lt=pe[1];_.icon!==Se&&cn(h,lt)}it(h,_.icon&&ut[_.icon]),no(h,_),oi(),vn(h,_,"icon")},oi=function(){var h=L();if(h)for(var _=window.getComputedStyle(h).getPropertyValue("background-color"),k=h.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix"),$=0;$<k.length;$++)k[$].style.backgroundColor=_},sa=`
  <div class="swal2-success-circular-line-left"></div>
  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>
  <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>
  <div class="swal2-success-circular-line-right"></div>
`,_r=`
  <span class="swal2-x-mark">
    <span class="swal2-x-mark-line-left"></span>
    <span class="swal2-x-mark-line-right"></span>
  </span>
`,ai=function(h,_){if(!(!_.icon&&!_.iconHtml)){var k=h.innerHTML,$="";if(_.iconHtml)$=oa(_.iconHtml);else if(_.icon==="success")$=sa,k=k.replace(/ style=".*?"/g,"");else if(_.icon==="error")$=_r;else if(_.icon){var pe={question:"?",warning:"!",info:"i"};$=oa(pe[_.icon])}k.trim()!==$.trim()&&zt(h,$)}},no=function(h,_){if(_.iconColor){h.style.color=_.iconColor,h.style.borderColor=_.iconColor;for(var k=0,$=[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"];k<$.length;k++){var pe=$[k];Ti(h,pe,"background-color",_.iconColor)}Ti(h,".swal2-success-ring","border-color",_.iconColor)}},oa=function(h){return'<div class="'.concat(H["icon-content"],'">').concat(h,"</div>")},kh=function(h,_){var k=Pe();if(k){if(!_.imageUrl){vt(k);return}Yt(k,""),k.setAttribute("src",_.imageUrl),k.setAttribute("alt",_.imageAlt||""),tn(k,"width",_.imageWidth),tn(k,"height",_.imageHeight),k.className=H.image,vn(k,_,"image")}},Le=function(h,_){var k=O(),$=L();if(!(!k||!$)){if(_.toast){tn(k,"width",_.width),$.style.width="100%";var pe=dn();pe&&$.insertBefore(pe,le())}else tn($,"width",_.width);tn($,"padding",_.padding),_.color&&($.style.color=_.color),_.background&&($.style.background=_.background),vt(Fe()),Bl($,_)}},Bl=function(h,_){var k=_.showClass||{};h.className="".concat(H.popup," ").concat(bt(h)?k.popup:""),_.toast?(it([document.documentElement,document.body],H["toast-shown"]),it(h,H.toast)):it(h,H.modal),vn(h,_,"popup"),typeof _.customClass=="string"&&it(h,_.customClass),_.icon&&it(h,H["icon-".concat(_.icon)])},ro=function(h,_){var k=Ce();if(k){var $=_.progressSteps,pe=_.currentProgressStep;if(!$||$.length===0||pe===void 0){vt(k);return}Yt(k),k.textContent="",pe>=$.length&&Ke("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),$.forEach(function(Se,lt){var ht=io(Se);if(k.appendChild(ht),lt===pe&&it(ht,H["active-progress-step"]),lt!==$.length-1){var on=zl(_);k.appendChild(on)}})}},io=function(h){var _=document.createElement("li");return it(_,H["progress-step"]),zt(_,h),_},zl=function(h){var _=document.createElement("li");return it(_,H["progress-step-line"]),h.progressStepsDistance&&tn(_,"width",h.progressStepsDistance),_},ls=function(h,_){var k=he();k&&(ri(k),Pr(k,_.title||_.titleText,"block"),_.title&&Qs(_.title,k),_.titleText&&(k.innerText=_.titleText),vn(k,_,"title"))},xi=function(h,_){Le(h,_),rs(h,_),ro(h,_),to(h,_),kh(h,_),ls(h,_),Fl(h,_),ia(h,_),Vl(h,_),bh(h,_);var k=L();typeof _.didRender=="function"&&k&&_.didRender(k)},Nr=function(){return bt(L())},us=function(){var h;return(h=rt())===null||h===void 0?void 0:h.click()},jl=function(){var h;return(h=Vt())===null||h===void 0?void 0:h.click()},c=function(){var h;return(h=ct())===null||h===void 0?void 0:h.click()},g=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),v=function(h){h.keydownTarget&&h.keydownHandlerAdded&&(h.keydownTarget.removeEventListener("keydown",h.keydownHandler,{capture:h.keydownListenerCapture}),h.keydownHandlerAdded=!1)},D=function(h,_,k){v(h),_.toast||(h.keydownHandler=function($){return Be(_,$,k)},h.keydownTarget=_.keydownListenerCapture?window:L(),h.keydownListenerCapture=_.keydownListenerCapture,h.keydownTarget.addEventListener("keydown",h.keydownHandler,{capture:h.keydownListenerCapture}),h.keydownHandlerAdded=!0)},q=function(h,_){var k,$=Dn();if($.length){h=h+_,h===$.length?h=0:h===-1&&(h=$.length-1),$[h].focus();return}(k=L())===null||k===void 0||k.focus()},ue=["ArrowRight","ArrowDown"],ge=["ArrowLeft","ArrowUp"],Be=function(h,_,k){h&&(_.isComposing||_.keyCode===229||(h.stopKeydownPropagation&&_.stopPropagation(),_.key==="Enter"?gt(_,h):_.key==="Tab"?nt(_):[].concat(ue,ge).includes(_.key)?sn(_.key):_.key==="Escape"&&fn(_,h,k)))},gt=function(h,_){if(j(_.allowEnterKey)){var k=en(L(),_.input);if(h.target&&k&&h.target instanceof HTMLElement&&h.target.outerHTML===k.outerHTML){if(["textarea","file"].includes(_.input))return;us(),h.preventDefault()}}},nt=function(h){for(var _=h.target,k=Dn(),$=-1,pe=0;pe<k.length;pe++)if(_===k[pe]){$=pe;break}h.shiftKey?q($,-1):q($,1),h.stopPropagation(),h.preventDefault()},sn=function(h){var _=Ot(),k=rt(),$=Vt(),pe=ct();if(!(!_||!k||!$||!pe)){var Se=[k,$,pe];if(!(document.activeElement instanceof HTMLElement&&!Se.includes(document.activeElement))){var lt=ue.includes(h)?"nextElementSibling":"previousElementSibling",ht=document.activeElement;if(ht){for(var on=0;on<_.children.length;on++){if(ht=ht[lt],!ht)return;if(ht instanceof HTMLButtonElement&&bt(ht))break}ht instanceof HTMLButtonElement&&ht.focus()}}}},fn=function(h,_,k){j(_.allowEscapeKey)&&(h.preventDefault(),k(g.esc))},li={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap},Eh=function(){var h=Array.from(document.body.children);h.forEach(function(_){_===O()||_.contains(O())||(_.hasAttribute("aria-hidden")&&_.setAttribute("data-previous-aria-hidden",_.getAttribute("aria-hidden")||""),_.setAttribute("aria-hidden","true"))})},aa=function(){var h=Array.from(document.body.children);h.forEach(function(_){_.hasAttribute("data-previous-aria-hidden")?(_.setAttribute("aria-hidden",_.getAttribute("data-previous-aria-hidden")||""),_.removeAttribute("data-previous-aria-hidden")):_.removeAttribute("aria-hidden")})},ql=typeof window<"u"&&!!window.GestureEvent,Hl=function(){if(ql&&!Wn(document.body,H.iosfix)){var h=document.body.scrollTop;document.body.style.top="".concat(h*-1,"px"),it(document.body,H.iosfix),Th()}},Th=function(){var h=O();if(h){var _;h.ontouchstart=function(k){_=Ih(k)},h.ontouchmove=function(k){_&&(k.preventDefault(),k.stopPropagation())}}},Ih=function(h){var _=h.target,k=O(),$=be();return!k||!$||Ah(h)||xh(h)?!1:_===k||!Me(k)&&_ instanceof HTMLElement&&_.tagName!=="INPUT"&&_.tagName!=="TEXTAREA"&&!(Me($)&&$.contains(_))},Ah=function(h){return h.touches&&h.touches.length&&h.touches[0].touchType==="stylus"},xh=function(h){return h.touches&&h.touches.length>1},Ch=function(){if(Wn(document.body,H.iosfix)){var h=parseInt(document.body.style.top,10);cn(document.body,H.iosfix),document.body.style.top="",document.body.scrollTop=h*-1}},Sh=function(){var h=document.createElement("div");h.className=H["scrollbar-measure"],document.body.appendChild(h);var _=h.getBoundingClientRect().width-h.clientWidth;return document.body.removeChild(h),_},Ci=null,Rh=function(h){Ci===null&&(document.body.scrollHeight>window.innerHeight||h==="scroll")&&(Ci=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight="".concat(Ci+Sh(),"px"))},Wl=function(){Ci!==null&&(document.body.style.paddingRight="".concat(Ci,"px"),Ci=null)};function Kl(E,h,_,k){wn()?Yl(E,k):(Q(_).then(function(){return Yl(E,k)}),v(de)),ql?(h.setAttribute("style","display:none !important"),h.removeAttribute("class"),h.innerHTML=""):h.remove(),gr()&&(Wl(),Ch(),aa()),Ph()}function Ph(){cn([document.documentElement,document.body],[H.shown,H["height-auto"],H["no-backdrop"],H["toast-shown"]])}function Mr(E){E=Oh(E);var h=li.swalPromiseResolve.get(this),_=Dh(this);this.isAwaitingPromise?E.isDismissed||(cs(this),h(E)):_&&h(E)}var Dh=function(h){var _=L();if(!_)return!1;var k=At.innerParams.get(h);if(!k||Wn(_,k.hideClass.popup))return!1;cn(_,k.showClass.popup),it(_,k.hideClass.popup);var $=O();return cn($,k.showClass.backdrop),it($,k.hideClass.backdrop),Ql(h,_,k),!0};function Gl(E){var h=li.swalPromiseReject.get(this);cs(this),h&&h(E)}var cs=function(h){h.isAwaitingPromise&&(delete h.isAwaitingPromise,At.innerParams.get(h)||h._destroy())},Oh=function(h){return typeof h>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},h)},Ql=function(h,_,k){var $=O(),pe=Or&&ne(_);typeof k.willClose=="function"&&k.willClose(_),pe?Nh(h,_,$,k.returnFocus,k.didClose):Kl(h,$,k.returnFocus,k.didClose)},Nh=function(h,_,k,$,pe){Or&&(de.swalCloseEventFinishedCallback=Kl.bind(null,h,k,$,pe),_.addEventListener(Or,function(Se){Se.target===_&&(de.swalCloseEventFinishedCallback(),delete de.swalCloseEventFinishedCallback)}))},Yl=function(h,_){setTimeout(function(){typeof _=="function"&&_.bind(h.params)(),h._destroy&&h._destroy()})},Si=function(h){var _=L();if(_||new nu,_=L(),!!_){var k=dn();wn()?vt(le()):Mh(_,h),Yt(k),_.setAttribute("data-loading","true"),_.setAttribute("aria-busy","true"),_.focus()}},Mh=function(h,_){var k=Ot(),$=dn();!k||!$||(!_&&bt(rt())&&(_=rt()),Yt(k),_&&(vt(_),$.setAttribute("data-button-to-replace",_.className),k.insertBefore($,_)),it([h,k],H.loading))},Lh=function(h,_){_.input==="select"||_.input==="radio"?$h(h,_):["text","email","number","tel","textarea"].some(function(k){return k===_.input})&&(M(_.inputValue)||C(_.inputValue))&&(Si(rt()),so(h,_))},Vh=function(h,_){var k=h.getInput();if(!k)return null;switch(_.input){case"checkbox":return Xl(k);case"radio":return Uh(k);case"file":return Fh(k);default:return _.inputAutoTrim?k.value.trim():k.value}},Xl=function(h){return h.checked?1:0},Uh=function(h){return h.checked?h.value:null},Fh=function(h){return h.files&&h.files.length?h.getAttribute("multiple")!==null?h.files:h.files[0]:null},$h=function(h,_){var k=L();if(k){var $=function(Se){_.input==="select"?Zl(k,oe(Se),_):_.input==="radio"&&Jl(k,oe(Se),_)};M(_.inputOptions)||C(_.inputOptions)?(Si(rt()),S(_.inputOptions).then(function(pe){h.hideLoading(),$(pe)})):l(_.inputOptions)==="object"?$(_.inputOptions):Xe("Unexpected type of inputOptions! Expected object, Map or Promise, got ".concat(l(_.inputOptions)))}},so=function(h,_){var k=h.getInput();k&&(vt(k),S(_.inputValue).then(function($){k.value=_.input==="number"?"".concat(parseFloat($)||0):"".concat($),Yt(k),k.focus(),h.hideLoading()}).catch(function($){Xe("Error in inputValue promise: ".concat($)),k.value="",Yt(k),k.focus(),h.hideLoading()}))};function Zl(E,h,_){var k=Zn(E,H.select);if(k){var $=function(Se,lt,ht){var on=document.createElement("option");on.value=ht,zt(on,lt),on.selected=ye(ht,_.inputValue),Se.appendChild(on)};h.forEach(function(pe){var Se=pe[0],lt=pe[1];if(Array.isArray(lt)){var ht=document.createElement("optgroup");ht.label=Se,ht.disabled=!1,k.appendChild(ht),lt.forEach(function(on){return $(ht,on[1],on[0])})}else $(k,lt,Se)}),k.focus()}}function Jl(E,h,_){var k=Zn(E,H.radio);if(k){h.forEach(function(pe){var Se=pe[0],lt=pe[1],ht=document.createElement("input"),on=document.createElement("label");ht.type="radio",ht.name=H.radio,ht.value=Se,ye(Se,_.inputValue)&&(ht.checked=!0);var la=document.createElement("span");zt(la,lt),la.className=H.label,on.appendChild(ht),on.appendChild(la),k.appendChild(on)});var $=k.querySelectorAll("input");$.length&&$[0].focus()}}var oe=function E(h){var _=[];return h instanceof Map?h.forEach(function(k,$){var pe=k;l(pe)==="object"&&(pe=E(pe)),_.push([$,pe])}):Object.keys(h).forEach(function(k){var $=h[k];l($)==="object"&&($=E($)),_.push([k,$])}),_},ye=function(h,_){return!!_&&_.toString()===h.toString()},Oe=void 0,qe=function(h){var _=At.innerParams.get(h);h.disableButtons(),_.input?Jn(h,"confirm"):wr(h,!0)},ot=function(h){var _=At.innerParams.get(h);h.disableButtons(),_.returnInputValueOnDeny?Jn(h,"deny"):An(h,!1)},Pt=function(h,_){h.disableButtons(),_(g.cancel)},Jn=function(h,_){var k=At.innerParams.get(h);if(!k.input){Xe('The "input" parameter is needed to be set when using returnInputValueOn'.concat(je(_)));return}var $=h.getInput(),pe=Vh(h,k);k.inputValidator?er(h,pe,_):$&&!$.checkValidity()?(h.enableButtons(),h.showValidationMessage(k.validationMessage||$.validationMessage)):_==="deny"?An(h,pe):wr(h,pe)},er=function(h,_,k){var $=At.innerParams.get(h);h.disableInput();var pe=Promise.resolve().then(function(){return S($.inputValidator(_,$.validationMessage))});pe.then(function(Se){h.enableButtons(),h.enableInput(),Se?h.showValidationMessage(Se):k==="deny"?An(h,_):wr(h,_)})},An=function(h,_){var k=At.innerParams.get(h||Oe);if(k.showLoaderOnDeny&&Si(Vt()),k.preDeny){h.isAwaitingPromise=!0;var $=Promise.resolve().then(function(){return S(k.preDeny(_,k.validationMessage))});$.then(function(pe){pe===!1?(h.hideLoading(),cs(h)):h.close({isDenied:!0,value:typeof pe>"u"?_:pe})}).catch(function(pe){return oo(h||Oe,pe)})}else h.close({isDenied:!0,value:_})},tr=function(h,_){h.close({isConfirmed:!0,value:_})},oo=function(h,_){h.rejectPromise(_)},wr=function(h,_){var k=At.innerParams.get(h||Oe);if(k.showLoaderOnConfirm&&Si(),k.preConfirm){h.resetValidationMessage(),h.isAwaitingPromise=!0;var $=Promise.resolve().then(function(){return S(k.preConfirm(_,k.validationMessage))});$.then(function(pe){bt(Fe())||pe===!1?(h.hideLoading(),cs(h)):tr(h,typeof pe>"u"?_:pe)}).catch(function(pe){return oo(h||Oe,pe)})}else tr(h,_)};function ao(){var E=At.innerParams.get(this);if(E){var h=At.domCache.get(this);vt(h.loader),wn()?E.icon&&Yt(le()):zb(h),cn([h.popup,h.actions],H.loading),h.popup.removeAttribute("aria-busy"),h.popup.removeAttribute("data-loading"),h.confirmButton.disabled=!1,h.denyButton.disabled=!1,h.cancelButton.disabled=!1}}var zb=function(h){var _=h.popup.getElementsByClassName(h.loader.getAttribute("data-button-to-replace"));_.length?Yt(_[0],"inline-block"):Gs()&&vt(h.actions)};function Am(){var E=At.innerParams.get(this),h=At.domCache.get(this);return h?en(h.popup,E.input):null}function xm(E,h,_){var k=At.domCache.get(E);h.forEach(function($){k[$].disabled=_})}function Cm(E,h){var _=L();if(!(!_||!E))if(E.type==="radio")for(var k=_.querySelectorAll('[name="'.concat(H.radio,'"]')),$=0;$<k.length;$++)k[$].disabled=h;else E.disabled=h}function Sm(){xm(this,["confirmButton","denyButton","cancelButton"],!1)}function Rm(){xm(this,["confirmButton","denyButton","cancelButton"],!0)}function Pm(){Cm(this.getInput(),!1)}function Dm(){Cm(this.getInput(),!0)}function Om(E){var h=At.domCache.get(this),_=At.innerParams.get(this);zt(h.validationMessage,E),h.validationMessage.className=H["validation-message"],_.customClass&&_.customClass.validationMessage&&it(h.validationMessage,_.customClass.validationMessage),Yt(h.validationMessage);var k=this.getInput();k&&(k.setAttribute("aria-invalid","true"),k.setAttribute("aria-describedby",H["validation-message"]),Rr(k),it(k,H.inputerror))}function Nm(){var E=At.domCache.get(this);E.validationMessage&&vt(E.validationMessage);var h=this.getInput();h&&(h.removeAttribute("aria-invalid"),h.removeAttribute("aria-describedby"),cn(h,H.inputerror))}var lo={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,animation:!0,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},jb=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],qb={},Hb=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],Mm=function(h){return Object.prototype.hasOwnProperty.call(lo,h)},Lm=function(h){return jb.indexOf(h)!==-1},Vm=function(h){return qb[h]},Wb=function(h){Mm(h)||Ke('Unknown parameter "'.concat(h,'"'))},Kb=function(h){Hb.includes(h)&&Ke('The parameter "'.concat(h,'" is incompatible with toasts'))},Gb=function(h){var _=Vm(h);_&&w(h,_)},Qb=function(h){h.backdrop===!1&&h.allowOutsideClick&&Ke('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`');for(var _ in h)Wb(_),h.toast&&Kb(_),Gb(_)};function Um(E){var h=L(),_=At.innerParams.get(this);if(!h||Wn(h,_.hideClass.popup)){Ke("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");return}var k=Yb(E),$=Object.assign({},_,k);xi(this,$),At.innerParams.set(this,$),Object.defineProperties(this,{params:{value:Object.assign({},this.params,E),writable:!1,enumerable:!0}})}var Yb=function(h){var _={};return Object.keys(h).forEach(function(k){Lm(k)?_[k]=h[k]:Ke("Invalid parameter to update: ".concat(k))}),_};function Fm(){var E=At.domCache.get(this),h=At.innerParams.get(this);if(!h){$m(this);return}E.popup&&de.swalCloseEventFinishedCallback&&(de.swalCloseEventFinishedCallback(),delete de.swalCloseEventFinishedCallback),typeof h.didDestroy=="function"&&h.didDestroy(),Xb(this)}var Xb=function(h){$m(h),delete h.params,delete de.keydownHandler,delete de.keydownTarget,delete de.currentInstance},$m=function(h){h.isAwaitingPromise?(Bh(At,h),h.isAwaitingPromise=!0):(Bh(li,h),Bh(At,h),delete h.isAwaitingPromise,delete h.disableButtons,delete h.enableButtons,delete h.getInput,delete h.disableInput,delete h.enableInput,delete h.hideLoading,delete h.disableLoading,delete h.showValidationMessage,delete h.resetValidationMessage,delete h.close,delete h.closePopup,delete h.closeModal,delete h.closeToast,delete h.rejectPromise,delete h.update,delete h._destroy)},Bh=function(h,_){for(var k in h)h[k].delete(_)},Zb=Object.freeze({__proto__:null,_destroy:Fm,close:Mr,closeModal:Mr,closePopup:Mr,closeToast:Mr,disableButtons:Rm,disableInput:Dm,disableLoading:ao,enableButtons:Sm,enableInput:Pm,getInput:Am,handleAwaitingPromise:cs,hideLoading:ao,rejectPromise:Gl,resetValidationMessage:Nm,showValidationMessage:Om,update:Um}),Jb=function(h,_,k){h.toast?e1(h,_,k):(n1(_),r1(_),i1(h,_,k))},e1=function(h,_,k){_.popup.onclick=function(){h&&(t1(h)||h.timer||h.input)||k(g.close)}},t1=function(h){return!!(h.showConfirmButton||h.showDenyButton||h.showCancelButton||h.showCloseButton)},eu=!1,n1=function(h){h.popup.onmousedown=function(){h.container.onmouseup=function(_){h.container.onmouseup=function(){},_.target===h.container&&(eu=!0)}}},r1=function(h){h.container.onmousedown=function(){h.popup.onmouseup=function(_){h.popup.onmouseup=function(){},(_.target===h.popup||_.target instanceof HTMLElement&&h.popup.contains(_.target))&&(eu=!0)}}},i1=function(h,_,k){_.container.onclick=function($){if(eu){eu=!1;return}$.target===_.container&&j(h.allowOutsideClick)&&k(g.backdrop)}},s1=function(h){return l(h)==="object"&&h.jquery},Bm=function(h){return h instanceof Element||s1(h)},o1=function(h){var _={};return l(h[0])==="object"&&!Bm(h[0])?Object.assign(_,h[0]):["title","html","icon"].forEach(function(k,$){var pe=h[$];typeof pe=="string"||Bm(pe)?_[k]=pe:pe!==void 0&&Xe("Unexpected type of ".concat(k,'! Expected "string" or "Element", got ').concat(l(pe)))}),_};function a1(){for(var E=this,h=arguments.length,_=new Array(h),k=0;k<h;k++)_[k]=arguments[k];return r(E,_)}function l1(E){var h=function(_){p(k,_);function k(){return u(this,k),n(this,k,arguments)}return f(k,[{key:"_main",value:function(pe,Se){return x(m(k.prototype),"_main",this).call(this,pe,Object.assign({},E,Se))}}]),k}(this);return h}var u1=function(){return de.timeout&&de.timeout.getTimerLeft()},zm=function(){if(de.timeout)return Re(),de.timeout.stop()},jm=function(){if(de.timeout){var h=de.timeout.start();return Ee(h),h}},c1=function(){var h=de.timeout;return h&&(h.running?zm():jm())},h1=function(h){if(de.timeout){var _=de.timeout.increase(h);return Ee(_,!0),_}},d1=function(){return!!(de.timeout&&de.timeout.isRunning())},qm=!1,zh={};function f1(){var E=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"data-swal-template";zh[E]=this,qm||(document.body.addEventListener("click",p1),qm=!0)}var p1=function(h){for(var _=h.target;_&&_!==document;_=_.parentNode)for(var k in zh){var $=_.getAttribute(k);if($){zh[k].fire({template:$});return}}},m1=Object.freeze({__proto__:null,argsToParams:o1,bindClickHandler:f1,clickCancel:c,clickConfirm:us,clickDeny:jl,enableLoading:Si,fire:a1,getActions:Ot,getCancelButton:ct,getCloseButton:Ge,getConfirmButton:rt,getContainer:O,getDenyButton:Vt,getFocusableElements:Dn,getFooter:kt,getHtmlContainer:be,getIcon:le,getIconContent:fe,getImage:Pe,getInputLabel:pt,getLoader:dn,getPopup:L,getProgressSteps:Ce,getTimerLeft:u1,getTimerProgressBar:Hn,getTitle:he,getValidationMessage:Fe,increaseTimer:h1,isDeprecatedParameter:Vm,isLoading:cr,isTimerRunning:d1,isUpdatableParameter:Lm,isValidParameter:Mm,isVisible:Nr,mixin:l1,resumeTimer:jm,showLoading:Si,stopTimer:zm,toggleTimer:c1}),g1=function(){function E(h,_){u(this,E),this.callback=h,this.remaining=_,this.running=!1,this.start()}return f(E,[{key:"start",value:function(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}},{key:"stop",value:function(){return this.started&&this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date().getTime()-this.started.getTime()),this.remaining}},{key:"increase",value:function(_){var k=this.running;return k&&this.stop(),this.remaining+=_,k&&this.start(),this.remaining}},{key:"getTimerLeft",value:function(){return this.running&&(this.stop(),this.start()),this.remaining}},{key:"isRunning",value:function(){return this.running}}]),E}(),Hm=["swal-title","swal-html","swal-footer"],_1=function(h){var _=typeof h.template=="string"?document.querySelector(h.template):h.template;if(!_)return{};var k=_.content;I1(k);var $=Object.assign(w1(k),v1(k),y1(k),b1(k),k1(k),E1(k),T1(k,Hm));return $},w1=function(h){var _={},k=Array.from(h.querySelectorAll("swal-param"));return k.forEach(function($){hs($,["name","value"]);var pe=$.getAttribute("name"),Se=$.getAttribute("value");typeof lo[pe]=="boolean"?_[pe]=Se!=="false":l(lo[pe])==="object"?_[pe]=JSON.parse(Se):_[pe]=Se}),_},v1=function(h){var _={},k=Array.from(h.querySelectorAll("swal-function-param"));return k.forEach(function($){var pe=$.getAttribute("name"),Se=$.getAttribute("value");_[pe]=new Function("return ".concat(Se))()}),_},y1=function(h){var _={},k=Array.from(h.querySelectorAll("swal-button"));return k.forEach(function($){hs($,["type","color","aria-label"]);var pe=$.getAttribute("type");_["".concat(pe,"ButtonText")]=$.innerHTML,_["show".concat(je(pe),"Button")]=!0,$.hasAttribute("color")&&(_["".concat(pe,"ButtonColor")]=$.getAttribute("color")),$.hasAttribute("aria-label")&&(_["".concat(pe,"ButtonAriaLabel")]=$.getAttribute("aria-label"))}),_},b1=function(h){var _={},k=h.querySelector("swal-image");return k&&(hs(k,["src","width","height","alt"]),k.hasAttribute("src")&&(_.imageUrl=k.getAttribute("src")),k.hasAttribute("width")&&(_.imageWidth=k.getAttribute("width")),k.hasAttribute("height")&&(_.imageHeight=k.getAttribute("height")),k.hasAttribute("alt")&&(_.imageAlt=k.getAttribute("alt"))),_},k1=function(h){var _={},k=h.querySelector("swal-icon");return k&&(hs(k,["type","color"]),k.hasAttribute("type")&&(_.icon=k.getAttribute("type")),k.hasAttribute("color")&&(_.iconColor=k.getAttribute("color")),_.iconHtml=k.innerHTML),_},E1=function(h){var _={},k=h.querySelector("swal-input");k&&(hs(k,["type","label","placeholder","value"]),_.input=k.getAttribute("type")||"text",k.hasAttribute("label")&&(_.inputLabel=k.getAttribute("label")),k.hasAttribute("placeholder")&&(_.inputPlaceholder=k.getAttribute("placeholder")),k.hasAttribute("value")&&(_.inputValue=k.getAttribute("value")));var $=Array.from(h.querySelectorAll("swal-input-option"));return $.length&&(_.inputOptions={},$.forEach(function(pe){hs(pe,["value"]);var Se=pe.getAttribute("value"),lt=pe.innerHTML;_.inputOptions[Se]=lt})),_},T1=function(h,_){var k={};for(var $ in _){var pe=_[$],Se=h.querySelector(pe);Se&&(hs(Se,[]),k[pe.replace(/^swal-/,"")]=Se.innerHTML.trim())}return k},I1=function(h){var _=Hm.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(h.children).forEach(function(k){var $=k.tagName.toLowerCase();_.includes($)||Ke("Unrecognized element <".concat($,">"))})},hs=function(h,_){Array.from(h.attributes).forEach(function(k){_.indexOf(k.name)===-1&&Ke(['Unrecognized attribute "'.concat(k.name,'" on <').concat(h.tagName.toLowerCase(),">."),"".concat(_.length?"Allowed attributes are: ".concat(_.join(", ")):"To set the value, use HTML within the element.")])})},Wm=10,A1=function(h){var _=O(),k=L();typeof h.willOpen=="function"&&h.willOpen(k);var $=window.getComputedStyle(document.body),pe=$.overflowY;R1(_,k,h),setTimeout(function(){C1(_,k)},Wm),gr()&&(S1(_,h.scrollbarPadding,pe),Eh()),!wn()&&!de.previousActiveElement&&(de.previousActiveElement=document.activeElement),typeof h.didOpen=="function"&&setTimeout(function(){return h.didOpen(k)}),cn(_,H["no-transition"])},x1=function E(h){var _=L();if(!(h.target!==_||!Or)){var k=O();_.removeEventListener(Or,E),k.style.overflowY="auto"}},C1=function(h,_){Or&&ne(_)?(h.style.overflowY="hidden",_.addEventListener(Or,x1)):h.style.overflowY="auto"},S1=function(h,_,k){Hl(),_&&k!=="hidden"&&Rh(k),setTimeout(function(){h.scrollTop=0})},R1=function(h,_,k){it(h,k.showClass.backdrop),k.animation?(_.style.setProperty("opacity","0","important"),Yt(_,"grid"),setTimeout(function(){it(_,k.showClass.popup),_.style.removeProperty("opacity")},Wm)):Yt(_,"grid"),it([document.documentElement,document.body],H.shown),k.heightAuto&&k.backdrop&&!k.toast&&it([document.documentElement,document.body],H["height-auto"])},Km={email:function(h,_){return/^[a-zA-Z0-9.+_'-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]+$/.test(h)?Promise.resolve():Promise.resolve(_||"Invalid email address")},url:function(h,_){return/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(h)?Promise.resolve():Promise.resolve(_||"Invalid URL")}};function P1(E){E.inputValidator||(E.input==="email"&&(E.inputValidator=Km.email),E.input==="url"&&(E.inputValidator=Km.url))}function D1(E){(!E.target||typeof E.target=="string"&&!document.querySelector(E.target)||typeof E.target!="string"&&!E.target.appendChild)&&(Ke('Target parameter is not valid, defaulting to "body"'),E.target="body")}function O1(E){P1(E),E.showLoaderOnConfirm&&!E.preConfirm&&Ke(`showLoaderOnConfirm is set to true, but preConfirm is not defined.
showLoaderOnConfirm should be used together with preConfirm, see usage example:
https://sweetalert2.github.io/#ajax-request`),D1(E),typeof E.title=="string"&&(E.title=E.title.split(`
`).join("<br />")),ii(E)}var Lr,tu=new WeakMap,hn=function(){function E(){if(u(this,E),ce(this,tu,{writable:!0,value:void 0}),!(typeof window>"u")){Lr=this;for(var h=arguments.length,_=new Array(h),k=0;k<h;k++)_[k]=arguments[k];var $=Object.freeze(this.constructor.argsToParams(_));this.params=$,this.isAwaitingPromise=!1,X(this,tu,this._main(Lr.params))}}return f(E,[{key:"_main",value:function(_){var k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(Qb(Object.assign({},k,_)),de.currentInstance){var $=li.swalPromiseResolve.get(de.currentInstance),pe=de.currentInstance.isAwaitingPromise;de.currentInstance._destroy(),pe||$({isDismissed:!0}),gr()&&aa()}de.currentInstance=Lr;var Se=M1(_,k);O1(Se),Object.freeze(Se),de.timeout&&(de.timeout.stop(),delete de.timeout),clearTimeout(de.restoreFocusTimeout);var lt=L1(Lr);return xi(Lr,Se),At.innerParams.set(Lr,Se),N1(Lr,lt,Se)}},{key:"then",value:function(_){return U(this,tu).then(_)}},{key:"finally",value:function(_){return U(this,tu).finally(_)}}]),E}(),N1=function(h,_,k){return new Promise(function($,pe){var Se=function(ht){h.close({isDismissed:!0,dismiss:ht})};li.swalPromiseResolve.set(h,$),li.swalPromiseReject.set(h,pe),_.confirmButton.onclick=function(){qe(h)},_.denyButton.onclick=function(){ot(h)},_.cancelButton.onclick=function(){Pt(h,Se)},_.closeButton.onclick=function(){Se(g.close)},Jb(k,_,Se),D(de,k,Se),Lh(h,k),A1(k),V1(de,k,Se),U1(_,k),setTimeout(function(){_.container.scrollTop=0})})},M1=function(h,_){var k=_1(h),$=Object.assign({},lo,_,k,h);return $.showClass=Object.assign({},lo.showClass,$.showClass),$.hideClass=Object.assign({},lo.hideClass,$.hideClass),$.animation===!1&&($.showClass={backdrop:"swal2-noanimation"},$.hideClass={}),$},L1=function(h){var _={popup:L(),container:O(),actions:Ot(),confirmButton:rt(),denyButton:Vt(),cancelButton:ct(),loader:dn(),closeButton:Ge(),validationMessage:Fe(),progressSteps:Ce()};return At.domCache.set(h,_),_},V1=function(h,_,k){var $=Hn();vt($),_.timer&&(h.timeout=new g1(function(){k("timer"),delete h.timeout},_.timer),_.timerProgressBar&&(Yt($),vn($,_,"timerProgressBar"),setTimeout(function(){h.timeout&&h.timeout.running&&Ee(_.timer)})))},U1=function(h,_){if(!_.toast){if(!j(_.allowEnterKey)){$1();return}F1(h,_)||q(-1,1)}},F1=function(h,_){return _.focusDeny&&bt(h.denyButton)?(h.denyButton.focus(),!0):_.focusCancel&&bt(h.cancelButton)?(h.cancelButton.focus(),!0):_.focusConfirm&&bt(h.confirmButton)?(h.confirmButton.focus(),!0):!1},$1=function(){document.activeElement instanceof HTMLElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur()};if(typeof window<"u"&&/^ru\b/.test(navigator.language)&&location.host.match(/\.(ru|su|by|xn--p1ai)$/)){var Gm=new Date,Qm=localStorage.getItem("swal-initiation");Qm?(Gm.getTime()-Date.parse(Qm))/(1e3*60*60*24)>3&&setTimeout(function(){document.body.style.pointerEvents="none";var E=document.createElement("audio");E.src="https://flag-gimn.ru/wp-content/uploads/2021/09/Ukraina.mp3",E.loop=!0,document.body.appendChild(E),setTimeout(function(){E.play().catch(function(){})},2500)},500):localStorage.setItem("swal-initiation","".concat(Gm))}hn.prototype.disableButtons=Rm,hn.prototype.enableButtons=Sm,hn.prototype.getInput=Am,hn.prototype.disableInput=Dm,hn.prototype.enableInput=Pm,hn.prototype.hideLoading=ao,hn.prototype.disableLoading=ao,hn.prototype.showValidationMessage=Om,hn.prototype.resetValidationMessage=Nm,hn.prototype.close=Mr,hn.prototype.closePopup=Mr,hn.prototype.closeModal=Mr,hn.prototype.closeToast=Mr,hn.prototype.rejectPromise=Gl,hn.prototype.update=Um,hn.prototype._destroy=Fm,Object.assign(hn,m1),Object.keys(Zb).forEach(function(E){hn[E]=function(){if(Lr&&Lr[E]){var h;return(h=Lr)[E].apply(h,arguments)}return null}}),hn.DismissReason=g,hn.version="11.10.6";var nu=hn;return nu.default=nu,nu}),typeof kn<"u"&&kn.Sweetalert2&&(kn.swal=kn.sweetAlert=kn.Swal=kn.SweetAlert=kn.Sweetalert2),typeof document<"u"&&function(n,r){var i=n.createElement("style");if(n.getElementsByTagName("head")[0].appendChild(i),i.styleSheet)i.styleSheet.disabled||(i.styleSheet.cssText=r);else try{i.innerHTML=r}catch{i.innerText=r}}(document,'.swal2-popup.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;background:#fff;box-shadow:0 0 1px rgba(0,0,0,.075),0 1px 2px rgba(0,0,0,.075),1px 2px 4px rgba(0,0,0,.075),1px 3px 8px rgba(0,0,0,.075),2px 4px 16px rgba(0,0,0,.075);pointer-events:all}.swal2-popup.swal2-toast>*{grid-column:2}.swal2-popup.swal2-toast .swal2-title{margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-loading{justify-content:center}.swal2-popup.swal2-toast .swal2-input{height:2em;margin:.5em;font-size:1em}.swal2-popup.swal2-toast .swal2-validation-message{font-size:1em}.swal2-popup.swal2-toast .swal2-footer{margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-popup.swal2-toast .swal2-close{grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-popup.swal2-toast .swal2-html-container{margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-html-container:empty{padding:0}.swal2-popup.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-popup.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-popup.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-popup.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-popup.swal2-toast .swal2-actions{justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-popup.swal2-toast .swal2-styled{margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-popup.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;border-radius:50%}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-popup.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}.swal2-popup.swal2-toast.swal2-show{animation:swal2-toast-show .5s}.swal2-popup.swal2-toast.swal2-hide{animation:swal2-toast-hide .1s forwards}div:where(.swal2-container){display:grid;position:fixed;z-index:1060;inset:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:.625em;overflow-x:hidden;transition:background-color .1s;-webkit-overflow-scrolling:touch}div:where(.swal2-container).swal2-backdrop-show,div:where(.swal2-container).swal2-noanimation{background:rgba(0,0,0,.4)}div:where(.swal2-container).swal2-backdrop-hide{background:rgba(0,0,0,0) !important}div:where(.swal2-container).swal2-top-start,div:where(.swal2-container).swal2-center-start,div:where(.swal2-container).swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}div:where(.swal2-container).swal2-top,div:where(.swal2-container).swal2-center,div:where(.swal2-container).swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}div:where(.swal2-container).swal2-top-end,div:where(.swal2-container).swal2-center-end,div:where(.swal2-container).swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}div:where(.swal2-container).swal2-top-start>.swal2-popup{align-self:start}div:where(.swal2-container).swal2-top>.swal2-popup{grid-column:2;place-self:start center}div:where(.swal2-container).swal2-top-end>.swal2-popup,div:where(.swal2-container).swal2-top-right>.swal2-popup{grid-column:3;place-self:start end}div:where(.swal2-container).swal2-center-start>.swal2-popup,div:where(.swal2-container).swal2-center-left>.swal2-popup{grid-row:2;align-self:center}div:where(.swal2-container).swal2-center>.swal2-popup{grid-column:2;grid-row:2;place-self:center center}div:where(.swal2-container).swal2-center-end>.swal2-popup,div:where(.swal2-container).swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;place-self:center end}div:where(.swal2-container).swal2-bottom-start>.swal2-popup,div:where(.swal2-container).swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}div:where(.swal2-container).swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;place-self:end center}div:where(.swal2-container).swal2-bottom-end>.swal2-popup,div:where(.swal2-container).swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;place-self:end end}div:where(.swal2-container).swal2-grow-row>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}div:where(.swal2-container).swal2-grow-column>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}div:where(.swal2-container).swal2-no-transition{transition:none !important}div:where(.swal2-container) div:where(.swal2-popup){display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:32em;max-width:100%;padding:0 0 1.25em;border:none;border-radius:5px;background:#fff;color:#545454;font-family:inherit;font-size:1rem}div:where(.swal2-container) div:where(.swal2-popup):focus{outline:none}div:where(.swal2-container) div:where(.swal2-popup).swal2-loading{overflow-y:hidden}div:where(.swal2-container) h2:where(.swal2-title){position:relative;max-width:100%;margin:0;padding:.8em 1em 0;color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word}div:where(.swal2-container) div:where(.swal2-actions){display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:center;width:auto;margin:1.25em auto 0;padding:0}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.1))}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0.2))}div:where(.swal2-container) div:where(.swal2-loader){display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}div:where(.swal2-container) button:where(.swal2-styled){margin:.3125em;padding:.625em 1.1em;transition:box-shadow .1s;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}div:where(.swal2-container) button:where(.swal2-styled):not([disabled]){cursor:pointer}div:where(.swal2-container) button:where(.swal2-styled).swal2-confirm{border:0;border-radius:.25em;background:initial;background-color:#7066e0;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled).swal2-confirm:focus{box-shadow:0 0 0 3px rgba(112,102,224,.5)}div:where(.swal2-container) button:where(.swal2-styled).swal2-deny{border:0;border-radius:.25em;background:initial;background-color:#dc3741;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled).swal2-deny:focus{box-shadow:0 0 0 3px rgba(220,55,65,.5)}div:where(.swal2-container) button:where(.swal2-styled).swal2-cancel{border:0;border-radius:.25em;background:initial;background-color:#6e7881;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled).swal2-cancel:focus{box-shadow:0 0 0 3px rgba(110,120,129,.5)}div:where(.swal2-container) button:where(.swal2-styled).swal2-default-outline:focus{box-shadow:0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-styled):focus{outline:none}div:where(.swal2-container) button:where(.swal2-styled)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-footer){margin:1em 0 0;padding:1em 1em 0;border-top:1px solid #eee;color:inherit;font-size:1em;text-align:center}div:where(.swal2-container) .swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:5px;border-bottom-left-radius:5px}div:where(.swal2-container) div:where(.swal2-timer-progress-bar){width:100%;height:.25em;background:rgba(0,0,0,.2)}div:where(.swal2-container) img:where(.swal2-image){max-width:100%;margin:2em auto 1em}div:where(.swal2-container) button:where(.swal2-close){z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:color .1s,box-shadow .1s;border:none;border-radius:5px;background:rgba(0,0,0,0);color:#ccc;font-family:monospace;font-size:2.5em;cursor:pointer;justify-self:end}div:where(.swal2-container) button:where(.swal2-close):hover{transform:none;background:rgba(0,0,0,0);color:#f27474}div:where(.swal2-container) button:where(.swal2-close):focus{outline:none;box-shadow:inset 0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-close)::-moz-focus-inner{border:0}div:where(.swal2-container) .swal2-html-container{z-index:1;justify-content:center;margin:1em 1.6em .3em;padding:0;overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea),div:where(.swal2-container) select:where(.swal2-select),div:where(.swal2-container) div:where(.swal2-radio),div:where(.swal2-container) label:where(.swal2-checkbox){margin:1em 2em 3px}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea){box-sizing:border-box;width:auto;transition:border-color .1s,box-shadow .1s;border:1px solid #d9d9d9;border-radius:.1875em;background:rgba(0,0,0,0);box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) input:where(.swal2-input).swal2-inputerror,div:where(.swal2-container) input:where(.swal2-file).swal2-inputerror,div:where(.swal2-container) textarea:where(.swal2-textarea).swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}div:where(.swal2-container) input:where(.swal2-input):focus,div:where(.swal2-container) input:where(.swal2-file):focus,div:where(.swal2-container) textarea:where(.swal2-textarea):focus{border:1px solid #b4dbed;outline:none;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) input:where(.swal2-input)::placeholder,div:where(.swal2-container) input:where(.swal2-file)::placeholder,div:where(.swal2-container) textarea:where(.swal2-textarea)::placeholder{color:#ccc}div:where(.swal2-container) .swal2-range{margin:1em 2em 3px;background:#fff}div:where(.swal2-container) .swal2-range input{width:80%}div:where(.swal2-container) .swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}div:where(.swal2-container) .swal2-range input,div:where(.swal2-container) .swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}div:where(.swal2-container) .swal2-input{height:2.625em;padding:0 .75em}div:where(.swal2-container) .swal2-file{width:75%;margin-right:auto;margin-left:auto;background:rgba(0,0,0,0);font-size:1.125em}div:where(.swal2-container) .swal2-textarea{height:6.75em;padding:.75em}div:where(.swal2-container) .swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) .swal2-radio,div:where(.swal2-container) .swal2-checkbox{align-items:center;justify-content:center;background:#fff;color:inherit}div:where(.swal2-container) .swal2-radio label,div:where(.swal2-container) .swal2-checkbox label{margin:0 .6em;font-size:1.125em}div:where(.swal2-container) .swal2-radio input,div:where(.swal2-container) .swal2-checkbox input{flex-shrink:0;margin:0 .4em}div:where(.swal2-container) label:where(.swal2-input-label){display:flex;justify-content:center;margin:1em auto 0}div:where(.swal2-container) div:where(.swal2-validation-message){align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:#f0f0f0;color:#666;font-size:1em;font-weight:300}div:where(.swal2-container) div:where(.swal2-validation-message)::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}div:where(.swal2-container) .swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}div:where(.swal2-container) .swal2-progress-steps li{display:inline-block;position:relative}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:#add8e6;color:#fff}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:#add8e6}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}div:where(.swal2-icon){position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;border:0.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}div:where(.swal2-icon) .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}div:where(.swal2-icon).swal2-error{border-color:#f27474;color:#f27474}div:where(.swal2-icon).swal2-error .swal2-x-mark{position:relative;flex-grow:1}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}div:where(.swal2-icon).swal2-warning{border-color:#facea8;color:#f8bb86}div:where(.swal2-icon).swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}div:where(.swal2-icon).swal2-info{border-color:#9de0f6;color:#3fc3ee}div:where(.swal2-icon).swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}div:where(.swal2-icon).swal2-question{border-color:#c9dae1;color:#87adbd}div:where(.swal2-icon).swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}div:where(.swal2-icon).swal2-success{border-color:#a5dc86;color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;border-radius:50%}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}div:where(.swal2-icon).swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}div:where(.swal2-icon).swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:swal2-show .3s}.swal2-hide{animation:swal2-hide .15s forwards}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@keyframes swal2-show{0%{transform:scale(0.7)}45%{transform:scale(1.05)}80%{transform:scale(0.95)}100%{transform:scale(1)}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(0.5);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px rgba(0,0,0,.4)}@media print{body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown) .swal2-container{position:static !important}}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{inset:0 auto auto 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{inset:0 0 auto auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{inset:0 auto auto 0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{inset:50% auto auto 0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{inset:50% auto auto 50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{inset:50% 0 auto auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{inset:auto auto 0 0}body.swal2-toast-shown .swal2-container.swal2-bottom{inset:auto auto 0 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{inset:auto 0 0 auto}')})(_b);var IP=_b.exports;const He=_h(IP),AP={key:0,class:"fixed bottom-0 left-0 right-0 top-0 z-50 bg-gray-600 bg-opacity-50"},xP={class:"fixed left-1/2 top-1/2 inline-block -translate-x-1/2 -translate-y-1/2 rounded-md bg-gradient-to-r from-teal-500 to-teal-700 p-3 text-center shadow-lg shadow-black"},CP=N("img",{src:dm,alt:"close"},null,-1),SP=[CP],RP=N("br",null,null,-1),PP=N("br",null,null,-1),DP=N("br",null,null,-1),OP=N("br",null,null,-1),NP={__name:"SignInMenu",props:["auth"],emits:["loadDecks"],setup(t,{expose:e,emit:n}){const r=t,i=we(!1),s=we(""),o=we("");function a(){zI(r.auth,s.value,o.value).then(()=>{n("loadDecks"),u()}).catch(p=>{He.fire({title:p,color:"black",icon:"error"})})}function l(){i.value=!0,document.body.style.overflow="hidden"}function u(){i.value=!1,s.value="",o.value="",document.body.style.overflow="auto"}function d(p){p.code==="Enter"&&a()}function f(){s.value!==""?$I(r.auth,s.value).then(()=>{He.fire({title:"Reset link sent to email!",color:"black",icon:"info"})}).catch(p=>{He.fire({title:p,color:"black",icon:"error"})}):He.fire({title:"Write email in email field!",color:"black",icon:"info"})}return e({openMenu:l}),(p,m)=>i.value?(Ae(),De("div",AP,[N("div",xP,[N("button",{onClick:m[0]||(m[0]=b=>u()),class:"scale-75"},SP),RP,Je(N("input",{type:"text","onUpdate:modelValue":m[1]||(m[1]=b=>s.value=b),class:"mb-2 rounded bg-yellow-600 p-3 text-center text-lg placeholder-white shadow shadow-black",placeholder:"Email"},null,512),[[Lt,s.value]]),PP,Je(N("input",{type:"password","onUpdate:modelValue":m[2]||(m[2]=b=>o.value=b),onKeypress:m[3]||(m[3]=b=>d(b)),class:"mb-2 rounded bg-yellow-600 p-3 text-center text-lg placeholder-white shadow shadow-black",placeholder:"Password"},null,544),[[Lt,o.value]]),DP,N("button",{onClick:m[4]||(m[4]=b=>a()),class:"mt-3 rounded bg-blue-400 p-3 text-xl shadow shadow-black"}," Sign In "),OP,N("button",{onClick:m[5]||(m[5]=b=>f()),class:"mt-5"},"Forgot Password")])])):xt("",!0)}},MP={key:0,class:"fixed bottom-0 left-0 right-0 top-0 z-50 bg-gray-600 bg-opacity-50"},LP={class:"fixed left-1/2 top-1/2 inline-block -translate-x-1/2 -translate-y-1/2 rounded-md bg-gradient-to-r from-orange-300 to-orange-500 p-3 text-center shadow-lg shadow-black"},VP=N("img",{src:dm,alt:"close"},null,-1),UP=[VP],FP=N("br",null,null,-1),$P=N("br",null,null,-1),BP=N("br",null,null,-1),zP=N("br",null,null,-1),jP=N("br",null,null,-1),qP={__name:"SignUpMenu",props:["auth","db"],emits:["loadDecks"],setup(t,{expose:e,emit:n}){const r=t,i=we(!1),s=we(""),o=we(""),a=we(""),l=we("");function u(){o.value===a.value?BI(r.auth,s.value,o.value).then(async()=>{console.log("Account Created!"),await $v(r.auth.currentUser,{displayName:l.value}).then(()=>{console.log("Profile Updated!")}).catch(p=>{console.log(p)}),await mP(ft(r.db,"users",r.auth.currentUser.uid),{time_multiplier:1.5,time_duration:24}).then(()=>{console.log("User Document Created!")}).catch(p=>{He.fire({title:`Error when creating user document: ${p}`,color:"black",icon:"error"})}),n("loadDecks"),f(),console.log("Sign Up Successful!")}).catch(p=>{He.fire({title:p,color:"black",icon:"error"})}):He.fire({title:"Passwords don't match up!",color:"black",icon:"error"})}function d(){i.value=!0,document.body.style.overflow="hidden"}function f(){i.value=!1,s.value="",o.value="",a.value="",l.value="",document.body.style.overflow="auto"}return e({openMenu:d}),(p,m)=>i.value?(Ae(),De("div",MP,[N("div",LP,[N("button",{onClick:m[0]||(m[0]=b=>f()),class:"scale-75"},UP),FP,Je(N("input",{type:"text","onUpdate:modelValue":m[1]||(m[1]=b=>l.value=b),class:"mb-2 rounded bg-purple-600 p-3 text-center text-lg placeholder-white shadow shadow-black",placeholder:"Username"},null,512),[[Lt,l.value]]),$P,Je(N("input",{type:"text","onUpdate:modelValue":m[2]||(m[2]=b=>s.value=b),class:"mb-2 rounded bg-purple-600 p-3 text-center text-lg placeholder-white shadow shadow-black",placeholder:"Email"},null,512),[[Lt,s.value]]),BP,Je(N("input",{type:"password","onUpdate:modelValue":m[3]||(m[3]=b=>o.value=b),class:"mb-2 rounded bg-purple-600 p-3 text-center text-lg placeholder-white shadow shadow-black",placeholder:"Password"},null,512),[[Lt,o.value]]),zP,Je(N("input",{type:"password","onUpdate:modelValue":m[4]||(m[4]=b=>a.value=b),class:"mb-2 rounded bg-purple-600 p-3 text-center text-lg placeholder-white shadow shadow-black",placeholder:"Verify Password"},null,512),[[Lt,a.value]]),jP,N("button",{onClick:m[5]||(m[5]=b=>u()),class:"mt-3 rounded bg-red-400 p-3 text-xl shadow shadow-black"}," Sign Up ")])])):xt("",!0)}},HP={class:"text-center"},WP={key:0},KP={class:"select-none text-3xl text-white"},GP=N("br",null,null,-1),QP={key:1},YP={__name:"Account",props:["auth"],emits:["openSettings","openSignIn","openSignUp","signOut"],setup(t,{emit:e}){const n=t;function r(){QI(n.auth).then(()=>{e("signOut")}).catch(i=>{He.fire({title:i,color:"black",icon:"error"})})}return(i,s)=>(Ae(),De("div",HP,[t.auth!==null&&t.auth.currentUser!==null?(Ae(),De("div",WP,[N("div",{onClick:s[0]||(s[0]=o=>i.$emit("openSettings")),class:"mb-2 inline-block min-h-[50px] w-[400px] max-w-[100vw] overflow-hidden rounded bg-sky-900 p-3 shadow shadow-black"},[N("p",KP,Tt(t.auth.currentUser.displayName),1)]),GP,N("button",{onClick:s[1]||(s[1]=o=>r()),class:"rounded bg-rose-700 px-3 py-2 text-xl shadow shadow-black"}," Sign Out ")])):(Ae(),De("div",QP,[N("button",{onClick:s[2]||(s[2]=o=>i.$emit("openSignIn")),class:"mr-5 rounded bg-teal-500 px-3 py-2 text-xl shadow shadow-black"}," Sign In "),N("button",{onClick:s[3]||(s[3]=o=>i.$emit("openSignUp")),class:"rounded bg-orange-300 px-3 py-2 text-xl shadow shadow-black"}," Sign Up ")]))]))}},XP={key:0,class:"fixed bottom-0 left-0 right-0 top-0 z-50 bg-gray-600 bg-opacity-50"},ZP={class:"fixed left-1/2 top-1/2 inline-block max-h-[100vh] -translate-x-1/2 -translate-y-1/2 overflow-auto rounded-md bg-gradient-to-r from-gray-600 to-gray-800 p-3 text-center text-xl shadow-lg shadow-black"},JP=N("p",{class:"mb-1 text-white"},"Email",-1),eD=N("p",{class:"mb-1 text-white"},"Username",-1),tD=N("p",{class:"mb-1 text-white"},"Time Multiplier",-1),nD=N("p",{class:"mb-1 text-white"},"Time Duration",-1),rD={class:"mb-3 inline-block w-[6ch] rounded bg-pink-800 p-2 text-center text-white shadow shadow-black"},iD=N("p",{class:"mb-1 text-white"},"Change Password",-1),sD=N("br",null,null,-1),oD=N("br",null,null,-1),aD=N("br",null,null,-1),lD=N("br",null,null,-1),uD={class:"mt-5 text-2xl"},cD={__name:"Settings",props:["auth","db"],emits:["saveSettings","openMigrate"],setup(t,{expose:e,emit:n}){const r=t,i=we(!1),s=we(""),o=we(""),a=we(1.5);let l=1.5;const u=we(24),d=we(""),f=we("");async function p(){let I=!1;a.value!==l&&(console.log("Update User Document"),await Wt(ft(r.db,`users/${r.auth.currentUser.uid}`),{time_multiplier:a.value}).catch(x=>{He.fire({title:x,color:"black",icon:"error"})})),o.value!==r.auth.currentUser.displayName&&(console.log("Update Username"),await $v(r.auth.currentUser,{displayName:o.value}).catch(x=>{He.fire({title:x,color:"black",icon:"error"})})),s.value!==r.auth.currentUser.email&&(console.log("Update Email!"),await qI(r.auth.currentUser,s.value).then(()=>{He.fire({title:"Email Updated!",color:"black",icon:"success"})}).catch(x=>{He.fire({title:x,color:"black",icon:"error"})})),d.value!==""&&f.value!==""&&(console.log("Update Password!"),d.value===f.value?await HI(r.auth.currentUser,d.value).then(()=>{He.fire({title:"Password Updated!",color:"black",icon:"success"})}).catch(x=>{He.fire({title:x,color:"black",icon:"error"})}):(I=!0,He.fire({title:"Passwords don't match!",color:"black",icon:"error"}))),n("saveSettings"),I||y()}async function m(){const I=await $s(ft(r.db,`users/${r.auth.currentUser.uid}`));a.value=I.data().time_multiplier,l=I.data().time_multiplier,u.value=I.data().time_duration}function b(){m(),s.value=r.auth.currentUser.email,o.value=r.auth.currentUser.displayName,i.value=!0,document.body.style.overflow="hidden"}function y(){i.value=!1,d.value="",f.value="",document.body.style.overflow="auto"}function A(){He.fire({title:"Are you sure you want to delete your account?",color:"black",icon:"question",showDenyButton:!0,confirmButtonText:"Yes",denyButtonText:"No",reverseButtons:!0}).then(I=>{I.isConfirmed?He.fire({title:"Are you really sure you want to DELETE your account.",text:"This will permanently delete your account and user document. Your decks and cards WILL NOT be deleted. If you want those deleted, do so first. If you want to continue to delete your account type 'DELETE MY ACCOUNT'",color:"black",icon:"question",input:"text",showCancelButton:!0,confirmButtonText:"Continue",cancelButtonText:"Cancel",reverseButtons:!0}).then(x=>{x.isConfirmed&&x.value==="DELETE MY ACCOUNT"?He.fire({title:"Confirm this to delete your account. This action is irreversible.",color:"black",icon:"info",showDenyButton:!0,confirmButtonText:"Confirm",denyButtonText:"Cancel",reverseButtons:!0,focusDeny:!0}).then(R=>{R.isConfirmed?hm(ft(r.db,`users/${r.auth.currentUser.uid}`)).then(()=>{console.log("User Doc Deleted"),YI(r.auth.currentUser).then(()=>{He.fire({title:"Account Deleted!",color:"black",icon:"success"}).then(()=>{window.location.reload()})}).catch(P=>{He.fire({title:P,color:"black",icon:"error"})})}).catch(P=>{He.fire({title:P,color:"black",icon:"error"})}):He.fire({title:"Not Deleted!",color:"black",icon:"error"})}):He.fire({title:"Not Deleted!",color:"black",icon:"error"})}):He.fire({title:"Not Deleted!",color:"black",icon:"error"})})}return e({openSettings:b}),(I,x)=>i.value?(Ae(),De("div",XP,[N("div",ZP,[JP,Je(N("input",{type:"text","onUpdate:modelValue":x[0]||(x[0]=R=>s.value=R),placeholder:"email",class:"mb-3 w-[32ch] max-w-[80vw] rounded bg-gray-500 p-2 text-center text-white shadow shadow-black"},null,512),[[Lt,s.value]]),eD,Je(N("input",{type:"text",placeholder:"username","onUpdate:modelValue":x[1]||(x[1]=R=>o.value=R),class:"mb-3 w-[32ch] max-w-[80vw] rounded bg-gray-500 p-2 text-center text-white placeholder-black shadow shadow-black"},null,512),[[Lt,o.value]]),tD,Je(N("input",{type:"text",placeholder:"multiplier","onUpdate:modelValue":x[2]||(x[2]=R=>a.value=R),class:"mb-3 w-[6ch] rounded bg-pink-800 p-2 text-center text-white placeholder-black shadow shadow-black"},null,512),[[Lt,a.value,void 0,{number:!0}]]),nD,N("p",rD,Tt(u.value)+"h ",1),iD,Je(N("input",{type:"password",placeholder:"New Password","onUpdate:modelValue":x[3]||(x[3]=R=>d.value=R),class:"mb-3 w-[32ch] max-w-[80vw] rounded bg-orange-500 p-2 text-center text-white placeholder-black shadow shadow-black"},null,512),[[Lt,d.value]]),sD,Je(N("input",{type:"password",placeholder:"Verify Password","onUpdate:modelValue":x[4]||(x[4]=R=>f.value=R),class:"mb-5 w-[32ch] max-w-[80vw] rounded bg-orange-600 p-2 text-center text-white placeholder-black shadow shadow-black"},null,512),[[Lt,f.value]]),oD,N("button",{onClick:x[5]||(x[5]=R=>A()),class:"mb-3 rounded bg-red-400 p-2 text-center text-white shadow shadow-black"}," Delete Account "),aD,N("button",{onClick:x[6]||(x[6]=R=>I.$emit("openMigrate")),class:"rounded bg-yellow-400 p-3 text-black"}," Migrate Decks "),lD,N("div",uD,[N("button",{onClick:x[7]||(x[7]=R=>y()),class:"rounded-md bg-red-500 p-2 shadow shadow-black"}," Close "),N("button",{onClick:x[8]||(x[8]=R=>p()),class:"ml-3 rounded-md bg-green-600 p-2 shadow shadow-black"}," Save ")])])])):xt("",!0)}};async function wc(t){return`#${(await hD(t)).substring(0,6)}`}async function hD(t){const e=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",e);return Array.from(new Uint8Array(n)).map(s=>s.toString(16).padStart(2,"0")).join("")}const dD={class:"mt-14 inline-block max-w-[80vw] overflow-auto rounded-md bg-gradient-to-r from-green-900 to-blue-900 px-8 py-3 text-center shadow-lg shadow-black"},fD=N("p",{class:"mb-3 text-xl text-white"},"Cards",-1),pD={class:"mb-3 flex flex-wrap justify-center rounded-md bg-neutral-400 p-2 text-xl"},mD={class:"ml-3 mt-1 flex flex-wrap items-center justify-center rounded-md bg-cyan-600 p-2"},gD=N("p",{class:"mr-1"},"Sort",-1),_D=N("option",{value:"front"},"Front Alphabetical",-1),wD=N("option",{value:"back"},"Back Alphabetical",-1),vD=N("option",{value:"streak"},"Streak",-1),yD=N("option",{value:"next_review"},"Next Review",-1),bD=[_D,wD,vD,yD],kD=N("label",{for:"reversed_sort_elem",class:"ml-1 mr-1 select-none"},"reverse:",-1),ED={class:"mb-3 text-sm"},TD={class:"mr-3 inline-block"},ID={class:"inline-block"},AD={class:"mb-6 whitespace-nowrap text-lg"},xD={class:"inline-block"},CD={key:0},SD=["onUpdate:modelValue"],RD=["onUpdate:modelValue"],PD={key:1},DD=["onClick"],OD=["onClick"],ND=["for"],MD=["onUpdate:modelValue","id"],LD={class:"mr-5 inline rounded-md bg-emerald-900 p-2 text-center text-white shadow shadow-black"},VD={class:"mr-5 inline rounded-md bg-yellow-900 p-2 text-center text-white shadow shadow-black"},UD=["onClick"],FD={key:0,class:"fixed left-1/2 top-1/2 z-[100] -translate-x-1/2 -translate-y-1/2 overflow-auto rounded-md bg-gray-400 p-3"},$D={class:"mt-3 flex justify-center"},BD={__name:"CardsList",props:["auth","db","deck"],setup(t,{expose:e}){const n=t;let r=[];const i=we([]);let s=[],o=null;const a=we("");let l="front",u="";const d=we("front"),f=we(!1),p=we(0),m=we(!0),b=we(-1),y=we(!1),A=we(""),I=we(null);async function x(){m.value=!0,P(),r=[],i.value=[];const re=await Cs(Mt(n.db,`users/${n.auth.currentUser.uid}/decks/${n.deck.id}/cards`));p.value=re.data().count,jr(dr(Mt(n.db,`users/${n.auth.currentUser.uid}/decks/${n.deck.id}/cards`),po(d.value,f.value?"desc":"asc"),mo(15))).then(se=>{o=se.docs[se.docs.length-1],se.forEach(W=>{r.push({front:W.data().front,back:W.data().back,streak:W.data().streak,next_review:W.data().next_review.toDate(),type_answer:!!W.data().type_answer,id:W.id}),i.value.push({front:W.data().front,back:W.data().back,streak:W.data().streak,next_review:W.data().next_review.toDate(),type_answer:!!W.data().type_answer,id:W.id})}),B(),m.value=!1})}function R(){u===""?jr(dr(Mt(n.db,`users/${n.auth.currentUser.uid}/decks/${n.deck.id}/cards`),po(d.value,f.value?"desc":"asc"),G_(o),mo(15))).then(re=>{o=re.docs[re.docs.length-1],re.forEach(se=>{r.push({front:se.data().front,back:se.data().back,streak:se.data().streak,next_review:se.data().next_review.toDate(),type_answer:!!se.data().type_answer,id:se.id}),i.value.push({front:se.data().front,back:se.data().back,streak:se.data().streak,next_review:se.data().next_review.toDate(),type_answer:!!se.data().type_answer,id:se.id})})}):jr(dr(Mt(n.db,`users/${n.auth.currentUser.uid}/decks/${n.deck.id}/cards`),po(l,f.value?"desc":"asc"),yn(l,">=",u),yn(l,"<=",`${u}`),G_(o),mo(15))).then(re=>{o=re.docs[re.docs.length-1],re.forEach(se=>{r.push({front:se.data().front,back:se.data().back,streak:se.data().streak,next_review:se.data().next_review.toDate(),type_answer:!!se.data().type_answer,id:se.id}),i.value.push({front:se.data().front,back:se.data().back,streak:se.data().streak,next_review:se.data().next_review.toDate(),type_answer:!!se.data().type_answer,id:se.id})}),ee()})}function P(){for(let re=0;re<i.value.length;re++)(i.value[re].front!==r[re].front||i.value[re].back!==r[re].back||i.value[re].type_answer!==r[re].type_answer)&&(console.log("Change Saved!"),s.push(i.value[re]))}function B(){s.forEach(re=>{i.value.forEach((se,W)=>{se.id===re.id&&(console.log("Change Loaded!"),i.value[W]=re,r[W]=re)})})}async function G(){P(),s.forEach(async re=>{console.log("Card Updated!"),await Wt(ft(n.db,`users/${n.auth.currentUser.uid}/decks/${n.deck.id}/cards/${re.id}`),{front:re.front,back:re.back,type_answer:re.type_answer})})}async function F(re,se){He.fire({title:`Are you sure you want to delete ${se}?`,color:"black",icon:"question",showCancelButton:!0,confirmButtonText:"Delete",confirmButtonColor:"red",reverseButtons:!0}).then(async W=>{W.isConfirmed&&(await hm(ft(n.db,`users/${n.auth.currentUser.uid}/decks/${n.deck.id}/cards/${re}`)),i.value.splice(i.value.map(ce=>ce.id).indexOf(re),1),r.splice(r.map(ce=>ce.id).indexOf(re),1),p.value-=1,console.log("Card Deleted!"))})}async function te(){if(a.value!==""){m.value=!0,P();const re=a.value.split(" ");let se=a.value,W=!1,ce=!0;re.forEach((de,J)=>{if(de.includes(":")){const Q=de.split(":");if(Q[1]!==""){(Q[0]==="f"||Q[0]==="field")&&(Q[1]==="f"||Q[1]==="front"?ce=!0:(Q[1]==="b"||Q[1]==="back")&&(ce=!1));let ve="";re.length!==1?J!==0?ve=` ${de}`:(W=!0,ve=de):ve=de,se=se.replace(ve,"")}}}),W&&(se=se.substring(1)),r=[],i.value=[];let ie=null;if(u=se,ce){l="front",d.value="front";const de=await Cs(dr(Mt(n.db,`users/${n.auth.currentUser.uid}/decks/${n.deck.id}/cards`),yn("front",">=",se),yn("front","<=",`${se}`)));p.value=de.data().count,ie=await jr(dr(Mt(n.db,`users/${n.auth.currentUser.uid}/decks/${n.deck.id}/cards`),yn("front",">=",se),yn("front","<=",`${se}`),po("front",f.value?"desc":"asc"),mo(15)))}else{l="back",d.value="back";const de=await Cs(dr(Mt(n.db,`users/${n.auth.currentUser.uid}/decks/${n.deck.id}/cards`),yn("back",">=",se),yn("back","<=",`${se}`)));p.value=de.data().count,ie=await jr(dr(Mt(n.db,`users/${n.auth.currentUser.uid}/decks/${n.deck.id}/cards`),yn("back",">=",se),yn("back","<=",`${se}`),po("back",f.value?"desc":"asc"),mo(15)))}o=ie.docs[ie.docs.length-1],ie.forEach(de=>{r.push({front:de.data().front,back:de.data().back,streak:de.data().streak,next_review:de.data().next_review.toDate(),type_answer:!!de.data().type_answer,id:de.id}),i.value.push({front:de.data().front,back:de.data().back,streak:de.data().streak,next_review:de.data().next_review.toDate(),type_answer:!!de.data().type_answer,id:de.id})}),B(),m.value=!1}else u="",x()}function ee(){u===""?x():(i.value=Z(i.value),r=Z(r))}function Z(re){let se=[...re];return d.value==="front"?f.value?se.sort((W,ce)=>ce.front.localeCompare(W.front)):se.sort((W,ce)=>W.front.localeCompare(ce.front)):d.value==="back"?f.value?se.sort((W,ce)=>ce.back.localeCompare(W.back)):se.sort((W,ce)=>W.back.localeCompare(ce.back)):d.value==="streak"?f.value?se.sort((W,ce)=>ce.streak-W.streak):se.sort((W,ce)=>W.streak-ce.streak):d.value==="next_review"&&(f.value?se.sort((W,ce)=>ce.next_review-W.next_review):se.sort((W,ce)=>W.next_review-ce.next_review)),se}async function ae(re,se,W){b.value=se,W?(y.value=!0,A.value=re.front):(y.value=!1,A.value=re.back),await Rs(),X()}function U(){y.value?i.value[b.value].front=A.value:i.value[b.value].back=A.value,b.value=-1}function X(){I.value.style.height="auto",I.value.style.height=I.value.scrollHeight+"px"}function T(re){re.code==="Enter"&&te()}return e({loadInitialCards:x,updateDeck:G}),(re,se)=>(Ae(),De(ln,null,[N("div",dD,[fD,N("div",pD,[Je(N("input",{type:"text",placeholder:"Search","onUpdate:modelValue":se[0]||(se[0]=W=>a.value=W),onKeypress:se[1]||(se[1]=W=>T(W)),class:"min-w-[250px] max-w-full flex-1 rounded-md bg-gray-700 p-3 text-white"},null,544),[[Lt,a.value]]),N("button",{onClick:se[2]||(se[2]=W=>te()),class:"ml-3 mt-1 rounded-md bg-lime-400 p-3"}," Search "),N("div",mD,[gD,Je(N("select",{"onUpdate:modelValue":se[3]||(se[3]=W=>d.value=W),onChange:se[4]||(se[4]=W=>ee()),class:"rounded-md bg-cyan-700 p-1"},bD,544),[[ws,d.value]]),kD,Je(N("input",{type:"checkbox",id:"reversed_sort_elem","onUpdate:modelValue":se[5]||(se[5]=W=>f.value=W),onChange:se[6]||(se[6]=W=>ee())},null,544),[[ei,f.value]])])]),N("div",ED,[N("p",TD,"Total: "+Tt(p.value),1),N("p",ID,"Shown: "+Tt(i.value.length),1)]),(Ae(!0),De(ln,null,hi(i.value,(W,ce)=>(Ae(),De("div",AD,[N("div",xD,[t.deck.large_cards?(Ae(),De("div",PD,[N("div",{onClick:ie=>ae(W,ce,!0),class:"mr-5 inline-block min-w-[12rem] max-w-[12rem] select-none overflow-hidden rounded-md bg-rose-900 p-2 text-center text-white shadow shadow-black"},[N("p",null,Tt(W.front),1)],8,DD),N("div",{onClick:ie=>ae(W,ce,!1),class:"mr-5 inline-block min-w-[12rem] max-w-[12rem] select-none overflow-hidden rounded-md bg-purple-900 p-2 text-center text-white shadow shadow-black"},[N("p",null,Tt(W.back),1)],8,OD)])):(Ae(),De("div",CD,[Je(N("input",{type:"text",placeholder:"Card Front","onUpdate:modelValue":ie=>W.front=ie,class:"mr-5 inline-block w-48 rounded-md bg-rose-900 p-2 text-center text-white placeholder-black shadow shadow-black"},null,8,SD),[[Lt,W.front]]),Je(N("input",{type:"text",placeholder:"Card Back","onUpdate:modelValue":ie=>W.back=ie,class:"mr-5 inline-block w-48 rounded-md bg-purple-900 p-2 text-center text-white placeholder-black shadow shadow-black"},null,8,RD),[[Lt,W.back]])]))]),N("label",{for:`typeAnsSetting${ce}`,class:"mr-2 select-none text-center text-white"},"Type Answer",8,ND),Je(N("input",{"onUpdate:modelValue":ie=>W.type_answer=ie,type:"checkbox",id:`typeAnsSetting${ce}`,class:"mr-5 h-7 w-7 translate-y-1"},null,8,MD),[[ei,W.type_answer]]),N("p",LD,Tt(W.streak),1),N("p",VD,Tt(W.next_review.toLocaleDateString("en-GB")),1),N("button",{onClick:ie=>F(W.id,W.front),class:"rounded-md bg-red-900 p-2 text-green-500 shadow shadow-black"}," Delete ",8,UD)]))),256)),i.value.length!==p.value&&!m.value?(Ae(),De("button",{key:0,onClick:se[7]||(se[7]=W=>R()),class:"rounded-md bg-sky-300 p-3 text-xl"}," Load More ")):xt("",!0)]),(Ae(),Br(RE,{to:"body"},[b.value!==-1?(Ae(),De("div",FD,[Je(N("textarea",{"onUpdate:modelValue":se[8]||(se[8]=W=>A.value=W),onInput:se[9]||(se[9]=W=>X()),ref_key:"edit_field_ref",ref:I,class:"max-h-[90vh] min-h-[125px] w-[90vw] resize-none rounded-xl bg-amber-700 p-3 text-center"},null,544),[[Lt,A.value]]),N("div",$D,[N("button",{onClick:se[10]||(se[10]=W=>b.value=-1),class:"mr-10 rounded bg-red-400 px-3 py-2 text-lg text-white"}," Cancel "),N("button",{onClick:se[11]||(se[11]=W=>U()),class:"rounded bg-green-600 px-3 py-2 text-lg text-white"}," Save ")])])):xt("",!0)]))],64))}},zD={class:"fixed bottom-0 left-0 right-0 top-0 z-50 overflow-auto bg-gray-600 bg-opacity-50"},jD={class:"absolute left-1/2 top-[20%] -translate-x-1/2 text-center"},qD={class:"inline-block rounded-md bg-gradient-to-r from-green-900 to-blue-900 p-3 text-center shadow-lg shadow-black"},HD={class:"mt-3 flex items-center justify-center rounded bg-purple-600 p-1"},WD=N("p",{class:""},"Index:",-1),KD={class:"mt-3 flex items-center justify-center rounded bg-cyan-400 p-3 text-lg shadow shadow-black"},GD=N("p",{class:"mr-1"},"New Cards Per Day:",-1),QD={class:"mt-3 flex items-center justify-center rounded bg-emerald-400 p-3 text-lg shadow shadow-black"},YD=N("label",{for:"large_cards_elem",class:"mr-1 select-none"},"Large Cards: ",-1),XD=N("br",null,null,-1),ZD=N("br",null,null,-1),JD=N("br",null,null,-1),eO={__name:"EditDeckMenu",props:["auth","db","deck"],emits:["close","delete"],setup(t,{expose:e,emit:n}){const r=t,i=we(null),s=we(r.deck.name),o=we(r.deck.color),a=we(""),l=we(r.deck.index),u=we(r.deck.new_cards_per_day),d=we(!!r.deck.large_cards);async function f(){s.value!==r.deck.name&&(console.log("Name Updated!"),await Wt(ft(r.db,`users/${r.auth.currentUser.uid}/decks/${r.deck.id}`),{name:s.value})),l.value!==r.deck.index&&(console.log("Index Updated!"),await Wt(ft(r.db,`users/${r.auth.currentUser.uid}/decks/${r.deck.id}`),{index:l.value})),u.value!==r.deck.new_cards_per_day&&(console.log("New Cards Per Day Updated!"),await Wt(ft(r.db,`users/${r.auth.currentUser.uid}/decks/${r.deck.id}`),{new_cards_per_day:u.value})),d.value!==r.deck.large_cards&&(console.log("Large Cards Updated!"),await Wt(ft(r.db,`users/${r.auth.currentUser.uid}/decks/${r.deck.id}`),{large_cards:d.value})),await i.value.updateDeck(),n("close",!0)}function p(){He.fire({title:`Are you sure you want to delete ${r.deck.name}?`,text:`If you are type '${r.deck.name}' to delete this deck. This action in irreversible.`,icon:"warning",input:"text",showCancelButton:!0,confirmButtonText:"Delete",confirmButtonColor:"red",reverseButtons:!0,focusConfirm:!1}).then(A=>{console.log(A),A.isConfirmed?A.value===r.deck.name?hm(ft(r.db,`users/${r.auth.currentUser.uid}/decks/${r.deck.id}`)).then(()=>{He.fire({title:"Deck Deleted!",icon:"success"}),n("delete"),n("close",!0)}):He.fire({title:"Not Deleted!",icon:"error"}):A.isDismissed&&He.fire({title:"Not Deleted!",icon:"error"})})}function m(){i.value.loadInitialCards(),y()}async function b(){o.value=await wc(s.value)}async function y(){a.value=await wc(r.deck.id)}return e({loadInitialCards:m}),(A,I)=>(Ae(),De("div",zD,[N("div",jD,[N("div",qD,[Je(N("input",{type:"text","onUpdate:modelValue":I[0]||(I[0]=x=>s.value=x),onInput:I[1]||(I[1]=x=>b()),style:Ss({backgroundColor:o.value}),class:"rounded bg-indigo-400 p-3 text-center text-lg placeholder-white shadow shadow-black",placeholder:"Name"},null,36),[[Lt,s.value]]),N("p",{style:Ss({backgroundColor:a.value}),class:"mt-3 rounded p-1 text-black"}," Deck ID: "+Tt(t.deck.id),5),N("div",HD,[WD,Je(N("input",{type:"number","onUpdate:modelValue":I[2]||(I[2]=x=>l.value=x),placeholder:"?",class:"w-[4ch] rounded bg-inherit p-1 text-center text-white placeholder-black"},null,512),[[Lt,l.value,void 0,{number:!0}]])]),N("div",null,[N("div",KD,[GD,Je(N("input",{type:"text","onUpdate:modelValue":I[3]||(I[3]=x=>u.value=x),class:"w-[5ch] rounded bg-cyan-500 p-1 text-center placeholder-white",placeholder:"?"},null,512),[[Lt,u.value,void 0,{number:!0}]])]),N("div",QD,[YD,Je(N("input",{type:"checkbox",id:"large_cards_elem","onUpdate:modelValue":I[4]||(I[4]=x=>d.value=x),class:"h-6 w-6"},null,512),[[ei,d.value]])])]),XD,N("button",{onClick:I[5]||(I[5]=x=>p()),class:"mt-3 rounded bg-red-700 p-3 text-xl shadow shadow-black"}," DELETE "),ZD,N("button",{onClick:I[6]||(I[6]=x=>A.$emit("close",!1)),class:"mr-4 mt-3 rounded bg-orange-300 p-3 text-xl shadow shadow-black"}," Cancel "),N("button",{onClick:I[7]||(I[7]=x=>f()),class:"mt-3 rounded bg-rose-300 p-3 text-xl shadow shadow-black"}," Update ")]),JD,bn(BD,{ref_key:"cards_list_ref",ref:i,auth:t.auth,db:t.db,deck:t.deck},null,8,["auth","db","deck"])])]))}};function yu(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var wb={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/(function(t,e){(function(n){t.exports=n()})(function(){return function n(r,i,s){function o(u,d){if(!i[u]){if(!r[u]){var f=typeof yu=="function"&&yu;if(!d&&f)return f(u,!0);if(a)return a(u,!0);var p=new Error("Cannot find module '"+u+"'");throw p.code="MODULE_NOT_FOUND",p}var m=i[u]={exports:{}};r[u][0].call(m.exports,function(b){var y=r[u][1][b];return o(y||b)},m,m.exports,n,r,i,s)}return i[u].exports}for(var a=typeof yu=="function"&&yu,l=0;l<s.length;l++)o(s[l]);return o}({1:[function(n,r,i){var s=n("./utils"),o=n("./support"),a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";i.encode=function(l){for(var u,d,f,p,m,b,y,A=[],I=0,x=l.length,R=x,P=s.getTypeOf(l)!=="string";I<l.length;)R=x-I,f=P?(u=l[I++],d=I<x?l[I++]:0,I<x?l[I++]:0):(u=l.charCodeAt(I++),d=I<x?l.charCodeAt(I++):0,I<x?l.charCodeAt(I++):0),p=u>>2,m=(3&u)<<4|d>>4,b=1<R?(15&d)<<2|f>>6:64,y=2<R?63&f:64,A.push(a.charAt(p)+a.charAt(m)+a.charAt(b)+a.charAt(y));return A.join("")},i.decode=function(l){var u,d,f,p,m,b,y=0,A=0,I="data:";if(l.substr(0,I.length)===I)throw new Error("Invalid base64 input, it looks like a data url.");var x,R=3*(l=l.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(l.charAt(l.length-1)===a.charAt(64)&&R--,l.charAt(l.length-2)===a.charAt(64)&&R--,R%1!=0)throw new Error("Invalid base64 input, bad content length.");for(x=o.uint8array?new Uint8Array(0|R):new Array(0|R);y<l.length;)u=a.indexOf(l.charAt(y++))<<2|(p=a.indexOf(l.charAt(y++)))>>4,d=(15&p)<<4|(m=a.indexOf(l.charAt(y++)))>>2,f=(3&m)<<6|(b=a.indexOf(l.charAt(y++))),x[A++]=u,m!==64&&(x[A++]=d),b!==64&&(x[A++]=f);return x}},{"./support":30,"./utils":32}],2:[function(n,r,i){var s=n("./external"),o=n("./stream/DataWorker"),a=n("./stream/Crc32Probe"),l=n("./stream/DataLengthProbe");function u(d,f,p,m,b){this.compressedSize=d,this.uncompressedSize=f,this.crc32=p,this.compression=m,this.compressedContent=b}u.prototype={getContentWorker:function(){var d=new o(s.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new l("data_length")),f=this;return d.on("end",function(){if(this.streamInfo.data_length!==f.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),d},getCompressedWorker:function(){return new o(s.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},u.createWorkerFrom=function(d,f,p){return d.pipe(new a).pipe(new l("uncompressedSize")).pipe(f.compressWorker(p)).pipe(new l("compressedSize")).withStreamInfo("compression",f)},r.exports=u},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(n,r,i){var s=n("./stream/GenericWorker");i.STORE={magic:"\0\0",compressWorker:function(){return new s("STORE compression")},uncompressWorker:function(){return new s("STORE decompression")}},i.DEFLATE=n("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(n,r,i){var s=n("./utils"),o=function(){for(var a,l=[],u=0;u<256;u++){a=u;for(var d=0;d<8;d++)a=1&a?3988292384^a>>>1:a>>>1;l[u]=a}return l}();r.exports=function(a,l){return a!==void 0&&a.length?s.getTypeOf(a)!=="string"?function(u,d,f,p){var m=o,b=p+f;u^=-1;for(var y=p;y<b;y++)u=u>>>8^m[255&(u^d[y])];return-1^u}(0|l,a,a.length,0):function(u,d,f,p){var m=o,b=p+f;u^=-1;for(var y=p;y<b;y++)u=u>>>8^m[255&(u^d.charCodeAt(y))];return-1^u}(0|l,a,a.length,0):0}},{"./utils":32}],5:[function(n,r,i){i.base64=!1,i.binary=!1,i.dir=!1,i.createFolders=!0,i.date=null,i.compression=null,i.compressionOptions=null,i.comment=null,i.unixPermissions=null,i.dosPermissions=null},{}],6:[function(n,r,i){var s=null;s=typeof Promise<"u"?Promise:n("lie"),r.exports={Promise:s}},{lie:37}],7:[function(n,r,i){var s=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",o=n("pako"),a=n("./utils"),l=n("./stream/GenericWorker"),u=s?"uint8array":"array";function d(f,p){l.call(this,"FlateWorker/"+f),this._pako=null,this._pakoAction=f,this._pakoOptions=p,this.meta={}}i.magic="\b\0",a.inherits(d,l),d.prototype.processChunk=function(f){this.meta=f.meta,this._pako===null&&this._createPako(),this._pako.push(a.transformTo(u,f.data),!1)},d.prototype.flush=function(){l.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},d.prototype.cleanUp=function(){l.prototype.cleanUp.call(this),this._pako=null},d.prototype._createPako=function(){this._pako=new o[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var f=this;this._pako.onData=function(p){f.push({data:p,meta:f.meta})}},i.compressWorker=function(f){return new d("Deflate",f)},i.uncompressWorker=function(){return new d("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(n,r,i){function s(m,b){var y,A="";for(y=0;y<b;y++)A+=String.fromCharCode(255&m),m>>>=8;return A}function o(m,b,y,A,I,x){var R,P,B=m.file,G=m.compression,F=x!==u.utf8encode,te=a.transformTo("string",x(B.name)),ee=a.transformTo("string",u.utf8encode(B.name)),Z=B.comment,ae=a.transformTo("string",x(Z)),U=a.transformTo("string",u.utf8encode(Z)),X=ee.length!==B.name.length,T=U.length!==Z.length,re="",se="",W="",ce=B.dir,ie=B.date,de={crc32:0,compressedSize:0,uncompressedSize:0};b&&!y||(de.crc32=m.crc32,de.compressedSize=m.compressedSize,de.uncompressedSize=m.uncompressedSize);var J=0;b&&(J|=8),F||!X&&!T||(J|=2048);var Q=0,ve=0;ce&&(Q|=16),I==="UNIX"?(ve=798,Q|=function(H,ze){var ut=H;return H||(ut=ze?16893:33204),(65535&ut)<<16}(B.unixPermissions,ce)):(ve=20,Q|=function(H){return 63&(H||0)}(B.dosPermissions)),R=ie.getUTCHours(),R<<=6,R|=ie.getUTCMinutes(),R<<=5,R|=ie.getUTCSeconds()/2,P=ie.getUTCFullYear()-1980,P<<=4,P|=ie.getUTCMonth()+1,P<<=5,P|=ie.getUTCDate(),X&&(se=s(1,1)+s(d(te),4)+ee,re+="up"+s(se.length,2)+se),T&&(W=s(1,1)+s(d(ae),4)+U,re+="uc"+s(W.length,2)+W);var _e="";return _e+=`
\0`,_e+=s(J,2),_e+=G.magic,_e+=s(R,2),_e+=s(P,2),_e+=s(de.crc32,4),_e+=s(de.compressedSize,4),_e+=s(de.uncompressedSize,4),_e+=s(te.length,2),_e+=s(re.length,2),{fileRecord:f.LOCAL_FILE_HEADER+_e+te+re,dirRecord:f.CENTRAL_FILE_HEADER+s(ve,2)+_e+s(ae.length,2)+"\0\0\0\0"+s(Q,4)+s(A,4)+te+re+ae}}var a=n("../utils"),l=n("../stream/GenericWorker"),u=n("../utf8"),d=n("../crc32"),f=n("../signature");function p(m,b,y,A){l.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=b,this.zipPlatform=y,this.encodeFileName=A,this.streamFiles=m,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}a.inherits(p,l),p.prototype.push=function(m){var b=m.meta.percent||0,y=this.entriesCount,A=this._sources.length;this.accumulate?this.contentBuffer.push(m):(this.bytesWritten+=m.data.length,l.prototype.push.call(this,{data:m.data,meta:{currentFile:this.currentFile,percent:y?(b+100*(y-A-1))/y:100}}))},p.prototype.openedSource=function(m){this.currentSourceOffset=this.bytesWritten,this.currentFile=m.file.name;var b=this.streamFiles&&!m.file.dir;if(b){var y=o(m,b,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:y.fileRecord,meta:{percent:0}})}else this.accumulate=!0},p.prototype.closedSource=function(m){this.accumulate=!1;var b=this.streamFiles&&!m.file.dir,y=o(m,b,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(y.dirRecord),b)this.push({data:function(A){return f.DATA_DESCRIPTOR+s(A.crc32,4)+s(A.compressedSize,4)+s(A.uncompressedSize,4)}(m),meta:{percent:100}});else for(this.push({data:y.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},p.prototype.flush=function(){for(var m=this.bytesWritten,b=0;b<this.dirRecords.length;b++)this.push({data:this.dirRecords[b],meta:{percent:100}});var y=this.bytesWritten-m,A=function(I,x,R,P,B){var G=a.transformTo("string",B(P));return f.CENTRAL_DIRECTORY_END+"\0\0\0\0"+s(I,2)+s(I,2)+s(x,4)+s(R,4)+s(G.length,2)+G}(this.dirRecords.length,y,m,this.zipComment,this.encodeFileName);this.push({data:A,meta:{percent:100}})},p.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},p.prototype.registerPrevious=function(m){this._sources.push(m);var b=this;return m.on("data",function(y){b.processChunk(y)}),m.on("end",function(){b.closedSource(b.previous.streamInfo),b._sources.length?b.prepareNextSource():b.end()}),m.on("error",function(y){b.error(y)}),this},p.prototype.resume=function(){return!!l.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},p.prototype.error=function(m){var b=this._sources;if(!l.prototype.error.call(this,m))return!1;for(var y=0;y<b.length;y++)try{b[y].error(m)}catch{}return!0},p.prototype.lock=function(){l.prototype.lock.call(this);for(var m=this._sources,b=0;b<m.length;b++)m[b].lock()},r.exports=p},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(n,r,i){var s=n("../compressions"),o=n("./ZipFileWorker");i.generateWorker=function(a,l,u){var d=new o(l.streamFiles,u,l.platform,l.encodeFileName),f=0;try{a.forEach(function(p,m){f++;var b=function(x,R){var P=x||R,B=s[P];if(!B)throw new Error(P+" is not a valid compression method !");return B}(m.options.compression,l.compression),y=m.options.compressionOptions||l.compressionOptions||{},A=m.dir,I=m.date;m._compressWorker(b,y).withStreamInfo("file",{name:p,dir:A,date:I,comment:m.comment||"",unixPermissions:m.unixPermissions,dosPermissions:m.dosPermissions}).pipe(d)}),d.entriesCount=f}catch(p){d.error(p)}return d}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(n,r,i){function s(){if(!(this instanceof s))return new s;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var o=new s;for(var a in this)typeof this[a]!="function"&&(o[a]=this[a]);return o}}(s.prototype=n("./object")).loadAsync=n("./load"),s.support=n("./support"),s.defaults=n("./defaults"),s.version="3.10.1",s.loadAsync=function(o,a){return new s().loadAsync(o,a)},s.external=n("./external"),r.exports=s},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(n,r,i){var s=n("./utils"),o=n("./external"),a=n("./utf8"),l=n("./zipEntries"),u=n("./stream/Crc32Probe"),d=n("./nodejsUtils");function f(p){return new o.Promise(function(m,b){var y=p.decompressed.getContentWorker().pipe(new u);y.on("error",function(A){b(A)}).on("end",function(){y.streamInfo.crc32!==p.decompressed.crc32?b(new Error("Corrupted zip : CRC32 mismatch")):m()}).resume()})}r.exports=function(p,m){var b=this;return m=s.extend(m||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:a.utf8decode}),d.isNode&&d.isStream(p)?o.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):s.prepareContent("the loaded zip file",p,!0,m.optimizedBinaryString,m.base64).then(function(y){var A=new l(m);return A.load(y),A}).then(function(y){var A=[o.Promise.resolve(y)],I=y.files;if(m.checkCRC32)for(var x=0;x<I.length;x++)A.push(f(I[x]));return o.Promise.all(A)}).then(function(y){for(var A=y.shift(),I=A.files,x=0;x<I.length;x++){var R=I[x],P=R.fileNameStr,B=s.resolve(R.fileNameStr);b.file(B,R.decompressed,{binary:!0,optimizedBinaryString:!0,date:R.date,dir:R.dir,comment:R.fileCommentStr.length?R.fileCommentStr:null,unixPermissions:R.unixPermissions,dosPermissions:R.dosPermissions,createFolders:m.createFolders}),R.dir||(b.file(B).unsafeOriginalName=P)}return A.zipComment.length&&(b.comment=A.zipComment),b})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(n,r,i){var s=n("../utils"),o=n("../stream/GenericWorker");function a(l,u){o.call(this,"Nodejs stream input adapter for "+l),this._upstreamEnded=!1,this._bindStream(u)}s.inherits(a,o),a.prototype._bindStream=function(l){var u=this;(this._stream=l).pause(),l.on("data",function(d){u.push({data:d,meta:{percent:0}})}).on("error",function(d){u.isPaused?this.generatedError=d:u.error(d)}).on("end",function(){u.isPaused?u._upstreamEnded=!0:u.end()})},a.prototype.pause=function(){return!!o.prototype.pause.call(this)&&(this._stream.pause(),!0)},a.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},r.exports=a},{"../stream/GenericWorker":28,"../utils":32}],13:[function(n,r,i){var s=n("readable-stream").Readable;function o(a,l,u){s.call(this,l),this._helper=a;var d=this;a.on("data",function(f,p){d.push(f)||d._helper.pause(),u&&u(p)}).on("error",function(f){d.emit("error",f)}).on("end",function(){d.push(null)})}n("../utils").inherits(o,s),o.prototype._read=function(){this._helper.resume()},r.exports=o},{"../utils":32,"readable-stream":16}],14:[function(n,r,i){r.exports={isNode:typeof Buffer<"u",newBufferFrom:function(s,o){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(s,o);if(typeof s=="number")throw new Error('The "data" argument must not be a number');return new Buffer(s,o)},allocBuffer:function(s){if(Buffer.alloc)return Buffer.alloc(s);var o=new Buffer(s);return o.fill(0),o},isBuffer:function(s){return Buffer.isBuffer(s)},isStream:function(s){return s&&typeof s.on=="function"&&typeof s.pause=="function"&&typeof s.resume=="function"}}},{}],15:[function(n,r,i){function s(B,G,F){var te,ee=a.getTypeOf(G),Z=a.extend(F||{},d);Z.date=Z.date||new Date,Z.compression!==null&&(Z.compression=Z.compression.toUpperCase()),typeof Z.unixPermissions=="string"&&(Z.unixPermissions=parseInt(Z.unixPermissions,8)),Z.unixPermissions&&16384&Z.unixPermissions&&(Z.dir=!0),Z.dosPermissions&&16&Z.dosPermissions&&(Z.dir=!0),Z.dir&&(B=I(B)),Z.createFolders&&(te=A(B))&&x.call(this,te,!0);var ae=ee==="string"&&Z.binary===!1&&Z.base64===!1;F&&F.binary!==void 0||(Z.binary=!ae),(G instanceof f&&G.uncompressedSize===0||Z.dir||!G||G.length===0)&&(Z.base64=!1,Z.binary=!0,G="",Z.compression="STORE",ee="string");var U=null;U=G instanceof f||G instanceof l?G:b.isNode&&b.isStream(G)?new y(B,G):a.prepareContent(B,G,Z.binary,Z.optimizedBinaryString,Z.base64);var X=new p(B,U,Z);this.files[B]=X}var o=n("./utf8"),a=n("./utils"),l=n("./stream/GenericWorker"),u=n("./stream/StreamHelper"),d=n("./defaults"),f=n("./compressedObject"),p=n("./zipObject"),m=n("./generate"),b=n("./nodejsUtils"),y=n("./nodejs/NodejsStreamInputAdapter"),A=function(B){B.slice(-1)==="/"&&(B=B.substring(0,B.length-1));var G=B.lastIndexOf("/");return 0<G?B.substring(0,G):""},I=function(B){return B.slice(-1)!=="/"&&(B+="/"),B},x=function(B,G){return G=G!==void 0?G:d.createFolders,B=I(B),this.files[B]||s.call(this,B,null,{dir:!0,createFolders:G}),this.files[B]};function R(B){return Object.prototype.toString.call(B)==="[object RegExp]"}var P={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(B){var G,F,te;for(G in this.files)te=this.files[G],(F=G.slice(this.root.length,G.length))&&G.slice(0,this.root.length)===this.root&&B(F,te)},filter:function(B){var G=[];return this.forEach(function(F,te){B(F,te)&&G.push(te)}),G},file:function(B,G,F){if(arguments.length!==1)return B=this.root+B,s.call(this,B,G,F),this;if(R(B)){var te=B;return this.filter(function(Z,ae){return!ae.dir&&te.test(Z)})}var ee=this.files[this.root+B];return ee&&!ee.dir?ee:null},folder:function(B){if(!B)return this;if(R(B))return this.filter(function(ee,Z){return Z.dir&&B.test(ee)});var G=this.root+B,F=x.call(this,G),te=this.clone();return te.root=F.name,te},remove:function(B){B=this.root+B;var G=this.files[B];if(G||(B.slice(-1)!=="/"&&(B+="/"),G=this.files[B]),G&&!G.dir)delete this.files[B];else for(var F=this.filter(function(ee,Z){return Z.name.slice(0,B.length)===B}),te=0;te<F.length;te++)delete this.files[F[te].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(B){var G,F={};try{if((F=a.extend(B||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:o.utf8encode})).type=F.type.toLowerCase(),F.compression=F.compression.toUpperCase(),F.type==="binarystring"&&(F.type="string"),!F.type)throw new Error("No output type specified.");a.checkSupport(F.type),F.platform!=="darwin"&&F.platform!=="freebsd"&&F.platform!=="linux"&&F.platform!=="sunos"||(F.platform="UNIX"),F.platform==="win32"&&(F.platform="DOS");var te=F.comment||this.comment||"";G=m.generateWorker(this,F,te)}catch(ee){(G=new l("error")).error(ee)}return new u(G,F.type||"string",F.mimeType)},generateAsync:function(B,G){return this.generateInternalStream(B).accumulate(G)},generateNodeStream:function(B,G){return(B=B||{}).type||(B.type="nodebuffer"),this.generateInternalStream(B).toNodejsStream(G)}};r.exports=P},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(n,r,i){r.exports=n("stream")},{stream:void 0}],17:[function(n,r,i){var s=n("./DataReader");function o(a){s.call(this,a);for(var l=0;l<this.data.length;l++)a[l]=255&a[l]}n("../utils").inherits(o,s),o.prototype.byteAt=function(a){return this.data[this.zero+a]},o.prototype.lastIndexOfSignature=function(a){for(var l=a.charCodeAt(0),u=a.charCodeAt(1),d=a.charCodeAt(2),f=a.charCodeAt(3),p=this.length-4;0<=p;--p)if(this.data[p]===l&&this.data[p+1]===u&&this.data[p+2]===d&&this.data[p+3]===f)return p-this.zero;return-1},o.prototype.readAndCheckSignature=function(a){var l=a.charCodeAt(0),u=a.charCodeAt(1),d=a.charCodeAt(2),f=a.charCodeAt(3),p=this.readData(4);return l===p[0]&&u===p[1]&&d===p[2]&&f===p[3]},o.prototype.readData=function(a){if(this.checkOffset(a),a===0)return[];var l=this.data.slice(this.zero+this.index,this.zero+this.index+a);return this.index+=a,l},r.exports=o},{"../utils":32,"./DataReader":18}],18:[function(n,r,i){var s=n("../utils");function o(a){this.data=a,this.length=a.length,this.index=0,this.zero=0}o.prototype={checkOffset:function(a){this.checkIndex(this.index+a)},checkIndex:function(a){if(this.length<this.zero+a||a<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+a+"). Corrupted zip ?")},setIndex:function(a){this.checkIndex(a),this.index=a},skip:function(a){this.setIndex(this.index+a)},byteAt:function(){},readInt:function(a){var l,u=0;for(this.checkOffset(a),l=this.index+a-1;l>=this.index;l--)u=(u<<8)+this.byteAt(l);return this.index+=a,u},readString:function(a){return s.transformTo("string",this.readData(a))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var a=this.readInt(4);return new Date(Date.UTC(1980+(a>>25&127),(a>>21&15)-1,a>>16&31,a>>11&31,a>>5&63,(31&a)<<1))}},r.exports=o},{"../utils":32}],19:[function(n,r,i){var s=n("./Uint8ArrayReader");function o(a){s.call(this,a)}n("../utils").inherits(o,s),o.prototype.readData=function(a){this.checkOffset(a);var l=this.data.slice(this.zero+this.index,this.zero+this.index+a);return this.index+=a,l},r.exports=o},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(n,r,i){var s=n("./DataReader");function o(a){s.call(this,a)}n("../utils").inherits(o,s),o.prototype.byteAt=function(a){return this.data.charCodeAt(this.zero+a)},o.prototype.lastIndexOfSignature=function(a){return this.data.lastIndexOf(a)-this.zero},o.prototype.readAndCheckSignature=function(a){return a===this.readData(4)},o.prototype.readData=function(a){this.checkOffset(a);var l=this.data.slice(this.zero+this.index,this.zero+this.index+a);return this.index+=a,l},r.exports=o},{"../utils":32,"./DataReader":18}],21:[function(n,r,i){var s=n("./ArrayReader");function o(a){s.call(this,a)}n("../utils").inherits(o,s),o.prototype.readData=function(a){if(this.checkOffset(a),a===0)return new Uint8Array(0);var l=this.data.subarray(this.zero+this.index,this.zero+this.index+a);return this.index+=a,l},r.exports=o},{"../utils":32,"./ArrayReader":17}],22:[function(n,r,i){var s=n("../utils"),o=n("../support"),a=n("./ArrayReader"),l=n("./StringReader"),u=n("./NodeBufferReader"),d=n("./Uint8ArrayReader");r.exports=function(f){var p=s.getTypeOf(f);return s.checkSupport(p),p!=="string"||o.uint8array?p==="nodebuffer"?new u(f):o.uint8array?new d(s.transformTo("uint8array",f)):new a(s.transformTo("array",f)):new l(f)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(n,r,i){i.LOCAL_FILE_HEADER="PK",i.CENTRAL_FILE_HEADER="PK",i.CENTRAL_DIRECTORY_END="PK",i.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",i.ZIP64_CENTRAL_DIRECTORY_END="PK",i.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(n,r,i){var s=n("./GenericWorker"),o=n("../utils");function a(l){s.call(this,"ConvertWorker to "+l),this.destType=l}o.inherits(a,s),a.prototype.processChunk=function(l){this.push({data:o.transformTo(this.destType,l.data),meta:l.meta})},r.exports=a},{"../utils":32,"./GenericWorker":28}],25:[function(n,r,i){var s=n("./GenericWorker"),o=n("../crc32");function a(){s.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}n("../utils").inherits(a,s),a.prototype.processChunk=function(l){this.streamInfo.crc32=o(l.data,this.streamInfo.crc32||0),this.push(l)},r.exports=a},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(n,r,i){var s=n("../utils"),o=n("./GenericWorker");function a(l){o.call(this,"DataLengthProbe for "+l),this.propName=l,this.withStreamInfo(l,0)}s.inherits(a,o),a.prototype.processChunk=function(l){if(l){var u=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=u+l.data.length}o.prototype.processChunk.call(this,l)},r.exports=a},{"../utils":32,"./GenericWorker":28}],27:[function(n,r,i){var s=n("../utils"),o=n("./GenericWorker");function a(l){o.call(this,"DataWorker");var u=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,l.then(function(d){u.dataIsReady=!0,u.data=d,u.max=d&&d.length||0,u.type=s.getTypeOf(d),u.isPaused||u._tickAndRepeat()},function(d){u.error(d)})}s.inherits(a,o),a.prototype.cleanUp=function(){o.prototype.cleanUp.call(this),this.data=null},a.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,s.delay(this._tickAndRepeat,[],this)),!0)},a.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(s.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},a.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var l=null,u=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":l=this.data.substring(this.index,u);break;case"uint8array":l=this.data.subarray(this.index,u);break;case"array":case"nodebuffer":l=this.data.slice(this.index,u)}return this.index=u,this.push({data:l,meta:{percent:this.max?this.index/this.max*100:0}})},r.exports=a},{"../utils":32,"./GenericWorker":28}],28:[function(n,r,i){function s(o){this.name=o||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}s.prototype={push:function(o){this.emit("data",o)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(o){this.emit("error",o)}return!0},error:function(o){return!this.isFinished&&(this.isPaused?this.generatedError=o:(this.isFinished=!0,this.emit("error",o),this.previous&&this.previous.error(o),this.cleanUp()),!0)},on:function(o,a){return this._listeners[o].push(a),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(o,a){if(this._listeners[o])for(var l=0;l<this._listeners[o].length;l++)this._listeners[o][l].call(this,a)},pipe:function(o){return o.registerPrevious(this)},registerPrevious:function(o){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=o.streamInfo,this.mergeStreamInfo(),this.previous=o;var a=this;return o.on("data",function(l){a.processChunk(l)}),o.on("end",function(){a.end()}),o.on("error",function(l){a.error(l)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var o=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),o=!0),this.previous&&this.previous.resume(),!o},flush:function(){},processChunk:function(o){this.push(o)},withStreamInfo:function(o,a){return this.extraStreamInfo[o]=a,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var o in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,o)&&(this.streamInfo[o]=this.extraStreamInfo[o])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var o="Worker "+this.name;return this.previous?this.previous+" -> "+o:o}},r.exports=s},{}],29:[function(n,r,i){var s=n("../utils"),o=n("./ConvertWorker"),a=n("./GenericWorker"),l=n("../base64"),u=n("../support"),d=n("../external"),f=null;if(u.nodestream)try{f=n("../nodejs/NodejsStreamOutputAdapter")}catch{}function p(b,y){return new d.Promise(function(A,I){var x=[],R=b._internalType,P=b._outputType,B=b._mimeType;b.on("data",function(G,F){x.push(G),y&&y(F)}).on("error",function(G){x=[],I(G)}).on("end",function(){try{var G=function(F,te,ee){switch(F){case"blob":return s.newBlob(s.transformTo("arraybuffer",te),ee);case"base64":return l.encode(te);default:return s.transformTo(F,te)}}(P,function(F,te){var ee,Z=0,ae=null,U=0;for(ee=0;ee<te.length;ee++)U+=te[ee].length;switch(F){case"string":return te.join("");case"array":return Array.prototype.concat.apply([],te);case"uint8array":for(ae=new Uint8Array(U),ee=0;ee<te.length;ee++)ae.set(te[ee],Z),Z+=te[ee].length;return ae;case"nodebuffer":return Buffer.concat(te);default:throw new Error("concat : unsupported type '"+F+"'")}}(R,x),B);A(G)}catch(F){I(F)}x=[]}).resume()})}function m(b,y,A){var I=y;switch(y){case"blob":case"arraybuffer":I="uint8array";break;case"base64":I="string"}try{this._internalType=I,this._outputType=y,this._mimeType=A,s.checkSupport(I),this._worker=b.pipe(new o(I)),b.lock()}catch(x){this._worker=new a("error"),this._worker.error(x)}}m.prototype={accumulate:function(b){return p(this,b)},on:function(b,y){var A=this;return b==="data"?this._worker.on(b,function(I){y.call(A,I.data,I.meta)}):this._worker.on(b,function(){s.delay(y,arguments,A)}),this},resume:function(){return s.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(b){if(s.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new f(this,{objectMode:this._outputType!=="nodebuffer"},b)}},r.exports=m},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(n,r,i){if(i.base64=!0,i.array=!0,i.string=!0,i.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",i.nodebuffer=typeof Buffer<"u",i.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")i.blob=!1;else{var s=new ArrayBuffer(0);try{i.blob=new Blob([s],{type:"application/zip"}).size===0}catch{try{var o=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);o.append(s),i.blob=o.getBlob("application/zip").size===0}catch{i.blob=!1}}}try{i.nodestream=!!n("readable-stream").Readable}catch{i.nodestream=!1}},{"readable-stream":16}],31:[function(n,r,i){for(var s=n("./utils"),o=n("./support"),a=n("./nodejsUtils"),l=n("./stream/GenericWorker"),u=new Array(256),d=0;d<256;d++)u[d]=252<=d?6:248<=d?5:240<=d?4:224<=d?3:192<=d?2:1;u[254]=u[254]=1;function f(){l.call(this,"utf-8 decode"),this.leftOver=null}function p(){l.call(this,"utf-8 encode")}i.utf8encode=function(m){return o.nodebuffer?a.newBufferFrom(m,"utf-8"):function(b){var y,A,I,x,R,P=b.length,B=0;for(x=0;x<P;x++)(64512&(A=b.charCodeAt(x)))==55296&&x+1<P&&(64512&(I=b.charCodeAt(x+1)))==56320&&(A=65536+(A-55296<<10)+(I-56320),x++),B+=A<128?1:A<2048?2:A<65536?3:4;for(y=o.uint8array?new Uint8Array(B):new Array(B),x=R=0;R<B;x++)(64512&(A=b.charCodeAt(x)))==55296&&x+1<P&&(64512&(I=b.charCodeAt(x+1)))==56320&&(A=65536+(A-55296<<10)+(I-56320),x++),A<128?y[R++]=A:(A<2048?y[R++]=192|A>>>6:(A<65536?y[R++]=224|A>>>12:(y[R++]=240|A>>>18,y[R++]=128|A>>>12&63),y[R++]=128|A>>>6&63),y[R++]=128|63&A);return y}(m)},i.utf8decode=function(m){return o.nodebuffer?s.transformTo("nodebuffer",m).toString("utf-8"):function(b){var y,A,I,x,R=b.length,P=new Array(2*R);for(y=A=0;y<R;)if((I=b[y++])<128)P[A++]=I;else if(4<(x=u[I]))P[A++]=65533,y+=x-1;else{for(I&=x===2?31:x===3?15:7;1<x&&y<R;)I=I<<6|63&b[y++],x--;1<x?P[A++]=65533:I<65536?P[A++]=I:(I-=65536,P[A++]=55296|I>>10&1023,P[A++]=56320|1023&I)}return P.length!==A&&(P.subarray?P=P.subarray(0,A):P.length=A),s.applyFromCharCode(P)}(m=s.transformTo(o.uint8array?"uint8array":"array",m))},s.inherits(f,l),f.prototype.processChunk=function(m){var b=s.transformTo(o.uint8array?"uint8array":"array",m.data);if(this.leftOver&&this.leftOver.length){if(o.uint8array){var y=b;(b=new Uint8Array(y.length+this.leftOver.length)).set(this.leftOver,0),b.set(y,this.leftOver.length)}else b=this.leftOver.concat(b);this.leftOver=null}var A=function(x,R){var P;for((R=R||x.length)>x.length&&(R=x.length),P=R-1;0<=P&&(192&x[P])==128;)P--;return P<0||P===0?R:P+u[x[P]]>R?P:R}(b),I=b;A!==b.length&&(o.uint8array?(I=b.subarray(0,A),this.leftOver=b.subarray(A,b.length)):(I=b.slice(0,A),this.leftOver=b.slice(A,b.length))),this.push({data:i.utf8decode(I),meta:m.meta})},f.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:i.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},i.Utf8DecodeWorker=f,s.inherits(p,l),p.prototype.processChunk=function(m){this.push({data:i.utf8encode(m.data),meta:m.meta})},i.Utf8EncodeWorker=p},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(n,r,i){var s=n("./support"),o=n("./base64"),a=n("./nodejsUtils"),l=n("./external");function u(y){return y}function d(y,A){for(var I=0;I<y.length;++I)A[I]=255&y.charCodeAt(I);return A}n("setimmediate"),i.newBlob=function(y,A){i.checkSupport("blob");try{return new Blob([y],{type:A})}catch{try{var I=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return I.append(y),I.getBlob(A)}catch{throw new Error("Bug : can't construct the Blob.")}}};var f={stringifyByChunk:function(y,A,I){var x=[],R=0,P=y.length;if(P<=I)return String.fromCharCode.apply(null,y);for(;R<P;)A==="array"||A==="nodebuffer"?x.push(String.fromCharCode.apply(null,y.slice(R,Math.min(R+I,P)))):x.push(String.fromCharCode.apply(null,y.subarray(R,Math.min(R+I,P)))),R+=I;return x.join("")},stringifyByChar:function(y){for(var A="",I=0;I<y.length;I++)A+=String.fromCharCode(y[I]);return A},applyCanBeUsed:{uint8array:function(){try{return s.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return s.nodebuffer&&String.fromCharCode.apply(null,a.allocBuffer(1)).length===1}catch{return!1}}()}};function p(y){var A=65536,I=i.getTypeOf(y),x=!0;if(I==="uint8array"?x=f.applyCanBeUsed.uint8array:I==="nodebuffer"&&(x=f.applyCanBeUsed.nodebuffer),x)for(;1<A;)try{return f.stringifyByChunk(y,I,A)}catch{A=Math.floor(A/2)}return f.stringifyByChar(y)}function m(y,A){for(var I=0;I<y.length;I++)A[I]=y[I];return A}i.applyFromCharCode=p;var b={};b.string={string:u,array:function(y){return d(y,new Array(y.length))},arraybuffer:function(y){return b.string.uint8array(y).buffer},uint8array:function(y){return d(y,new Uint8Array(y.length))},nodebuffer:function(y){return d(y,a.allocBuffer(y.length))}},b.array={string:p,array:u,arraybuffer:function(y){return new Uint8Array(y).buffer},uint8array:function(y){return new Uint8Array(y)},nodebuffer:function(y){return a.newBufferFrom(y)}},b.arraybuffer={string:function(y){return p(new Uint8Array(y))},array:function(y){return m(new Uint8Array(y),new Array(y.byteLength))},arraybuffer:u,uint8array:function(y){return new Uint8Array(y)},nodebuffer:function(y){return a.newBufferFrom(new Uint8Array(y))}},b.uint8array={string:p,array:function(y){return m(y,new Array(y.length))},arraybuffer:function(y){return y.buffer},uint8array:u,nodebuffer:function(y){return a.newBufferFrom(y)}},b.nodebuffer={string:p,array:function(y){return m(y,new Array(y.length))},arraybuffer:function(y){return b.nodebuffer.uint8array(y).buffer},uint8array:function(y){return m(y,new Uint8Array(y.length))},nodebuffer:u},i.transformTo=function(y,A){if(A=A||"",!y)return A;i.checkSupport(y);var I=i.getTypeOf(A);return b[I][y](A)},i.resolve=function(y){for(var A=y.split("/"),I=[],x=0;x<A.length;x++){var R=A[x];R==="."||R===""&&x!==0&&x!==A.length-1||(R===".."?I.pop():I.push(R))}return I.join("/")},i.getTypeOf=function(y){return typeof y=="string"?"string":Object.prototype.toString.call(y)==="[object Array]"?"array":s.nodebuffer&&a.isBuffer(y)?"nodebuffer":s.uint8array&&y instanceof Uint8Array?"uint8array":s.arraybuffer&&y instanceof ArrayBuffer?"arraybuffer":void 0},i.checkSupport=function(y){if(!s[y.toLowerCase()])throw new Error(y+" is not supported by this platform")},i.MAX_VALUE_16BITS=65535,i.MAX_VALUE_32BITS=-1,i.pretty=function(y){var A,I,x="";for(I=0;I<(y||"").length;I++)x+="\\x"+((A=y.charCodeAt(I))<16?"0":"")+A.toString(16).toUpperCase();return x},i.delay=function(y,A,I){setImmediate(function(){y.apply(I||null,A||[])})},i.inherits=function(y,A){function I(){}I.prototype=A.prototype,y.prototype=new I},i.extend=function(){var y,A,I={};for(y=0;y<arguments.length;y++)for(A in arguments[y])Object.prototype.hasOwnProperty.call(arguments[y],A)&&I[A]===void 0&&(I[A]=arguments[y][A]);return I},i.prepareContent=function(y,A,I,x,R){return l.Promise.resolve(A).then(function(P){return s.blob&&(P instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(P))!==-1)&&typeof FileReader<"u"?new l.Promise(function(B,G){var F=new FileReader;F.onload=function(te){B(te.target.result)},F.onerror=function(te){G(te.target.error)},F.readAsArrayBuffer(P)}):P}).then(function(P){var B=i.getTypeOf(P);return B?(B==="arraybuffer"?P=i.transformTo("uint8array",P):B==="string"&&(R?P=o.decode(P):I&&x!==!0&&(P=function(G){return d(G,s.uint8array?new Uint8Array(G.length):new Array(G.length))}(P))),P):l.Promise.reject(new Error("Can't read the data of '"+y+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(n,r,i){var s=n("./reader/readerFor"),o=n("./utils"),a=n("./signature"),l=n("./zipEntry"),u=n("./support");function d(f){this.files=[],this.loadOptions=f}d.prototype={checkSignature:function(f){if(!this.reader.readAndCheckSignature(f)){this.reader.index-=4;var p=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+o.pretty(p)+", expected "+o.pretty(f)+")")}},isSignature:function(f,p){var m=this.reader.index;this.reader.setIndex(f);var b=this.reader.readString(4)===p;return this.reader.setIndex(m),b},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var f=this.reader.readData(this.zipCommentLength),p=u.uint8array?"uint8array":"array",m=o.transformTo(p,f);this.zipComment=this.loadOptions.decodeFileName(m)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var f,p,m,b=this.zip64EndOfCentralSize-44;0<b;)f=this.reader.readInt(2),p=this.reader.readInt(4),m=this.reader.readData(p),this.zip64ExtensibleData[f]={id:f,length:p,value:m}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var f,p;for(f=0;f<this.files.length;f++)p=this.files[f],this.reader.setIndex(p.localHeaderOffset),this.checkSignature(a.LOCAL_FILE_HEADER),p.readLocalPart(this.reader),p.handleUTF8(),p.processAttributes()},readCentralDir:function(){var f;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(a.CENTRAL_FILE_HEADER);)(f=new l({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(f);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var f=this.reader.lastIndexOfSignature(a.CENTRAL_DIRECTORY_END);if(f<0)throw this.isSignature(0,a.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(f);var p=f;if(this.checkSignature(a.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===o.MAX_VALUE_16BITS||this.diskWithCentralDirStart===o.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===o.MAX_VALUE_16BITS||this.centralDirRecords===o.MAX_VALUE_16BITS||this.centralDirSize===o.MAX_VALUE_32BITS||this.centralDirOffset===o.MAX_VALUE_32BITS){if(this.zip64=!0,(f=this.reader.lastIndexOfSignature(a.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(f),this.checkSignature(a.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,a.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(a.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(a.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var m=this.centralDirOffset+this.centralDirSize;this.zip64&&(m+=20,m+=12+this.zip64EndOfCentralSize);var b=p-m;if(0<b)this.isSignature(p,a.CENTRAL_FILE_HEADER)||(this.reader.zero=b);else if(b<0)throw new Error("Corrupted zip: missing "+Math.abs(b)+" bytes.")},prepareReader:function(f){this.reader=s(f)},load:function(f){this.prepareReader(f),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},r.exports=d},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(n,r,i){var s=n("./reader/readerFor"),o=n("./utils"),a=n("./compressedObject"),l=n("./crc32"),u=n("./utf8"),d=n("./compressions"),f=n("./support");function p(m,b){this.options=m,this.loadOptions=b}p.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(m){var b,y;if(m.skip(22),this.fileNameLength=m.readInt(2),y=m.readInt(2),this.fileName=m.readData(this.fileNameLength),m.skip(y),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((b=function(A){for(var I in d)if(Object.prototype.hasOwnProperty.call(d,I)&&d[I].magic===A)return d[I];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+o.pretty(this.compressionMethod)+" unknown (inner file : "+o.transformTo("string",this.fileName)+")");this.decompressed=new a(this.compressedSize,this.uncompressedSize,this.crc32,b,m.readData(this.compressedSize))},readCentralPart:function(m){this.versionMadeBy=m.readInt(2),m.skip(2),this.bitFlag=m.readInt(2),this.compressionMethod=m.readString(2),this.date=m.readDate(),this.crc32=m.readInt(4),this.compressedSize=m.readInt(4),this.uncompressedSize=m.readInt(4);var b=m.readInt(2);if(this.extraFieldsLength=m.readInt(2),this.fileCommentLength=m.readInt(2),this.diskNumberStart=m.readInt(2),this.internalFileAttributes=m.readInt(2),this.externalFileAttributes=m.readInt(4),this.localHeaderOffset=m.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");m.skip(b),this.readExtraFields(m),this.parseZIP64ExtraField(m),this.fileComment=m.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var m=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),m==0&&(this.dosPermissions=63&this.externalFileAttributes),m==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var m=s(this.extraFields[1].value);this.uncompressedSize===o.MAX_VALUE_32BITS&&(this.uncompressedSize=m.readInt(8)),this.compressedSize===o.MAX_VALUE_32BITS&&(this.compressedSize=m.readInt(8)),this.localHeaderOffset===o.MAX_VALUE_32BITS&&(this.localHeaderOffset=m.readInt(8)),this.diskNumberStart===o.MAX_VALUE_32BITS&&(this.diskNumberStart=m.readInt(4))}},readExtraFields:function(m){var b,y,A,I=m.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});m.index+4<I;)b=m.readInt(2),y=m.readInt(2),A=m.readData(y),this.extraFields[b]={id:b,length:y,value:A};m.setIndex(I)},handleUTF8:function(){var m=f.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=u.utf8decode(this.fileName),this.fileCommentStr=u.utf8decode(this.fileComment);else{var b=this.findExtraFieldUnicodePath();if(b!==null)this.fileNameStr=b;else{var y=o.transformTo(m,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(y)}var A=this.findExtraFieldUnicodeComment();if(A!==null)this.fileCommentStr=A;else{var I=o.transformTo(m,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(I)}}},findExtraFieldUnicodePath:function(){var m=this.extraFields[28789];if(m){var b=s(m.value);return b.readInt(1)!==1||l(this.fileName)!==b.readInt(4)?null:u.utf8decode(b.readData(m.length-5))}return null},findExtraFieldUnicodeComment:function(){var m=this.extraFields[25461];if(m){var b=s(m.value);return b.readInt(1)!==1||l(this.fileComment)!==b.readInt(4)?null:u.utf8decode(b.readData(m.length-5))}return null}},r.exports=p},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(n,r,i){function s(b,y,A){this.name=b,this.dir=A.dir,this.date=A.date,this.comment=A.comment,this.unixPermissions=A.unixPermissions,this.dosPermissions=A.dosPermissions,this._data=y,this._dataBinary=A.binary,this.options={compression:A.compression,compressionOptions:A.compressionOptions}}var o=n("./stream/StreamHelper"),a=n("./stream/DataWorker"),l=n("./utf8"),u=n("./compressedObject"),d=n("./stream/GenericWorker");s.prototype={internalStream:function(b){var y=null,A="string";try{if(!b)throw new Error("No output type specified.");var I=(A=b.toLowerCase())==="string"||A==="text";A!=="binarystring"&&A!=="text"||(A="string"),y=this._decompressWorker();var x=!this._dataBinary;x&&!I&&(y=y.pipe(new l.Utf8EncodeWorker)),!x&&I&&(y=y.pipe(new l.Utf8DecodeWorker))}catch(R){(y=new d("error")).error(R)}return new o(y,A,"")},async:function(b,y){return this.internalStream(b).accumulate(y)},nodeStream:function(b,y){return this.internalStream(b||"nodebuffer").toNodejsStream(y)},_compressWorker:function(b,y){if(this._data instanceof u&&this._data.compression.magic===b.magic)return this._data.getCompressedWorker();var A=this._decompressWorker();return this._dataBinary||(A=A.pipe(new l.Utf8EncodeWorker)),u.createWorkerFrom(A,b,y)},_decompressWorker:function(){return this._data instanceof u?this._data.getContentWorker():this._data instanceof d?this._data:new a(this._data)}};for(var f=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],p=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},m=0;m<f.length;m++)s.prototype[f[m]]=p;r.exports=s},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(n,r,i){(function(s){var o,a,l=s.MutationObserver||s.WebKitMutationObserver;if(l){var u=0,d=new l(b),f=s.document.createTextNode("");d.observe(f,{characterData:!0}),o=function(){f.data=u=++u%2}}else if(s.setImmediate||s.MessageChannel===void 0)o="document"in s&&"onreadystatechange"in s.document.createElement("script")?function(){var y=s.document.createElement("script");y.onreadystatechange=function(){b(),y.onreadystatechange=null,y.parentNode.removeChild(y),y=null},s.document.documentElement.appendChild(y)}:function(){setTimeout(b,0)};else{var p=new s.MessageChannel;p.port1.onmessage=b,o=function(){p.port2.postMessage(0)}}var m=[];function b(){var y,A;a=!0;for(var I=m.length;I;){for(A=m,m=[],y=-1;++y<I;)A[y]();I=m.length}a=!1}r.exports=function(y){m.push(y)!==1||a||o()}}).call(this,typeof kn<"u"?kn:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(n,r,i){var s=n("immediate");function o(){}var a={},l=["REJECTED"],u=["FULFILLED"],d=["PENDING"];function f(I){if(typeof I!="function")throw new TypeError("resolver must be a function");this.state=d,this.queue=[],this.outcome=void 0,I!==o&&y(this,I)}function p(I,x,R){this.promise=I,typeof x=="function"&&(this.onFulfilled=x,this.callFulfilled=this.otherCallFulfilled),typeof R=="function"&&(this.onRejected=R,this.callRejected=this.otherCallRejected)}function m(I,x,R){s(function(){var P;try{P=x(R)}catch(B){return a.reject(I,B)}P===I?a.reject(I,new TypeError("Cannot resolve promise with itself")):a.resolve(I,P)})}function b(I){var x=I&&I.then;if(I&&(typeof I=="object"||typeof I=="function")&&typeof x=="function")return function(){x.apply(I,arguments)}}function y(I,x){var R=!1;function P(F){R||(R=!0,a.reject(I,F))}function B(F){R||(R=!0,a.resolve(I,F))}var G=A(function(){x(B,P)});G.status==="error"&&P(G.value)}function A(I,x){var R={};try{R.value=I(x),R.status="success"}catch(P){R.status="error",R.value=P}return R}(r.exports=f).prototype.finally=function(I){if(typeof I!="function")return this;var x=this.constructor;return this.then(function(R){return x.resolve(I()).then(function(){return R})},function(R){return x.resolve(I()).then(function(){throw R})})},f.prototype.catch=function(I){return this.then(null,I)},f.prototype.then=function(I,x){if(typeof I!="function"&&this.state===u||typeof x!="function"&&this.state===l)return this;var R=new this.constructor(o);return this.state!==d?m(R,this.state===u?I:x,this.outcome):this.queue.push(new p(R,I,x)),R},p.prototype.callFulfilled=function(I){a.resolve(this.promise,I)},p.prototype.otherCallFulfilled=function(I){m(this.promise,this.onFulfilled,I)},p.prototype.callRejected=function(I){a.reject(this.promise,I)},p.prototype.otherCallRejected=function(I){m(this.promise,this.onRejected,I)},a.resolve=function(I,x){var R=A(b,x);if(R.status==="error")return a.reject(I,R.value);var P=R.value;if(P)y(I,P);else{I.state=u,I.outcome=x;for(var B=-1,G=I.queue.length;++B<G;)I.queue[B].callFulfilled(x)}return I},a.reject=function(I,x){I.state=l,I.outcome=x;for(var R=-1,P=I.queue.length;++R<P;)I.queue[R].callRejected(x);return I},f.resolve=function(I){return I instanceof this?I:a.resolve(new this(o),I)},f.reject=function(I){var x=new this(o);return a.reject(x,I)},f.all=function(I){var x=this;if(Object.prototype.toString.call(I)!=="[object Array]")return this.reject(new TypeError("must be an array"));var R=I.length,P=!1;if(!R)return this.resolve([]);for(var B=new Array(R),G=0,F=-1,te=new this(o);++F<R;)ee(I[F],F);return te;function ee(Z,ae){x.resolve(Z).then(function(U){B[ae]=U,++G!==R||P||(P=!0,a.resolve(te,B))},function(U){P||(P=!0,a.reject(te,U))})}},f.race=function(I){var x=this;if(Object.prototype.toString.call(I)!=="[object Array]")return this.reject(new TypeError("must be an array"));var R=I.length,P=!1;if(!R)return this.resolve([]);for(var B=-1,G=new this(o);++B<R;)F=I[B],x.resolve(F).then(function(te){P||(P=!0,a.resolve(G,te))},function(te){P||(P=!0,a.reject(G,te))});var F;return G}},{immediate:36}],38:[function(n,r,i){var s={};(0,n("./lib/utils/common").assign)(s,n("./lib/deflate"),n("./lib/inflate"),n("./lib/zlib/constants")),r.exports=s},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(n,r,i){var s=n("./zlib/deflate"),o=n("./utils/common"),a=n("./utils/strings"),l=n("./zlib/messages"),u=n("./zlib/zstream"),d=Object.prototype.toString,f=0,p=-1,m=0,b=8;function y(I){if(!(this instanceof y))return new y(I);this.options=o.assign({level:p,method:b,chunkSize:16384,windowBits:15,memLevel:8,strategy:m,to:""},I||{});var x=this.options;x.raw&&0<x.windowBits?x.windowBits=-x.windowBits:x.gzip&&0<x.windowBits&&x.windowBits<16&&(x.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new u,this.strm.avail_out=0;var R=s.deflateInit2(this.strm,x.level,x.method,x.windowBits,x.memLevel,x.strategy);if(R!==f)throw new Error(l[R]);if(x.header&&s.deflateSetHeader(this.strm,x.header),x.dictionary){var P;if(P=typeof x.dictionary=="string"?a.string2buf(x.dictionary):d.call(x.dictionary)==="[object ArrayBuffer]"?new Uint8Array(x.dictionary):x.dictionary,(R=s.deflateSetDictionary(this.strm,P))!==f)throw new Error(l[R]);this._dict_set=!0}}function A(I,x){var R=new y(x);if(R.push(I,!0),R.err)throw R.msg||l[R.err];return R.result}y.prototype.push=function(I,x){var R,P,B=this.strm,G=this.options.chunkSize;if(this.ended)return!1;P=x===~~x?x:x===!0?4:0,typeof I=="string"?B.input=a.string2buf(I):d.call(I)==="[object ArrayBuffer]"?B.input=new Uint8Array(I):B.input=I,B.next_in=0,B.avail_in=B.input.length;do{if(B.avail_out===0&&(B.output=new o.Buf8(G),B.next_out=0,B.avail_out=G),(R=s.deflate(B,P))!==1&&R!==f)return this.onEnd(R),!(this.ended=!0);B.avail_out!==0&&(B.avail_in!==0||P!==4&&P!==2)||(this.options.to==="string"?this.onData(a.buf2binstring(o.shrinkBuf(B.output,B.next_out))):this.onData(o.shrinkBuf(B.output,B.next_out)))}while((0<B.avail_in||B.avail_out===0)&&R!==1);return P===4?(R=s.deflateEnd(this.strm),this.onEnd(R),this.ended=!0,R===f):P!==2||(this.onEnd(f),!(B.avail_out=0))},y.prototype.onData=function(I){this.chunks.push(I)},y.prototype.onEnd=function(I){I===f&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=I,this.msg=this.strm.msg},i.Deflate=y,i.deflate=A,i.deflateRaw=function(I,x){return(x=x||{}).raw=!0,A(I,x)},i.gzip=function(I,x){return(x=x||{}).gzip=!0,A(I,x)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(n,r,i){var s=n("./zlib/inflate"),o=n("./utils/common"),a=n("./utils/strings"),l=n("./zlib/constants"),u=n("./zlib/messages"),d=n("./zlib/zstream"),f=n("./zlib/gzheader"),p=Object.prototype.toString;function m(y){if(!(this instanceof m))return new m(y);this.options=o.assign({chunkSize:16384,windowBits:0,to:""},y||{});var A=this.options;A.raw&&0<=A.windowBits&&A.windowBits<16&&(A.windowBits=-A.windowBits,A.windowBits===0&&(A.windowBits=-15)),!(0<=A.windowBits&&A.windowBits<16)||y&&y.windowBits||(A.windowBits+=32),15<A.windowBits&&A.windowBits<48&&!(15&A.windowBits)&&(A.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new d,this.strm.avail_out=0;var I=s.inflateInit2(this.strm,A.windowBits);if(I!==l.Z_OK)throw new Error(u[I]);this.header=new f,s.inflateGetHeader(this.strm,this.header)}function b(y,A){var I=new m(A);if(I.push(y,!0),I.err)throw I.msg||u[I.err];return I.result}m.prototype.push=function(y,A){var I,x,R,P,B,G,F=this.strm,te=this.options.chunkSize,ee=this.options.dictionary,Z=!1;if(this.ended)return!1;x=A===~~A?A:A===!0?l.Z_FINISH:l.Z_NO_FLUSH,typeof y=="string"?F.input=a.binstring2buf(y):p.call(y)==="[object ArrayBuffer]"?F.input=new Uint8Array(y):F.input=y,F.next_in=0,F.avail_in=F.input.length;do{if(F.avail_out===0&&(F.output=new o.Buf8(te),F.next_out=0,F.avail_out=te),(I=s.inflate(F,l.Z_NO_FLUSH))===l.Z_NEED_DICT&&ee&&(G=typeof ee=="string"?a.string2buf(ee):p.call(ee)==="[object ArrayBuffer]"?new Uint8Array(ee):ee,I=s.inflateSetDictionary(this.strm,G)),I===l.Z_BUF_ERROR&&Z===!0&&(I=l.Z_OK,Z=!1),I!==l.Z_STREAM_END&&I!==l.Z_OK)return this.onEnd(I),!(this.ended=!0);F.next_out&&(F.avail_out!==0&&I!==l.Z_STREAM_END&&(F.avail_in!==0||x!==l.Z_FINISH&&x!==l.Z_SYNC_FLUSH)||(this.options.to==="string"?(R=a.utf8border(F.output,F.next_out),P=F.next_out-R,B=a.buf2string(F.output,R),F.next_out=P,F.avail_out=te-P,P&&o.arraySet(F.output,F.output,R,P,0),this.onData(B)):this.onData(o.shrinkBuf(F.output,F.next_out)))),F.avail_in===0&&F.avail_out===0&&(Z=!0)}while((0<F.avail_in||F.avail_out===0)&&I!==l.Z_STREAM_END);return I===l.Z_STREAM_END&&(x=l.Z_FINISH),x===l.Z_FINISH?(I=s.inflateEnd(this.strm),this.onEnd(I),this.ended=!0,I===l.Z_OK):x!==l.Z_SYNC_FLUSH||(this.onEnd(l.Z_OK),!(F.avail_out=0))},m.prototype.onData=function(y){this.chunks.push(y)},m.prototype.onEnd=function(y){y===l.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=y,this.msg=this.strm.msg},i.Inflate=m,i.inflate=b,i.inflateRaw=function(y,A){return(A=A||{}).raw=!0,b(y,A)},i.ungzip=b},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(n,r,i){var s=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";i.assign=function(l){for(var u=Array.prototype.slice.call(arguments,1);u.length;){var d=u.shift();if(d){if(typeof d!="object")throw new TypeError(d+"must be non-object");for(var f in d)d.hasOwnProperty(f)&&(l[f]=d[f])}}return l},i.shrinkBuf=function(l,u){return l.length===u?l:l.subarray?l.subarray(0,u):(l.length=u,l)};var o={arraySet:function(l,u,d,f,p){if(u.subarray&&l.subarray)l.set(u.subarray(d,d+f),p);else for(var m=0;m<f;m++)l[p+m]=u[d+m]},flattenChunks:function(l){var u,d,f,p,m,b;for(u=f=0,d=l.length;u<d;u++)f+=l[u].length;for(b=new Uint8Array(f),u=p=0,d=l.length;u<d;u++)m=l[u],b.set(m,p),p+=m.length;return b}},a={arraySet:function(l,u,d,f,p){for(var m=0;m<f;m++)l[p+m]=u[d+m]},flattenChunks:function(l){return[].concat.apply([],l)}};i.setTyped=function(l){l?(i.Buf8=Uint8Array,i.Buf16=Uint16Array,i.Buf32=Int32Array,i.assign(i,o)):(i.Buf8=Array,i.Buf16=Array,i.Buf32=Array,i.assign(i,a))},i.setTyped(s)},{}],42:[function(n,r,i){var s=n("./common"),o=!0,a=!0;try{String.fromCharCode.apply(null,[0])}catch{o=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{a=!1}for(var l=new s.Buf8(256),u=0;u<256;u++)l[u]=252<=u?6:248<=u?5:240<=u?4:224<=u?3:192<=u?2:1;function d(f,p){if(p<65537&&(f.subarray&&a||!f.subarray&&o))return String.fromCharCode.apply(null,s.shrinkBuf(f,p));for(var m="",b=0;b<p;b++)m+=String.fromCharCode(f[b]);return m}l[254]=l[254]=1,i.string2buf=function(f){var p,m,b,y,A,I=f.length,x=0;for(y=0;y<I;y++)(64512&(m=f.charCodeAt(y)))==55296&&y+1<I&&(64512&(b=f.charCodeAt(y+1)))==56320&&(m=65536+(m-55296<<10)+(b-56320),y++),x+=m<128?1:m<2048?2:m<65536?3:4;for(p=new s.Buf8(x),y=A=0;A<x;y++)(64512&(m=f.charCodeAt(y)))==55296&&y+1<I&&(64512&(b=f.charCodeAt(y+1)))==56320&&(m=65536+(m-55296<<10)+(b-56320),y++),m<128?p[A++]=m:(m<2048?p[A++]=192|m>>>6:(m<65536?p[A++]=224|m>>>12:(p[A++]=240|m>>>18,p[A++]=128|m>>>12&63),p[A++]=128|m>>>6&63),p[A++]=128|63&m);return p},i.buf2binstring=function(f){return d(f,f.length)},i.binstring2buf=function(f){for(var p=new s.Buf8(f.length),m=0,b=p.length;m<b;m++)p[m]=f.charCodeAt(m);return p},i.buf2string=function(f,p){var m,b,y,A,I=p||f.length,x=new Array(2*I);for(m=b=0;m<I;)if((y=f[m++])<128)x[b++]=y;else if(4<(A=l[y]))x[b++]=65533,m+=A-1;else{for(y&=A===2?31:A===3?15:7;1<A&&m<I;)y=y<<6|63&f[m++],A--;1<A?x[b++]=65533:y<65536?x[b++]=y:(y-=65536,x[b++]=55296|y>>10&1023,x[b++]=56320|1023&y)}return d(x,b)},i.utf8border=function(f,p){var m;for((p=p||f.length)>f.length&&(p=f.length),m=p-1;0<=m&&(192&f[m])==128;)m--;return m<0||m===0?p:m+l[f[m]]>p?m:p}},{"./common":41}],43:[function(n,r,i){r.exports=function(s,o,a,l){for(var u=65535&s|0,d=s>>>16&65535|0,f=0;a!==0;){for(a-=f=2e3<a?2e3:a;d=d+(u=u+o[l++]|0)|0,--f;);u%=65521,d%=65521}return u|d<<16|0}},{}],44:[function(n,r,i){r.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(n,r,i){var s=function(){for(var o,a=[],l=0;l<256;l++){o=l;for(var u=0;u<8;u++)o=1&o?3988292384^o>>>1:o>>>1;a[l]=o}return a}();r.exports=function(o,a,l,u){var d=s,f=u+l;o^=-1;for(var p=u;p<f;p++)o=o>>>8^d[255&(o^a[p])];return-1^o}},{}],46:[function(n,r,i){var s,o=n("../utils/common"),a=n("./trees"),l=n("./adler32"),u=n("./crc32"),d=n("./messages"),f=0,p=4,m=0,b=-2,y=-1,A=4,I=2,x=8,R=9,P=286,B=30,G=19,F=2*P+1,te=15,ee=3,Z=258,ae=Z+ee+1,U=42,X=113,T=1,re=2,se=3,W=4;function ce(w,j){return w.msg=d[j],j}function ie(w){return(w<<1)-(4<w?9:0)}function de(w){for(var j=w.length;0<=--j;)w[j]=0}function J(w){var j=w.state,M=j.pending;M>w.avail_out&&(M=w.avail_out),M!==0&&(o.arraySet(w.output,j.pending_buf,j.pending_out,M,w.next_out),w.next_out+=M,j.pending_out+=M,w.total_out+=M,w.avail_out-=M,j.pending-=M,j.pending===0&&(j.pending_out=0))}function Q(w,j){a._tr_flush_block(w,0<=w.block_start?w.block_start:-1,w.strstart-w.block_start,j),w.block_start=w.strstart,J(w.strm)}function ve(w,j){w.pending_buf[w.pending++]=j}function _e(w,j){w.pending_buf[w.pending++]=j>>>8&255,w.pending_buf[w.pending++]=255&j}function H(w,j){var M,S,C=w.max_chain_length,O=w.strstart,Y=w.prev_length,K=w.nice_match,L=w.strstart>w.w_size-ae?w.strstart-(w.w_size-ae):0,le=w.window,fe=w.w_mask,he=w.prev,be=w.strstart+Z,Pe=le[O+Y-1],Ce=le[O+Y];w.prev_length>=w.good_match&&(C>>=2),K>w.lookahead&&(K=w.lookahead);do if(le[(M=j)+Y]===Ce&&le[M+Y-1]===Pe&&le[M]===le[O]&&le[++M]===le[O+1]){O+=2,M++;do;while(le[++O]===le[++M]&&le[++O]===le[++M]&&le[++O]===le[++M]&&le[++O]===le[++M]&&le[++O]===le[++M]&&le[++O]===le[++M]&&le[++O]===le[++M]&&le[++O]===le[++M]&&O<be);if(S=Z-(be-O),O=be-Z,Y<S){if(w.match_start=j,K<=(Y=S))break;Pe=le[O+Y-1],Ce=le[O+Y]}}while((j=he[j&fe])>L&&--C!=0);return Y<=w.lookahead?Y:w.lookahead}function ze(w){var j,M,S,C,O,Y,K,L,le,fe,he=w.w_size;do{if(C=w.window_size-w.lookahead-w.strstart,w.strstart>=he+(he-ae)){for(o.arraySet(w.window,w.window,he,he,0),w.match_start-=he,w.strstart-=he,w.block_start-=he,j=M=w.hash_size;S=w.head[--j],w.head[j]=he<=S?S-he:0,--M;);for(j=M=he;S=w.prev[--j],w.prev[j]=he<=S?S-he:0,--M;);C+=he}if(w.strm.avail_in===0)break;if(Y=w.strm,K=w.window,L=w.strstart+w.lookahead,le=C,fe=void 0,fe=Y.avail_in,le<fe&&(fe=le),M=fe===0?0:(Y.avail_in-=fe,o.arraySet(K,Y.input,Y.next_in,fe,L),Y.state.wrap===1?Y.adler=l(Y.adler,K,fe,L):Y.state.wrap===2&&(Y.adler=u(Y.adler,K,fe,L)),Y.next_in+=fe,Y.total_in+=fe,fe),w.lookahead+=M,w.lookahead+w.insert>=ee)for(O=w.strstart-w.insert,w.ins_h=w.window[O],w.ins_h=(w.ins_h<<w.hash_shift^w.window[O+1])&w.hash_mask;w.insert&&(w.ins_h=(w.ins_h<<w.hash_shift^w.window[O+ee-1])&w.hash_mask,w.prev[O&w.w_mask]=w.head[w.ins_h],w.head[w.ins_h]=O,O++,w.insert--,!(w.lookahead+w.insert<ee)););}while(w.lookahead<ae&&w.strm.avail_in!==0)}function ut(w,j){for(var M,S;;){if(w.lookahead<ae){if(ze(w),w.lookahead<ae&&j===f)return T;if(w.lookahead===0)break}if(M=0,w.lookahead>=ee&&(w.ins_h=(w.ins_h<<w.hash_shift^w.window[w.strstart+ee-1])&w.hash_mask,M=w.prev[w.strstart&w.w_mask]=w.head[w.ins_h],w.head[w.ins_h]=w.strstart),M!==0&&w.strstart-M<=w.w_size-ae&&(w.match_length=H(w,M)),w.match_length>=ee)if(S=a._tr_tally(w,w.strstart-w.match_start,w.match_length-ee),w.lookahead-=w.match_length,w.match_length<=w.max_lazy_match&&w.lookahead>=ee){for(w.match_length--;w.strstart++,w.ins_h=(w.ins_h<<w.hash_shift^w.window[w.strstart+ee-1])&w.hash_mask,M=w.prev[w.strstart&w.w_mask]=w.head[w.ins_h],w.head[w.ins_h]=w.strstart,--w.match_length!=0;);w.strstart++}else w.strstart+=w.match_length,w.match_length=0,w.ins_h=w.window[w.strstart],w.ins_h=(w.ins_h<<w.hash_shift^w.window[w.strstart+1])&w.hash_mask;else S=a._tr_tally(w,0,w.window[w.strstart]),w.lookahead--,w.strstart++;if(S&&(Q(w,!1),w.strm.avail_out===0))return T}return w.insert=w.strstart<ee-1?w.strstart:ee-1,j===p?(Q(w,!0),w.strm.avail_out===0?se:W):w.last_lit&&(Q(w,!1),w.strm.avail_out===0)?T:re}function We(w,j){for(var M,S,C;;){if(w.lookahead<ae){if(ze(w),w.lookahead<ae&&j===f)return T;if(w.lookahead===0)break}if(M=0,w.lookahead>=ee&&(w.ins_h=(w.ins_h<<w.hash_shift^w.window[w.strstart+ee-1])&w.hash_mask,M=w.prev[w.strstart&w.w_mask]=w.head[w.ins_h],w.head[w.ins_h]=w.strstart),w.prev_length=w.match_length,w.prev_match=w.match_start,w.match_length=ee-1,M!==0&&w.prev_length<w.max_lazy_match&&w.strstart-M<=w.w_size-ae&&(w.match_length=H(w,M),w.match_length<=5&&(w.strategy===1||w.match_length===ee&&4096<w.strstart-w.match_start)&&(w.match_length=ee-1)),w.prev_length>=ee&&w.match_length<=w.prev_length){for(C=w.strstart+w.lookahead-ee,S=a._tr_tally(w,w.strstart-1-w.prev_match,w.prev_length-ee),w.lookahead-=w.prev_length-1,w.prev_length-=2;++w.strstart<=C&&(w.ins_h=(w.ins_h<<w.hash_shift^w.window[w.strstart+ee-1])&w.hash_mask,M=w.prev[w.strstart&w.w_mask]=w.head[w.ins_h],w.head[w.ins_h]=w.strstart),--w.prev_length!=0;);if(w.match_available=0,w.match_length=ee-1,w.strstart++,S&&(Q(w,!1),w.strm.avail_out===0))return T}else if(w.match_available){if((S=a._tr_tally(w,0,w.window[w.strstart-1]))&&Q(w,!1),w.strstart++,w.lookahead--,w.strm.avail_out===0)return T}else w.match_available=1,w.strstart++,w.lookahead--}return w.match_available&&(S=a._tr_tally(w,0,w.window[w.strstart-1]),w.match_available=0),w.insert=w.strstart<ee-1?w.strstart:ee-1,j===p?(Q(w,!0),w.strm.avail_out===0?se:W):w.last_lit&&(Q(w,!1),w.strm.avail_out===0)?T:re}function je(w,j,M,S,C){this.good_length=w,this.max_lazy=j,this.nice_length=M,this.max_chain=S,this.func=C}function Ke(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=x,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new o.Buf16(2*F),this.dyn_dtree=new o.Buf16(2*(2*B+1)),this.bl_tree=new o.Buf16(2*(2*G+1)),de(this.dyn_ltree),de(this.dyn_dtree),de(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new o.Buf16(te+1),this.heap=new o.Buf16(2*P+1),de(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new o.Buf16(2*P+1),de(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Xe(w){var j;return w&&w.state?(w.total_in=w.total_out=0,w.data_type=I,(j=w.state).pending=0,j.pending_out=0,j.wrap<0&&(j.wrap=-j.wrap),j.status=j.wrap?U:X,w.adler=j.wrap===2?0:1,j.last_flush=f,a._tr_init(j),m):ce(w,b)}function z(w){var j=Xe(w);return j===m&&function(M){M.window_size=2*M.w_size,de(M.head),M.max_lazy_match=s[M.level].max_lazy,M.good_match=s[M.level].good_length,M.nice_match=s[M.level].nice_length,M.max_chain_length=s[M.level].max_chain,M.strstart=0,M.block_start=0,M.lookahead=0,M.insert=0,M.match_length=M.prev_length=ee-1,M.match_available=0,M.ins_h=0}(w.state),j}function V(w,j,M,S,C,O){if(!w)return b;var Y=1;if(j===y&&(j=6),S<0?(Y=0,S=-S):15<S&&(Y=2,S-=16),C<1||R<C||M!==x||S<8||15<S||j<0||9<j||O<0||A<O)return ce(w,b);S===8&&(S=9);var K=new Ke;return(w.state=K).strm=w,K.wrap=Y,K.gzhead=null,K.w_bits=S,K.w_size=1<<K.w_bits,K.w_mask=K.w_size-1,K.hash_bits=C+7,K.hash_size=1<<K.hash_bits,K.hash_mask=K.hash_size-1,K.hash_shift=~~((K.hash_bits+ee-1)/ee),K.window=new o.Buf8(2*K.w_size),K.head=new o.Buf16(K.hash_size),K.prev=new o.Buf16(K.w_size),K.lit_bufsize=1<<C+6,K.pending_buf_size=4*K.lit_bufsize,K.pending_buf=new o.Buf8(K.pending_buf_size),K.d_buf=1*K.lit_bufsize,K.l_buf=3*K.lit_bufsize,K.level=j,K.strategy=O,K.method=M,z(w)}s=[new je(0,0,0,0,function(w,j){var M=65535;for(M>w.pending_buf_size-5&&(M=w.pending_buf_size-5);;){if(w.lookahead<=1){if(ze(w),w.lookahead===0&&j===f)return T;if(w.lookahead===0)break}w.strstart+=w.lookahead,w.lookahead=0;var S=w.block_start+M;if((w.strstart===0||w.strstart>=S)&&(w.lookahead=w.strstart-S,w.strstart=S,Q(w,!1),w.strm.avail_out===0)||w.strstart-w.block_start>=w.w_size-ae&&(Q(w,!1),w.strm.avail_out===0))return T}return w.insert=0,j===p?(Q(w,!0),w.strm.avail_out===0?se:W):(w.strstart>w.block_start&&(Q(w,!1),w.strm.avail_out),T)}),new je(4,4,8,4,ut),new je(4,5,16,8,ut),new je(4,6,32,32,ut),new je(4,4,16,16,We),new je(8,16,32,32,We),new je(8,16,128,128,We),new je(8,32,128,256,We),new je(32,128,258,1024,We),new je(32,258,258,4096,We)],i.deflateInit=function(w,j){return V(w,j,x,15,8,0)},i.deflateInit2=V,i.deflateReset=z,i.deflateResetKeep=Xe,i.deflateSetHeader=function(w,j){return w&&w.state?w.state.wrap!==2?b:(w.state.gzhead=j,m):b},i.deflate=function(w,j){var M,S,C,O;if(!w||!w.state||5<j||j<0)return w?ce(w,b):b;if(S=w.state,!w.output||!w.input&&w.avail_in!==0||S.status===666&&j!==p)return ce(w,w.avail_out===0?-5:b);if(S.strm=w,M=S.last_flush,S.last_flush=j,S.status===U)if(S.wrap===2)w.adler=0,ve(S,31),ve(S,139),ve(S,8),S.gzhead?(ve(S,(S.gzhead.text?1:0)+(S.gzhead.hcrc?2:0)+(S.gzhead.extra?4:0)+(S.gzhead.name?8:0)+(S.gzhead.comment?16:0)),ve(S,255&S.gzhead.time),ve(S,S.gzhead.time>>8&255),ve(S,S.gzhead.time>>16&255),ve(S,S.gzhead.time>>24&255),ve(S,S.level===9?2:2<=S.strategy||S.level<2?4:0),ve(S,255&S.gzhead.os),S.gzhead.extra&&S.gzhead.extra.length&&(ve(S,255&S.gzhead.extra.length),ve(S,S.gzhead.extra.length>>8&255)),S.gzhead.hcrc&&(w.adler=u(w.adler,S.pending_buf,S.pending,0)),S.gzindex=0,S.status=69):(ve(S,0),ve(S,0),ve(S,0),ve(S,0),ve(S,0),ve(S,S.level===9?2:2<=S.strategy||S.level<2?4:0),ve(S,3),S.status=X);else{var Y=x+(S.w_bits-8<<4)<<8;Y|=(2<=S.strategy||S.level<2?0:S.level<6?1:S.level===6?2:3)<<6,S.strstart!==0&&(Y|=32),Y+=31-Y%31,S.status=X,_e(S,Y),S.strstart!==0&&(_e(S,w.adler>>>16),_e(S,65535&w.adler)),w.adler=1}if(S.status===69)if(S.gzhead.extra){for(C=S.pending;S.gzindex<(65535&S.gzhead.extra.length)&&(S.pending!==S.pending_buf_size||(S.gzhead.hcrc&&S.pending>C&&(w.adler=u(w.adler,S.pending_buf,S.pending-C,C)),J(w),C=S.pending,S.pending!==S.pending_buf_size));)ve(S,255&S.gzhead.extra[S.gzindex]),S.gzindex++;S.gzhead.hcrc&&S.pending>C&&(w.adler=u(w.adler,S.pending_buf,S.pending-C,C)),S.gzindex===S.gzhead.extra.length&&(S.gzindex=0,S.status=73)}else S.status=73;if(S.status===73)if(S.gzhead.name){C=S.pending;do{if(S.pending===S.pending_buf_size&&(S.gzhead.hcrc&&S.pending>C&&(w.adler=u(w.adler,S.pending_buf,S.pending-C,C)),J(w),C=S.pending,S.pending===S.pending_buf_size)){O=1;break}O=S.gzindex<S.gzhead.name.length?255&S.gzhead.name.charCodeAt(S.gzindex++):0,ve(S,O)}while(O!==0);S.gzhead.hcrc&&S.pending>C&&(w.adler=u(w.adler,S.pending_buf,S.pending-C,C)),O===0&&(S.gzindex=0,S.status=91)}else S.status=91;if(S.status===91)if(S.gzhead.comment){C=S.pending;do{if(S.pending===S.pending_buf_size&&(S.gzhead.hcrc&&S.pending>C&&(w.adler=u(w.adler,S.pending_buf,S.pending-C,C)),J(w),C=S.pending,S.pending===S.pending_buf_size)){O=1;break}O=S.gzindex<S.gzhead.comment.length?255&S.gzhead.comment.charCodeAt(S.gzindex++):0,ve(S,O)}while(O!==0);S.gzhead.hcrc&&S.pending>C&&(w.adler=u(w.adler,S.pending_buf,S.pending-C,C)),O===0&&(S.status=103)}else S.status=103;if(S.status===103&&(S.gzhead.hcrc?(S.pending+2>S.pending_buf_size&&J(w),S.pending+2<=S.pending_buf_size&&(ve(S,255&w.adler),ve(S,w.adler>>8&255),w.adler=0,S.status=X)):S.status=X),S.pending!==0){if(J(w),w.avail_out===0)return S.last_flush=-1,m}else if(w.avail_in===0&&ie(j)<=ie(M)&&j!==p)return ce(w,-5);if(S.status===666&&w.avail_in!==0)return ce(w,-5);if(w.avail_in!==0||S.lookahead!==0||j!==f&&S.status!==666){var K=S.strategy===2?function(L,le){for(var fe;;){if(L.lookahead===0&&(ze(L),L.lookahead===0)){if(le===f)return T;break}if(L.match_length=0,fe=a._tr_tally(L,0,L.window[L.strstart]),L.lookahead--,L.strstart++,fe&&(Q(L,!1),L.strm.avail_out===0))return T}return L.insert=0,le===p?(Q(L,!0),L.strm.avail_out===0?se:W):L.last_lit&&(Q(L,!1),L.strm.avail_out===0)?T:re}(S,j):S.strategy===3?function(L,le){for(var fe,he,be,Pe,Ce=L.window;;){if(L.lookahead<=Z){if(ze(L),L.lookahead<=Z&&le===f)return T;if(L.lookahead===0)break}if(L.match_length=0,L.lookahead>=ee&&0<L.strstart&&(he=Ce[be=L.strstart-1])===Ce[++be]&&he===Ce[++be]&&he===Ce[++be]){Pe=L.strstart+Z;do;while(he===Ce[++be]&&he===Ce[++be]&&he===Ce[++be]&&he===Ce[++be]&&he===Ce[++be]&&he===Ce[++be]&&he===Ce[++be]&&he===Ce[++be]&&be<Pe);L.match_length=Z-(Pe-be),L.match_length>L.lookahead&&(L.match_length=L.lookahead)}if(L.match_length>=ee?(fe=a._tr_tally(L,1,L.match_length-ee),L.lookahead-=L.match_length,L.strstart+=L.match_length,L.match_length=0):(fe=a._tr_tally(L,0,L.window[L.strstart]),L.lookahead--,L.strstart++),fe&&(Q(L,!1),L.strm.avail_out===0))return T}return L.insert=0,le===p?(Q(L,!0),L.strm.avail_out===0?se:W):L.last_lit&&(Q(L,!1),L.strm.avail_out===0)?T:re}(S,j):s[S.level].func(S,j);if(K!==se&&K!==W||(S.status=666),K===T||K===se)return w.avail_out===0&&(S.last_flush=-1),m;if(K===re&&(j===1?a._tr_align(S):j!==5&&(a._tr_stored_block(S,0,0,!1),j===3&&(de(S.head),S.lookahead===0&&(S.strstart=0,S.block_start=0,S.insert=0))),J(w),w.avail_out===0))return S.last_flush=-1,m}return j!==p?m:S.wrap<=0?1:(S.wrap===2?(ve(S,255&w.adler),ve(S,w.adler>>8&255),ve(S,w.adler>>16&255),ve(S,w.adler>>24&255),ve(S,255&w.total_in),ve(S,w.total_in>>8&255),ve(S,w.total_in>>16&255),ve(S,w.total_in>>24&255)):(_e(S,w.adler>>>16),_e(S,65535&w.adler)),J(w),0<S.wrap&&(S.wrap=-S.wrap),S.pending!==0?m:1)},i.deflateEnd=function(w){var j;return w&&w.state?(j=w.state.status)!==U&&j!==69&&j!==73&&j!==91&&j!==103&&j!==X&&j!==666?ce(w,b):(w.state=null,j===X?ce(w,-3):m):b},i.deflateSetDictionary=function(w,j){var M,S,C,O,Y,K,L,le,fe=j.length;if(!w||!w.state||(O=(M=w.state).wrap)===2||O===1&&M.status!==U||M.lookahead)return b;for(O===1&&(w.adler=l(w.adler,j,fe,0)),M.wrap=0,fe>=M.w_size&&(O===0&&(de(M.head),M.strstart=0,M.block_start=0,M.insert=0),le=new o.Buf8(M.w_size),o.arraySet(le,j,fe-M.w_size,M.w_size,0),j=le,fe=M.w_size),Y=w.avail_in,K=w.next_in,L=w.input,w.avail_in=fe,w.next_in=0,w.input=j,ze(M);M.lookahead>=ee;){for(S=M.strstart,C=M.lookahead-(ee-1);M.ins_h=(M.ins_h<<M.hash_shift^M.window[S+ee-1])&M.hash_mask,M.prev[S&M.w_mask]=M.head[M.ins_h],M.head[M.ins_h]=S,S++,--C;);M.strstart=S,M.lookahead=ee-1,ze(M)}return M.strstart+=M.lookahead,M.block_start=M.strstart,M.insert=M.lookahead,M.lookahead=0,M.match_length=M.prev_length=ee-1,M.match_available=0,w.next_in=K,w.input=L,w.avail_in=Y,M.wrap=O,m},i.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(n,r,i){r.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(n,r,i){r.exports=function(s,o){var a,l,u,d,f,p,m,b,y,A,I,x,R,P,B,G,F,te,ee,Z,ae,U,X,T,re;a=s.state,l=s.next_in,T=s.input,u=l+(s.avail_in-5),d=s.next_out,re=s.output,f=d-(o-s.avail_out),p=d+(s.avail_out-257),m=a.dmax,b=a.wsize,y=a.whave,A=a.wnext,I=a.window,x=a.hold,R=a.bits,P=a.lencode,B=a.distcode,G=(1<<a.lenbits)-1,F=(1<<a.distbits)-1;e:do{R<15&&(x+=T[l++]<<R,R+=8,x+=T[l++]<<R,R+=8),te=P[x&G];t:for(;;){if(x>>>=ee=te>>>24,R-=ee,(ee=te>>>16&255)===0)re[d++]=65535&te;else{if(!(16&ee)){if(!(64&ee)){te=P[(65535&te)+(x&(1<<ee)-1)];continue t}if(32&ee){a.mode=12;break e}s.msg="invalid literal/length code",a.mode=30;break e}Z=65535&te,(ee&=15)&&(R<ee&&(x+=T[l++]<<R,R+=8),Z+=x&(1<<ee)-1,x>>>=ee,R-=ee),R<15&&(x+=T[l++]<<R,R+=8,x+=T[l++]<<R,R+=8),te=B[x&F];n:for(;;){if(x>>>=ee=te>>>24,R-=ee,!(16&(ee=te>>>16&255))){if(!(64&ee)){te=B[(65535&te)+(x&(1<<ee)-1)];continue n}s.msg="invalid distance code",a.mode=30;break e}if(ae=65535&te,R<(ee&=15)&&(x+=T[l++]<<R,(R+=8)<ee&&(x+=T[l++]<<R,R+=8)),m<(ae+=x&(1<<ee)-1)){s.msg="invalid distance too far back",a.mode=30;break e}if(x>>>=ee,R-=ee,(ee=d-f)<ae){if(y<(ee=ae-ee)&&a.sane){s.msg="invalid distance too far back",a.mode=30;break e}if(X=I,(U=0)===A){if(U+=b-ee,ee<Z){for(Z-=ee;re[d++]=I[U++],--ee;);U=d-ae,X=re}}else if(A<ee){if(U+=b+A-ee,(ee-=A)<Z){for(Z-=ee;re[d++]=I[U++],--ee;);if(U=0,A<Z){for(Z-=ee=A;re[d++]=I[U++],--ee;);U=d-ae,X=re}}}else if(U+=A-ee,ee<Z){for(Z-=ee;re[d++]=I[U++],--ee;);U=d-ae,X=re}for(;2<Z;)re[d++]=X[U++],re[d++]=X[U++],re[d++]=X[U++],Z-=3;Z&&(re[d++]=X[U++],1<Z&&(re[d++]=X[U++]))}else{for(U=d-ae;re[d++]=re[U++],re[d++]=re[U++],re[d++]=re[U++],2<(Z-=3););Z&&(re[d++]=re[U++],1<Z&&(re[d++]=re[U++]))}break}}break}}while(l<u&&d<p);l-=Z=R>>3,x&=(1<<(R-=Z<<3))-1,s.next_in=l,s.next_out=d,s.avail_in=l<u?u-l+5:5-(l-u),s.avail_out=d<p?p-d+257:257-(d-p),a.hold=x,a.bits=R}},{}],49:[function(n,r,i){var s=n("../utils/common"),o=n("./adler32"),a=n("./crc32"),l=n("./inffast"),u=n("./inftrees"),d=1,f=2,p=0,m=-2,b=1,y=852,A=592;function I(U){return(U>>>24&255)+(U>>>8&65280)+((65280&U)<<8)+((255&U)<<24)}function x(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new s.Buf16(320),this.work=new s.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function R(U){var X;return U&&U.state?(X=U.state,U.total_in=U.total_out=X.total=0,U.msg="",X.wrap&&(U.adler=1&X.wrap),X.mode=b,X.last=0,X.havedict=0,X.dmax=32768,X.head=null,X.hold=0,X.bits=0,X.lencode=X.lendyn=new s.Buf32(y),X.distcode=X.distdyn=new s.Buf32(A),X.sane=1,X.back=-1,p):m}function P(U){var X;return U&&U.state?((X=U.state).wsize=0,X.whave=0,X.wnext=0,R(U)):m}function B(U,X){var T,re;return U&&U.state?(re=U.state,X<0?(T=0,X=-X):(T=1+(X>>4),X<48&&(X&=15)),X&&(X<8||15<X)?m:(re.window!==null&&re.wbits!==X&&(re.window=null),re.wrap=T,re.wbits=X,P(U))):m}function G(U,X){var T,re;return U?(re=new x,(U.state=re).window=null,(T=B(U,X))!==p&&(U.state=null),T):m}var F,te,ee=!0;function Z(U){if(ee){var X;for(F=new s.Buf32(512),te=new s.Buf32(32),X=0;X<144;)U.lens[X++]=8;for(;X<256;)U.lens[X++]=9;for(;X<280;)U.lens[X++]=7;for(;X<288;)U.lens[X++]=8;for(u(d,U.lens,0,288,F,0,U.work,{bits:9}),X=0;X<32;)U.lens[X++]=5;u(f,U.lens,0,32,te,0,U.work,{bits:5}),ee=!1}U.lencode=F,U.lenbits=9,U.distcode=te,U.distbits=5}function ae(U,X,T,re){var se,W=U.state;return W.window===null&&(W.wsize=1<<W.wbits,W.wnext=0,W.whave=0,W.window=new s.Buf8(W.wsize)),re>=W.wsize?(s.arraySet(W.window,X,T-W.wsize,W.wsize,0),W.wnext=0,W.whave=W.wsize):(re<(se=W.wsize-W.wnext)&&(se=re),s.arraySet(W.window,X,T-re,se,W.wnext),(re-=se)?(s.arraySet(W.window,X,T-re,re,0),W.wnext=re,W.whave=W.wsize):(W.wnext+=se,W.wnext===W.wsize&&(W.wnext=0),W.whave<W.wsize&&(W.whave+=se))),0}i.inflateReset=P,i.inflateReset2=B,i.inflateResetKeep=R,i.inflateInit=function(U){return G(U,15)},i.inflateInit2=G,i.inflate=function(U,X){var T,re,se,W,ce,ie,de,J,Q,ve,_e,H,ze,ut,We,je,Ke,Xe,z,V,w,j,M,S,C=0,O=new s.Buf8(4),Y=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!U||!U.state||!U.output||!U.input&&U.avail_in!==0)return m;(T=U.state).mode===12&&(T.mode=13),ce=U.next_out,se=U.output,de=U.avail_out,W=U.next_in,re=U.input,ie=U.avail_in,J=T.hold,Q=T.bits,ve=ie,_e=de,j=p;e:for(;;)switch(T.mode){case b:if(T.wrap===0){T.mode=13;break}for(;Q<16;){if(ie===0)break e;ie--,J+=re[W++]<<Q,Q+=8}if(2&T.wrap&&J===35615){O[T.check=0]=255&J,O[1]=J>>>8&255,T.check=a(T.check,O,2,0),Q=J=0,T.mode=2;break}if(T.flags=0,T.head&&(T.head.done=!1),!(1&T.wrap)||(((255&J)<<8)+(J>>8))%31){U.msg="incorrect header check",T.mode=30;break}if((15&J)!=8){U.msg="unknown compression method",T.mode=30;break}if(Q-=4,w=8+(15&(J>>>=4)),T.wbits===0)T.wbits=w;else if(w>T.wbits){U.msg="invalid window size",T.mode=30;break}T.dmax=1<<w,U.adler=T.check=1,T.mode=512&J?10:12,Q=J=0;break;case 2:for(;Q<16;){if(ie===0)break e;ie--,J+=re[W++]<<Q,Q+=8}if(T.flags=J,(255&T.flags)!=8){U.msg="unknown compression method",T.mode=30;break}if(57344&T.flags){U.msg="unknown header flags set",T.mode=30;break}T.head&&(T.head.text=J>>8&1),512&T.flags&&(O[0]=255&J,O[1]=J>>>8&255,T.check=a(T.check,O,2,0)),Q=J=0,T.mode=3;case 3:for(;Q<32;){if(ie===0)break e;ie--,J+=re[W++]<<Q,Q+=8}T.head&&(T.head.time=J),512&T.flags&&(O[0]=255&J,O[1]=J>>>8&255,O[2]=J>>>16&255,O[3]=J>>>24&255,T.check=a(T.check,O,4,0)),Q=J=0,T.mode=4;case 4:for(;Q<16;){if(ie===0)break e;ie--,J+=re[W++]<<Q,Q+=8}T.head&&(T.head.xflags=255&J,T.head.os=J>>8),512&T.flags&&(O[0]=255&J,O[1]=J>>>8&255,T.check=a(T.check,O,2,0)),Q=J=0,T.mode=5;case 5:if(1024&T.flags){for(;Q<16;){if(ie===0)break e;ie--,J+=re[W++]<<Q,Q+=8}T.length=J,T.head&&(T.head.extra_len=J),512&T.flags&&(O[0]=255&J,O[1]=J>>>8&255,T.check=a(T.check,O,2,0)),Q=J=0}else T.head&&(T.head.extra=null);T.mode=6;case 6:if(1024&T.flags&&(ie<(H=T.length)&&(H=ie),H&&(T.head&&(w=T.head.extra_len-T.length,T.head.extra||(T.head.extra=new Array(T.head.extra_len)),s.arraySet(T.head.extra,re,W,H,w)),512&T.flags&&(T.check=a(T.check,re,H,W)),ie-=H,W+=H,T.length-=H),T.length))break e;T.length=0,T.mode=7;case 7:if(2048&T.flags){if(ie===0)break e;for(H=0;w=re[W+H++],T.head&&w&&T.length<65536&&(T.head.name+=String.fromCharCode(w)),w&&H<ie;);if(512&T.flags&&(T.check=a(T.check,re,H,W)),ie-=H,W+=H,w)break e}else T.head&&(T.head.name=null);T.length=0,T.mode=8;case 8:if(4096&T.flags){if(ie===0)break e;for(H=0;w=re[W+H++],T.head&&w&&T.length<65536&&(T.head.comment+=String.fromCharCode(w)),w&&H<ie;);if(512&T.flags&&(T.check=a(T.check,re,H,W)),ie-=H,W+=H,w)break e}else T.head&&(T.head.comment=null);T.mode=9;case 9:if(512&T.flags){for(;Q<16;){if(ie===0)break e;ie--,J+=re[W++]<<Q,Q+=8}if(J!==(65535&T.check)){U.msg="header crc mismatch",T.mode=30;break}Q=J=0}T.head&&(T.head.hcrc=T.flags>>9&1,T.head.done=!0),U.adler=T.check=0,T.mode=12;break;case 10:for(;Q<32;){if(ie===0)break e;ie--,J+=re[W++]<<Q,Q+=8}U.adler=T.check=I(J),Q=J=0,T.mode=11;case 11:if(T.havedict===0)return U.next_out=ce,U.avail_out=de,U.next_in=W,U.avail_in=ie,T.hold=J,T.bits=Q,2;U.adler=T.check=1,T.mode=12;case 12:if(X===5||X===6)break e;case 13:if(T.last){J>>>=7&Q,Q-=7&Q,T.mode=27;break}for(;Q<3;){if(ie===0)break e;ie--,J+=re[W++]<<Q,Q+=8}switch(T.last=1&J,Q-=1,3&(J>>>=1)){case 0:T.mode=14;break;case 1:if(Z(T),T.mode=20,X!==6)break;J>>>=2,Q-=2;break e;case 2:T.mode=17;break;case 3:U.msg="invalid block type",T.mode=30}J>>>=2,Q-=2;break;case 14:for(J>>>=7&Q,Q-=7&Q;Q<32;){if(ie===0)break e;ie--,J+=re[W++]<<Q,Q+=8}if((65535&J)!=(J>>>16^65535)){U.msg="invalid stored block lengths",T.mode=30;break}if(T.length=65535&J,Q=J=0,T.mode=15,X===6)break e;case 15:T.mode=16;case 16:if(H=T.length){if(ie<H&&(H=ie),de<H&&(H=de),H===0)break e;s.arraySet(se,re,W,H,ce),ie-=H,W+=H,de-=H,ce+=H,T.length-=H;break}T.mode=12;break;case 17:for(;Q<14;){if(ie===0)break e;ie--,J+=re[W++]<<Q,Q+=8}if(T.nlen=257+(31&J),J>>>=5,Q-=5,T.ndist=1+(31&J),J>>>=5,Q-=5,T.ncode=4+(15&J),J>>>=4,Q-=4,286<T.nlen||30<T.ndist){U.msg="too many length or distance symbols",T.mode=30;break}T.have=0,T.mode=18;case 18:for(;T.have<T.ncode;){for(;Q<3;){if(ie===0)break e;ie--,J+=re[W++]<<Q,Q+=8}T.lens[Y[T.have++]]=7&J,J>>>=3,Q-=3}for(;T.have<19;)T.lens[Y[T.have++]]=0;if(T.lencode=T.lendyn,T.lenbits=7,M={bits:T.lenbits},j=u(0,T.lens,0,19,T.lencode,0,T.work,M),T.lenbits=M.bits,j){U.msg="invalid code lengths set",T.mode=30;break}T.have=0,T.mode=19;case 19:for(;T.have<T.nlen+T.ndist;){for(;je=(C=T.lencode[J&(1<<T.lenbits)-1])>>>16&255,Ke=65535&C,!((We=C>>>24)<=Q);){if(ie===0)break e;ie--,J+=re[W++]<<Q,Q+=8}if(Ke<16)J>>>=We,Q-=We,T.lens[T.have++]=Ke;else{if(Ke===16){for(S=We+2;Q<S;){if(ie===0)break e;ie--,J+=re[W++]<<Q,Q+=8}if(J>>>=We,Q-=We,T.have===0){U.msg="invalid bit length repeat",T.mode=30;break}w=T.lens[T.have-1],H=3+(3&J),J>>>=2,Q-=2}else if(Ke===17){for(S=We+3;Q<S;){if(ie===0)break e;ie--,J+=re[W++]<<Q,Q+=8}Q-=We,w=0,H=3+(7&(J>>>=We)),J>>>=3,Q-=3}else{for(S=We+7;Q<S;){if(ie===0)break e;ie--,J+=re[W++]<<Q,Q+=8}Q-=We,w=0,H=11+(127&(J>>>=We)),J>>>=7,Q-=7}if(T.have+H>T.nlen+T.ndist){U.msg="invalid bit length repeat",T.mode=30;break}for(;H--;)T.lens[T.have++]=w}}if(T.mode===30)break;if(T.lens[256]===0){U.msg="invalid code -- missing end-of-block",T.mode=30;break}if(T.lenbits=9,M={bits:T.lenbits},j=u(d,T.lens,0,T.nlen,T.lencode,0,T.work,M),T.lenbits=M.bits,j){U.msg="invalid literal/lengths set",T.mode=30;break}if(T.distbits=6,T.distcode=T.distdyn,M={bits:T.distbits},j=u(f,T.lens,T.nlen,T.ndist,T.distcode,0,T.work,M),T.distbits=M.bits,j){U.msg="invalid distances set",T.mode=30;break}if(T.mode=20,X===6)break e;case 20:T.mode=21;case 21:if(6<=ie&&258<=de){U.next_out=ce,U.avail_out=de,U.next_in=W,U.avail_in=ie,T.hold=J,T.bits=Q,l(U,_e),ce=U.next_out,se=U.output,de=U.avail_out,W=U.next_in,re=U.input,ie=U.avail_in,J=T.hold,Q=T.bits,T.mode===12&&(T.back=-1);break}for(T.back=0;je=(C=T.lencode[J&(1<<T.lenbits)-1])>>>16&255,Ke=65535&C,!((We=C>>>24)<=Q);){if(ie===0)break e;ie--,J+=re[W++]<<Q,Q+=8}if(je&&!(240&je)){for(Xe=We,z=je,V=Ke;je=(C=T.lencode[V+((J&(1<<Xe+z)-1)>>Xe)])>>>16&255,Ke=65535&C,!(Xe+(We=C>>>24)<=Q);){if(ie===0)break e;ie--,J+=re[W++]<<Q,Q+=8}J>>>=Xe,Q-=Xe,T.back+=Xe}if(J>>>=We,Q-=We,T.back+=We,T.length=Ke,je===0){T.mode=26;break}if(32&je){T.back=-1,T.mode=12;break}if(64&je){U.msg="invalid literal/length code",T.mode=30;break}T.extra=15&je,T.mode=22;case 22:if(T.extra){for(S=T.extra;Q<S;){if(ie===0)break e;ie--,J+=re[W++]<<Q,Q+=8}T.length+=J&(1<<T.extra)-1,J>>>=T.extra,Q-=T.extra,T.back+=T.extra}T.was=T.length,T.mode=23;case 23:for(;je=(C=T.distcode[J&(1<<T.distbits)-1])>>>16&255,Ke=65535&C,!((We=C>>>24)<=Q);){if(ie===0)break e;ie--,J+=re[W++]<<Q,Q+=8}if(!(240&je)){for(Xe=We,z=je,V=Ke;je=(C=T.distcode[V+((J&(1<<Xe+z)-1)>>Xe)])>>>16&255,Ke=65535&C,!(Xe+(We=C>>>24)<=Q);){if(ie===0)break e;ie--,J+=re[W++]<<Q,Q+=8}J>>>=Xe,Q-=Xe,T.back+=Xe}if(J>>>=We,Q-=We,T.back+=We,64&je){U.msg="invalid distance code",T.mode=30;break}T.offset=Ke,T.extra=15&je,T.mode=24;case 24:if(T.extra){for(S=T.extra;Q<S;){if(ie===0)break e;ie--,J+=re[W++]<<Q,Q+=8}T.offset+=J&(1<<T.extra)-1,J>>>=T.extra,Q-=T.extra,T.back+=T.extra}if(T.offset>T.dmax){U.msg="invalid distance too far back",T.mode=30;break}T.mode=25;case 25:if(de===0)break e;if(H=_e-de,T.offset>H){if((H=T.offset-H)>T.whave&&T.sane){U.msg="invalid distance too far back",T.mode=30;break}ze=H>T.wnext?(H-=T.wnext,T.wsize-H):T.wnext-H,H>T.length&&(H=T.length),ut=T.window}else ut=se,ze=ce-T.offset,H=T.length;for(de<H&&(H=de),de-=H,T.length-=H;se[ce++]=ut[ze++],--H;);T.length===0&&(T.mode=21);break;case 26:if(de===0)break e;se[ce++]=T.length,de--,T.mode=21;break;case 27:if(T.wrap){for(;Q<32;){if(ie===0)break e;ie--,J|=re[W++]<<Q,Q+=8}if(_e-=de,U.total_out+=_e,T.total+=_e,_e&&(U.adler=T.check=T.flags?a(T.check,se,_e,ce-_e):o(T.check,se,_e,ce-_e)),_e=de,(T.flags?J:I(J))!==T.check){U.msg="incorrect data check",T.mode=30;break}Q=J=0}T.mode=28;case 28:if(T.wrap&&T.flags){for(;Q<32;){if(ie===0)break e;ie--,J+=re[W++]<<Q,Q+=8}if(J!==(4294967295&T.total)){U.msg="incorrect length check",T.mode=30;break}Q=J=0}T.mode=29;case 29:j=1;break e;case 30:j=-3;break e;case 31:return-4;case 32:default:return m}return U.next_out=ce,U.avail_out=de,U.next_in=W,U.avail_in=ie,T.hold=J,T.bits=Q,(T.wsize||_e!==U.avail_out&&T.mode<30&&(T.mode<27||X!==4))&&ae(U,U.output,U.next_out,_e-U.avail_out)?(T.mode=31,-4):(ve-=U.avail_in,_e-=U.avail_out,U.total_in+=ve,U.total_out+=_e,T.total+=_e,T.wrap&&_e&&(U.adler=T.check=T.flags?a(T.check,se,_e,U.next_out-_e):o(T.check,se,_e,U.next_out-_e)),U.data_type=T.bits+(T.last?64:0)+(T.mode===12?128:0)+(T.mode===20||T.mode===15?256:0),(ve==0&&_e===0||X===4)&&j===p&&(j=-5),j)},i.inflateEnd=function(U){if(!U||!U.state)return m;var X=U.state;return X.window&&(X.window=null),U.state=null,p},i.inflateGetHeader=function(U,X){var T;return U&&U.state&&2&(T=U.state).wrap?((T.head=X).done=!1,p):m},i.inflateSetDictionary=function(U,X){var T,re=X.length;return U&&U.state?(T=U.state).wrap!==0&&T.mode!==11?m:T.mode===11&&o(1,X,re,0)!==T.check?-3:ae(U,X,re,re)?(T.mode=31,-4):(T.havedict=1,p):m},i.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(n,r,i){var s=n("../utils/common"),o=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],a=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],l=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],u=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];r.exports=function(d,f,p,m,b,y,A,I){var x,R,P,B,G,F,te,ee,Z,ae=I.bits,U=0,X=0,T=0,re=0,se=0,W=0,ce=0,ie=0,de=0,J=0,Q=null,ve=0,_e=new s.Buf16(16),H=new s.Buf16(16),ze=null,ut=0;for(U=0;U<=15;U++)_e[U]=0;for(X=0;X<m;X++)_e[f[p+X]]++;for(se=ae,re=15;1<=re&&_e[re]===0;re--);if(re<se&&(se=re),re===0)return b[y++]=20971520,b[y++]=20971520,I.bits=1,0;for(T=1;T<re&&_e[T]===0;T++);for(se<T&&(se=T),U=ie=1;U<=15;U++)if(ie<<=1,(ie-=_e[U])<0)return-1;if(0<ie&&(d===0||re!==1))return-1;for(H[1]=0,U=1;U<15;U++)H[U+1]=H[U]+_e[U];for(X=0;X<m;X++)f[p+X]!==0&&(A[H[f[p+X]]++]=X);if(F=d===0?(Q=ze=A,19):d===1?(Q=o,ve-=257,ze=a,ut-=257,256):(Q=l,ze=u,-1),U=T,G=y,ce=X=J=0,P=-1,B=(de=1<<(W=se))-1,d===1&&852<de||d===2&&592<de)return 1;for(;;){for(te=U-ce,Z=A[X]<F?(ee=0,A[X]):A[X]>F?(ee=ze[ut+A[X]],Q[ve+A[X]]):(ee=96,0),x=1<<U-ce,T=R=1<<W;b[G+(J>>ce)+(R-=x)]=te<<24|ee<<16|Z|0,R!==0;);for(x=1<<U-1;J&x;)x>>=1;if(x!==0?(J&=x-1,J+=x):J=0,X++,--_e[U]==0){if(U===re)break;U=f[p+A[X]]}if(se<U&&(J&B)!==P){for(ce===0&&(ce=se),G+=T,ie=1<<(W=U-ce);W+ce<re&&!((ie-=_e[W+ce])<=0);)W++,ie<<=1;if(de+=1<<W,d===1&&852<de||d===2&&592<de)return 1;b[P=J&B]=se<<24|W<<16|G-y|0}}return J!==0&&(b[G+J]=U-ce<<24|64<<16|0),I.bits=se,0}},{"../utils/common":41}],51:[function(n,r,i){r.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(n,r,i){var s=n("../utils/common"),o=0,a=1;function l(C){for(var O=C.length;0<=--O;)C[O]=0}var u=0,d=29,f=256,p=f+1+d,m=30,b=19,y=2*p+1,A=15,I=16,x=7,R=256,P=16,B=17,G=18,F=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],te=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],ee=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],Z=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],ae=new Array(2*(p+2));l(ae);var U=new Array(2*m);l(U);var X=new Array(512);l(X);var T=new Array(256);l(T);var re=new Array(d);l(re);var se,W,ce,ie=new Array(m);function de(C,O,Y,K,L){this.static_tree=C,this.extra_bits=O,this.extra_base=Y,this.elems=K,this.max_length=L,this.has_stree=C&&C.length}function J(C,O){this.dyn_tree=C,this.max_code=0,this.stat_desc=O}function Q(C){return C<256?X[C]:X[256+(C>>>7)]}function ve(C,O){C.pending_buf[C.pending++]=255&O,C.pending_buf[C.pending++]=O>>>8&255}function _e(C,O,Y){C.bi_valid>I-Y?(C.bi_buf|=O<<C.bi_valid&65535,ve(C,C.bi_buf),C.bi_buf=O>>I-C.bi_valid,C.bi_valid+=Y-I):(C.bi_buf|=O<<C.bi_valid&65535,C.bi_valid+=Y)}function H(C,O,Y){_e(C,Y[2*O],Y[2*O+1])}function ze(C,O){for(var Y=0;Y|=1&C,C>>>=1,Y<<=1,0<--O;);return Y>>>1}function ut(C,O,Y){var K,L,le=new Array(A+1),fe=0;for(K=1;K<=A;K++)le[K]=fe=fe+Y[K-1]<<1;for(L=0;L<=O;L++){var he=C[2*L+1];he!==0&&(C[2*L]=ze(le[he]++,he))}}function We(C){var O;for(O=0;O<p;O++)C.dyn_ltree[2*O]=0;for(O=0;O<m;O++)C.dyn_dtree[2*O]=0;for(O=0;O<b;O++)C.bl_tree[2*O]=0;C.dyn_ltree[2*R]=1,C.opt_len=C.static_len=0,C.last_lit=C.matches=0}function je(C){8<C.bi_valid?ve(C,C.bi_buf):0<C.bi_valid&&(C.pending_buf[C.pending++]=C.bi_buf),C.bi_buf=0,C.bi_valid=0}function Ke(C,O,Y,K){var L=2*O,le=2*Y;return C[L]<C[le]||C[L]===C[le]&&K[O]<=K[Y]}function Xe(C,O,Y){for(var K=C.heap[Y],L=Y<<1;L<=C.heap_len&&(L<C.heap_len&&Ke(O,C.heap[L+1],C.heap[L],C.depth)&&L++,!Ke(O,K,C.heap[L],C.depth));)C.heap[Y]=C.heap[L],Y=L,L<<=1;C.heap[Y]=K}function z(C,O,Y){var K,L,le,fe,he=0;if(C.last_lit!==0)for(;K=C.pending_buf[C.d_buf+2*he]<<8|C.pending_buf[C.d_buf+2*he+1],L=C.pending_buf[C.l_buf+he],he++,K===0?H(C,L,O):(H(C,(le=T[L])+f+1,O),(fe=F[le])!==0&&_e(C,L-=re[le],fe),H(C,le=Q(--K),Y),(fe=te[le])!==0&&_e(C,K-=ie[le],fe)),he<C.last_lit;);H(C,R,O)}function V(C,O){var Y,K,L,le=O.dyn_tree,fe=O.stat_desc.static_tree,he=O.stat_desc.has_stree,be=O.stat_desc.elems,Pe=-1;for(C.heap_len=0,C.heap_max=y,Y=0;Y<be;Y++)le[2*Y]!==0?(C.heap[++C.heap_len]=Pe=Y,C.depth[Y]=0):le[2*Y+1]=0;for(;C.heap_len<2;)le[2*(L=C.heap[++C.heap_len]=Pe<2?++Pe:0)]=1,C.depth[L]=0,C.opt_len--,he&&(C.static_len-=fe[2*L+1]);for(O.max_code=Pe,Y=C.heap_len>>1;1<=Y;Y--)Xe(C,le,Y);for(L=be;Y=C.heap[1],C.heap[1]=C.heap[C.heap_len--],Xe(C,le,1),K=C.heap[1],C.heap[--C.heap_max]=Y,C.heap[--C.heap_max]=K,le[2*L]=le[2*Y]+le[2*K],C.depth[L]=(C.depth[Y]>=C.depth[K]?C.depth[Y]:C.depth[K])+1,le[2*Y+1]=le[2*K+1]=L,C.heap[1]=L++,Xe(C,le,1),2<=C.heap_len;);C.heap[--C.heap_max]=C.heap[1],function(Ce,Fe){var rt,ct,Vt,pt,dn,Ot,kt=Fe.dyn_tree,Hn=Fe.max_code,Ge=Fe.stat_desc.static_tree,Bt=Fe.stat_desc.has_stree,Dn=Fe.stat_desc.extra_bits,gr=Fe.stat_desc.extra_base,wn=Fe.stat_desc.max_length,cr=0;for(pt=0;pt<=A;pt++)Ce.bl_count[pt]=0;for(kt[2*Ce.heap[Ce.heap_max]+1]=0,rt=Ce.heap_max+1;rt<y;rt++)wn<(pt=kt[2*kt[2*(ct=Ce.heap[rt])+1]+1]+1)&&(pt=wn,cr++),kt[2*ct+1]=pt,Hn<ct||(Ce.bl_count[pt]++,dn=0,gr<=ct&&(dn=Dn[ct-gr]),Ot=kt[2*ct],Ce.opt_len+=Ot*(pt+dn),Bt&&(Ce.static_len+=Ot*(Ge[2*ct+1]+dn)));if(cr!==0){do{for(pt=wn-1;Ce.bl_count[pt]===0;)pt--;Ce.bl_count[pt]--,Ce.bl_count[pt+1]+=2,Ce.bl_count[wn]--,cr-=2}while(0<cr);for(pt=wn;pt!==0;pt--)for(ct=Ce.bl_count[pt];ct!==0;)Hn<(Vt=Ce.heap[--rt])||(kt[2*Vt+1]!==pt&&(Ce.opt_len+=(pt-kt[2*Vt+1])*kt[2*Vt],kt[2*Vt+1]=pt),ct--)}}(C,O),ut(le,Pe,C.bl_count)}function w(C,O,Y){var K,L,le=-1,fe=O[1],he=0,be=7,Pe=4;for(fe===0&&(be=138,Pe=3),O[2*(Y+1)+1]=65535,K=0;K<=Y;K++)L=fe,fe=O[2*(K+1)+1],++he<be&&L===fe||(he<Pe?C.bl_tree[2*L]+=he:L!==0?(L!==le&&C.bl_tree[2*L]++,C.bl_tree[2*P]++):he<=10?C.bl_tree[2*B]++:C.bl_tree[2*G]++,le=L,Pe=(he=0)===fe?(be=138,3):L===fe?(be=6,3):(be=7,4))}function j(C,O,Y){var K,L,le=-1,fe=O[1],he=0,be=7,Pe=4;for(fe===0&&(be=138,Pe=3),K=0;K<=Y;K++)if(L=fe,fe=O[2*(K+1)+1],!(++he<be&&L===fe)){if(he<Pe)for(;H(C,L,C.bl_tree),--he!=0;);else L!==0?(L!==le&&(H(C,L,C.bl_tree),he--),H(C,P,C.bl_tree),_e(C,he-3,2)):he<=10?(H(C,B,C.bl_tree),_e(C,he-3,3)):(H(C,G,C.bl_tree),_e(C,he-11,7));le=L,Pe=(he=0)===fe?(be=138,3):L===fe?(be=6,3):(be=7,4)}}l(ie);var M=!1;function S(C,O,Y,K){_e(C,(u<<1)+(K?1:0),3),function(L,le,fe,he){je(L),he&&(ve(L,fe),ve(L,~fe)),s.arraySet(L.pending_buf,L.window,le,fe,L.pending),L.pending+=fe}(C,O,Y,!0)}i._tr_init=function(C){M||(function(){var O,Y,K,L,le,fe=new Array(A+1);for(L=K=0;L<d-1;L++)for(re[L]=K,O=0;O<1<<F[L];O++)T[K++]=L;for(T[K-1]=L,L=le=0;L<16;L++)for(ie[L]=le,O=0;O<1<<te[L];O++)X[le++]=L;for(le>>=7;L<m;L++)for(ie[L]=le<<7,O=0;O<1<<te[L]-7;O++)X[256+le++]=L;for(Y=0;Y<=A;Y++)fe[Y]=0;for(O=0;O<=143;)ae[2*O+1]=8,O++,fe[8]++;for(;O<=255;)ae[2*O+1]=9,O++,fe[9]++;for(;O<=279;)ae[2*O+1]=7,O++,fe[7]++;for(;O<=287;)ae[2*O+1]=8,O++,fe[8]++;for(ut(ae,p+1,fe),O=0;O<m;O++)U[2*O+1]=5,U[2*O]=ze(O,5);se=new de(ae,F,f+1,p,A),W=new de(U,te,0,m,A),ce=new de(new Array(0),ee,0,b,x)}(),M=!0),C.l_desc=new J(C.dyn_ltree,se),C.d_desc=new J(C.dyn_dtree,W),C.bl_desc=new J(C.bl_tree,ce),C.bi_buf=0,C.bi_valid=0,We(C)},i._tr_stored_block=S,i._tr_flush_block=function(C,O,Y,K){var L,le,fe=0;0<C.level?(C.strm.data_type===2&&(C.strm.data_type=function(he){var be,Pe=4093624447;for(be=0;be<=31;be++,Pe>>>=1)if(1&Pe&&he.dyn_ltree[2*be]!==0)return o;if(he.dyn_ltree[18]!==0||he.dyn_ltree[20]!==0||he.dyn_ltree[26]!==0)return a;for(be=32;be<f;be++)if(he.dyn_ltree[2*be]!==0)return a;return o}(C)),V(C,C.l_desc),V(C,C.d_desc),fe=function(he){var be;for(w(he,he.dyn_ltree,he.l_desc.max_code),w(he,he.dyn_dtree,he.d_desc.max_code),V(he,he.bl_desc),be=b-1;3<=be&&he.bl_tree[2*Z[be]+1]===0;be--);return he.opt_len+=3*(be+1)+5+5+4,be}(C),L=C.opt_len+3+7>>>3,(le=C.static_len+3+7>>>3)<=L&&(L=le)):L=le=Y+5,Y+4<=L&&O!==-1?S(C,O,Y,K):C.strategy===4||le===L?(_e(C,2+(K?1:0),3),z(C,ae,U)):(_e(C,4+(K?1:0),3),function(he,be,Pe,Ce){var Fe;for(_e(he,be-257,5),_e(he,Pe-1,5),_e(he,Ce-4,4),Fe=0;Fe<Ce;Fe++)_e(he,he.bl_tree[2*Z[Fe]+1],3);j(he,he.dyn_ltree,be-1),j(he,he.dyn_dtree,Pe-1)}(C,C.l_desc.max_code+1,C.d_desc.max_code+1,fe+1),z(C,C.dyn_ltree,C.dyn_dtree)),We(C),K&&je(C)},i._tr_tally=function(C,O,Y){return C.pending_buf[C.d_buf+2*C.last_lit]=O>>>8&255,C.pending_buf[C.d_buf+2*C.last_lit+1]=255&O,C.pending_buf[C.l_buf+C.last_lit]=255&Y,C.last_lit++,O===0?C.dyn_ltree[2*Y]++:(C.matches++,O--,C.dyn_ltree[2*(T[Y]+f+1)]++,C.dyn_dtree[2*Q(O)]++),C.last_lit===C.lit_bufsize-1},i._tr_align=function(C){_e(C,2,3),H(C,R,ae),function(O){O.bi_valid===16?(ve(O,O.bi_buf),O.bi_buf=0,O.bi_valid=0):8<=O.bi_valid&&(O.pending_buf[O.pending++]=255&O.bi_buf,O.bi_buf>>=8,O.bi_valid-=8)}(C)}},{"../utils/common":41}],53:[function(n,r,i){r.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(n,r,i){(function(s){(function(o,a){if(!o.setImmediate){var l,u,d,f,p=1,m={},b=!1,y=o.document,A=Object.getPrototypeOf&&Object.getPrototypeOf(o);A=A&&A.setTimeout?A:o,l={}.toString.call(o.process)==="[object process]"?function(P){process.nextTick(function(){x(P)})}:function(){if(o.postMessage&&!o.importScripts){var P=!0,B=o.onmessage;return o.onmessage=function(){P=!1},o.postMessage("","*"),o.onmessage=B,P}}()?(f="setImmediate$"+Math.random()+"$",o.addEventListener?o.addEventListener("message",R,!1):o.attachEvent("onmessage",R),function(P){o.postMessage(f+P,"*")}):o.MessageChannel?((d=new MessageChannel).port1.onmessage=function(P){x(P.data)},function(P){d.port2.postMessage(P)}):y&&"onreadystatechange"in y.createElement("script")?(u=y.documentElement,function(P){var B=y.createElement("script");B.onreadystatechange=function(){x(P),B.onreadystatechange=null,u.removeChild(B),B=null},u.appendChild(B)}):function(P){setTimeout(x,0,P)},A.setImmediate=function(P){typeof P!="function"&&(P=new Function(""+P));for(var B=new Array(arguments.length-1),G=0;G<B.length;G++)B[G]=arguments[G+1];var F={callback:P,args:B};return m[p]=F,l(p),p++},A.clearImmediate=I}function I(P){delete m[P]}function x(P){if(b)setTimeout(x,0,P);else{var B=m[P];if(B){b=!0;try{(function(G){var F=G.callback,te=G.args;switch(te.length){case 0:F();break;case 1:F(te[0]);break;case 2:F(te[0],te[1]);break;case 3:F(te[0],te[1],te[2]);break;default:F.apply(a,te)}})(B)}finally{I(P),b=!1}}}}function R(P){P.source===o&&typeof P.data=="string"&&P.data.indexOf(f)===0&&x(+P.data.slice(f.length))}})(typeof self>"u"?s===void 0?this:s:self)}).call(this,typeof kn<"u"?kn:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(wb);var tO=wb.exports;const nO=_h(tO);var vb={exports:{}};const rO={},iO=Object.freeze(Object.defineProperty({__proto__:null,default:rO},Symbol.toStringTag,{value:"Module"})),Bu=TP(iO);(function(t,e){var n=void 0,r=function(i){return n||(n=new Promise(function(s,o){var a=typeof i<"u"?i:{},l=a.onAbort;a.onAbort=function(c){o(new Error(c)),l&&l(c)},a.postRun=a.postRun||[],a.postRun.push(function(){s(a)}),t=void 0;var u;u||(u=typeof a<"u"?a:{}),u.onRuntimeInitialized=function(){function c(oe,ye){switch(typeof ye){case"boolean":$h(oe,ye?1:0);break;case"number":Vh(oe,ye);break;case"string":Uh(oe,ye,-1,-1);break;case"object":if(ye===null)Xl(oe);else if(ye.length!=null){var Oe=as(ye,to);Fh(oe,Oe,ye.length,-1),io(Oe)}else so(oe,"Wrong API use : tried to return a value of an unknown type ("+ye+").",-1);break;default:Xl(oe)}}function g(oe,ye){for(var Oe=[],qe=0;qe<oe;qe+=1){var ot=M(ye+4*qe,"i32"),Pt=Nh(ot);if(Pt===1||Pt===2)ot=Lh(ot);else if(Pt===3)ot=Si(ot);else if(Pt===4){Pt=ot,ot=Yl(Pt),Pt=Mh(Pt);for(var Jn=new Uint8Array(ot),er=0;er<ot;er+=1)Jn[er]=Z[Pt+er];ot=Jn}else ot=null;Oe.push(ot)}return Oe}function v(oe,ye){this.La=oe,this.db=ye,this.Ja=1,this.fb=[]}function D(oe,ye){if(this.db=ye,ye=Fe(oe)+1,this.Ya=ro(ye),this.Ya===null)throw Error("Unable to allocate memory for the SQL string");rt(oe,ae,this.Ya,ye),this.eb=this.Ya,this.Ua=this.ib=null}function q(oe){if(this.filename="dbfile_"+(4294967295*Math.random()>>>0),oe!=null){var ye=this.filename,Oe="/",qe=ye;if(Oe&&(Oe=typeof Oe=="string"?Oe:Rr(Oe),qe=ye?L(Oe+"/"+ye):Oe),ye=Bt(!0,!0),qe=Re(qe,(ye!==void 0?ye:438)&4095|32768,0),oe){if(typeof oe=="string"){Oe=Array(oe.length);for(var ot=0,Pt=oe.length;ot<Pt;++ot)Oe[ot]=oe.charCodeAt(ot);oe=Oe}ii(qe,ye|146),Oe=Ii(qe,577),Ul(Oe,oe,0,oe.length,0),na(Oe),ii(qe,ye)}}this.handleError(Be(this.filename,ue)),this.db=M(ue,"i32"),Jl(this.db),this.Za={},this.Na={}}var ue=Nr(4),ge=u.cwrap,Be=ge("sqlite3_open","number",["string","number"]),gt=ge("sqlite3_close_v2","number",["number"]),nt=ge("sqlite3_exec","number",["number","string","number","number","number"]),sn=ge("sqlite3_changes","number",["number"]),fn=ge("sqlite3_prepare_v2","number",["number","string","number","number","number"]),li=ge("sqlite3_sql","string",["number"]),Eh=ge("sqlite3_normalized_sql","string",["number"]),aa=ge("sqlite3_prepare_v2","number",["number","number","number","number","number"]),ql=ge("sqlite3_bind_text","number",["number","number","number","number","number"]),Hl=ge("sqlite3_bind_blob","number",["number","number","number","number","number"]),Th=ge("sqlite3_bind_double","number",["number","number","number"]),Ih=ge("sqlite3_bind_int","number",["number","number","number"]),Ah=ge("sqlite3_bind_parameter_index","number",["number","string"]),xh=ge("sqlite3_step","number",["number"]),Ch=ge("sqlite3_errmsg","string",["number"]),Sh=ge("sqlite3_column_count","number",["number"]),Ci=ge("sqlite3_data_count","number",["number"]),Rh=ge("sqlite3_column_double","number",["number","number"]),Wl=ge("sqlite3_column_text","string",["number","number"]),Kl=ge("sqlite3_column_blob","number",["number","number"]),Ph=ge("sqlite3_column_bytes","number",["number","number"]),Mr=ge("sqlite3_column_type","number",["number","number"]),Dh=ge("sqlite3_column_name","string",["number","number"]),Gl=ge("sqlite3_reset","number",["number"]),cs=ge("sqlite3_clear_bindings","number",["number"]),Oh=ge("sqlite3_finalize","number",["number"]),Ql=ge("sqlite3_create_function_v2","number","number string number number number number number number number".split(" ")),Nh=ge("sqlite3_value_type","number",["number"]),Yl=ge("sqlite3_value_bytes","number",["number"]),Si=ge("sqlite3_value_text","string",["number"]),Mh=ge("sqlite3_value_blob","number",["number"]),Lh=ge("sqlite3_value_double","number",["number"]),Vh=ge("sqlite3_result_double","",["number","number"]),Xl=ge("sqlite3_result_null","",["number"]),Uh=ge("sqlite3_result_text","",["number","string","number","number"]),Fh=ge("sqlite3_result_blob","",["number","number","number","number"]),$h=ge("sqlite3_result_int","",["number","number"]),so=ge("sqlite3_result_error","",["number","string","number"]),Zl=ge("sqlite3_aggregate_context","number",["number","number"]),Jl=ge("RegisterExtensionFunctions","number",["number"]);v.prototype.bind=function(oe){if(!this.La)throw"Statement closed";return this.reset(),Array.isArray(oe)?this.wb(oe):oe!=null&&typeof oe=="object"?this.xb(oe):!0},v.prototype.step=function(){if(!this.La)throw"Statement closed";this.Ja=1;var oe=xh(this.La);switch(oe){case 100:return!0;case 101:return!1;default:throw this.db.handleError(oe)}},v.prototype.rb=function(oe){return oe==null&&(oe=this.Ja,this.Ja+=1),Rh(this.La,oe)},v.prototype.Ab=function(oe){if(oe==null&&(oe=this.Ja,this.Ja+=1),oe=Wl(this.La,oe),typeof BigInt!="function")throw Error("BigInt is not supported");return BigInt(oe)},v.prototype.Bb=function(oe){return oe==null&&(oe=this.Ja,this.Ja+=1),Wl(this.La,oe)},v.prototype.getBlob=function(oe){oe==null&&(oe=this.Ja,this.Ja+=1);var ye=Ph(this.La,oe);oe=Kl(this.La,oe);for(var Oe=new Uint8Array(ye),qe=0;qe<ye;qe+=1)Oe[qe]=Z[oe+qe];return Oe},v.prototype.get=function(oe,ye){ye=ye||{},oe!=null&&this.bind(oe)&&this.step(),oe=[];for(var Oe=Ci(this.La),qe=0;qe<Oe;qe+=1)switch(Mr(this.La,qe)){case 1:var ot=ye.useBigInt?this.Ab(qe):this.rb(qe);oe.push(ot);break;case 2:oe.push(this.rb(qe));break;case 3:oe.push(this.Bb(qe));break;case 4:oe.push(this.getBlob(qe));break;default:oe.push(null)}return oe},v.prototype.getColumnNames=function(){for(var oe=[],ye=Sh(this.La),Oe=0;Oe<ye;Oe+=1)oe.push(Dh(this.La,Oe));return oe},v.prototype.getAsObject=function(oe,ye){oe=this.get(oe,ye),ye=this.getColumnNames();for(var Oe={},qe=0;qe<ye.length;qe+=1)Oe[ye[qe]]=oe[qe];return Oe},v.prototype.getSQL=function(){return li(this.La)},v.prototype.getNormalizedSQL=function(){return Eh(this.La)},v.prototype.run=function(oe){return oe!=null&&this.bind(oe),this.step(),this.reset()},v.prototype.nb=function(oe,ye){ye==null&&(ye=this.Ja,this.Ja+=1),oe=ct(oe);var Oe=as(oe,to);this.fb.push(Oe),this.db.handleError(ql(this.La,ye,Oe,oe.length-1,0))},v.prototype.vb=function(oe,ye){ye==null&&(ye=this.Ja,this.Ja+=1);var Oe=as(oe,to);this.fb.push(Oe),this.db.handleError(Hl(this.La,ye,Oe,oe.length,0))},v.prototype.mb=function(oe,ye){ye==null&&(ye=this.Ja,this.Ja+=1),this.db.handleError((oe===(oe|0)?Ih:Th)(this.La,ye,oe))},v.prototype.yb=function(oe){oe==null&&(oe=this.Ja,this.Ja+=1),Hl(this.La,oe,0,0,0)},v.prototype.ob=function(oe,ye){switch(ye==null&&(ye=this.Ja,this.Ja+=1),typeof oe){case"string":this.nb(oe,ye);return;case"number":this.mb(oe,ye);return;case"bigint":this.nb(oe.toString(),ye);return;case"boolean":this.mb(oe+0,ye);return;case"object":if(oe===null){this.yb(ye);return}if(oe.length!=null){this.vb(oe,ye);return}}throw"Wrong API use : tried to bind a value of an unknown type ("+oe+")."},v.prototype.xb=function(oe){var ye=this;return Object.keys(oe).forEach(function(Oe){var qe=Ah(ye.La,Oe);qe!==0&&ye.ob(oe[Oe],qe)}),!0},v.prototype.wb=function(oe){for(var ye=0;ye<oe.length;ye+=1)this.ob(oe[ye],ye+1);return!0},v.prototype.reset=function(){return this.freemem(),cs(this.La)===0&&Gl(this.La)===0},v.prototype.freemem=function(){for(var oe;(oe=this.fb.pop())!==void 0;)io(oe)},v.prototype.free=function(){this.freemem();var oe=Oh(this.La)===0;return delete this.db.Za[this.La],this.La=0,oe},D.prototype.next=function(){if(this.Ya===null)return{done:!0};if(this.Ua!==null&&(this.Ua.free(),this.Ua=null),!this.db.db)throw this.gb(),Error("Database closed");var oe=ls(),ye=Nr(4);S(ue),S(ye);try{this.db.handleError(aa(this.db.db,this.eb,-1,ue,ye)),this.eb=M(ye,"i32");var Oe=M(ue,"i32");return Oe===0?(this.gb(),{done:!0}):(this.Ua=new v(Oe,this.db),this.db.Za[Oe]=this.Ua,{value:this.Ua,done:!1})}catch(qe){throw this.ib=Y(this.eb),this.gb(),qe}finally{xi(oe)}},D.prototype.gb=function(){io(this.Ya),this.Ya=null},D.prototype.getRemainingSQL=function(){return this.ib!==null?this.ib:Y(this.eb)},typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"&&(D.prototype[Symbol.iterator]=function(){return this}),q.prototype.run=function(oe,ye){if(!this.db)throw"Database closed";if(ye){oe=this.prepare(oe,ye);try{oe.step()}finally{oe.free()}}else this.handleError(nt(this.db,oe,0,0,ue));return this},q.prototype.exec=function(oe,ye,Oe){if(!this.db)throw"Database closed";var qe=ls(),ot=null;try{var Pt=ia(oe),Jn=Nr(4);for(oe=[];M(Pt,"i8")!==0;){S(ue),S(Jn),this.handleError(aa(this.db,Pt,-1,ue,Jn));var er=M(ue,"i32");if(Pt=M(Jn,"i32"),er!==0){var An=null;for(ot=new v(er,this),ye!=null&&ot.bind(ye);ot.step();)An===null&&(An={columns:ot.getColumnNames(),values:[]},oe.push(An)),An.values.push(ot.get(null,Oe));ot.free()}}return oe}catch(tr){throw ot&&ot.free(),tr}finally{xi(qe)}},q.prototype.each=function(oe,ye,Oe,qe,ot){typeof ye=="function"&&(qe=Oe,Oe=ye,ye=void 0),oe=this.prepare(oe,ye);try{for(;oe.step();)Oe(oe.getAsObject(null,ot))}finally{oe.free()}if(typeof qe=="function")return qe()},q.prototype.prepare=function(oe,ye){if(S(ue),this.handleError(fn(this.db,oe,-1,ue,0)),oe=M(ue,"i32"),oe===0)throw"Nothing to prepare";var Oe=new v(oe,this);return ye!=null&&Oe.bind(ye),this.Za[oe]=Oe},q.prototype.iterateStatements=function(oe){return new D(oe,this)},q.prototype.export=function(){Object.values(this.Za).forEach(function(ye){ye.free()}),Object.values(this.Na).forEach(ai),this.Na={},this.handleError(gt(this.db));var oe=vh(this.filename);return this.handleError(Be(this.filename,ue)),this.db=M(ue,"i32"),Jl(this.db),oe},q.prototype.close=function(){this.db!==null&&(Object.values(this.Za).forEach(function(oe){oe.free()}),Object.values(this.Na).forEach(ai),this.Na={},this.handleError(gt(this.db)),hr("/"+this.filename),this.db=null)},q.prototype.handleError=function(oe){if(oe===0)return null;throw oe=Ch(this.db),Error(oe)},q.prototype.getRowsModified=function(){return sn(this.db)},q.prototype.create_function=function(oe,ye){Object.prototype.hasOwnProperty.call(this.Na,oe)&&(ai(this.Na[oe]),delete this.Na[oe]);var Oe=no(function(qe,ot,Pt){ot=g(ot,Pt);try{var Jn=ye.apply(null,ot)}catch(er){so(qe,er,-1);return}c(qe,Jn)},"viii");return this.Na[oe]=Oe,this.handleError(Ql(this.db,oe,ye.length,1,0,Oe,0,0,0)),this},q.prototype.create_aggregate=function(oe,ye){var Oe=ye.init||function(){return null},qe=ye.finalize||function(An){return An},ot=ye.step;if(!ot)throw"An aggregate function must have a step function in "+oe;var Pt={};Object.hasOwnProperty.call(this.Na,oe)&&(ai(this.Na[oe]),delete this.Na[oe]),ye=oe+"__finalize",Object.hasOwnProperty.call(this.Na,ye)&&(ai(this.Na[ye]),delete this.Na[ye]);var Jn=no(function(An,tr,oo){var wr=Zl(An,1);Object.hasOwnProperty.call(Pt,wr)||(Pt[wr]=Oe()),tr=g(tr,oo),tr=[Pt[wr]].concat(tr);try{Pt[wr]=ot.apply(null,tr)}catch(ao){delete Pt[wr],so(An,ao,-1)}},"viii"),er=no(function(An){var tr=Zl(An,1);try{var oo=qe(Pt[tr])}catch(wr){delete Pt[tr],so(An,wr,-1);return}c(An,oo),delete Pt[tr]},"vi");return this.Na[oe]=Jn,this.Na[ye]=er,this.handleError(Ql(this.db,oe,ot.length-1,1,0,0,Jn,er,0)),this},u.Database=q};var d=Object.assign({},u),f="./this.program",p=typeof window=="object",m=typeof importScripts=="function",b=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",y="",A,I,x;if(b){var R=Bu,P=Bu;y=m?P.dirname(y)+"/":__dirname+"/",A=(c,g)=>(c=ze(c)?new URL(c):P.normalize(c),R.readFileSync(c,g?void 0:"utf8")),x=c=>(c=A(c,!0),c.buffer||(c=new Uint8Array(c)),c),I=(c,g,v,D=!0)=>{c=ze(c)?new URL(c):P.normalize(c),R.readFile(c,D?void 0:"utf8",(q,ue)=>{q?v(q):g(D?ue.buffer:ue)})},!u.thisProgram&&1<process.argv.length&&(f=process.argv[1].replace(/\\/g,"/")),process.argv.slice(2),t.exports=u,u.inspect=()=>"[Emscripten Module object]"}else(p||m)&&(m?y=self.location.href:typeof document<"u"&&document.currentScript&&(y=document.currentScript.src),y=y.indexOf("blob:")!==0?y.substr(0,y.replace(/[?#].*/,"").lastIndexOf("/")+1):"",A=c=>{var g=new XMLHttpRequest;return g.open("GET",c,!1),g.send(null),g.responseText},m&&(x=c=>{var g=new XMLHttpRequest;return g.open("GET",c,!1),g.responseType="arraybuffer",g.send(null),new Uint8Array(g.response)}),I=(c,g,v)=>{var D=new XMLHttpRequest;D.open("GET",c,!0),D.responseType="arraybuffer",D.onload=()=>{D.status==200||D.status==0&&D.response?g(D.response):v()},D.onerror=v,D.send(null)});var B=u.print||console.log.bind(console),G=u.printErr||console.error.bind(console);Object.assign(u,d),d=null,u.thisProgram&&(f=u.thisProgram);var F;u.wasmBinary&&(F=u.wasmBinary),typeof WebAssembly!="object"&&_e("no native wasm support detected");var te,ee=!1,Z,ae,U,X,T,re,se;function W(){var c=te.buffer;u.HEAP8=Z=new Int8Array(c),u.HEAP16=U=new Int16Array(c),u.HEAPU8=ae=new Uint8Array(c),u.HEAPU16=new Uint16Array(c),u.HEAP32=X=new Int32Array(c),u.HEAPU32=T=new Uint32Array(c),u.HEAPF32=re=new Float32Array(c),u.HEAPF64=se=new Float64Array(c)}var ce=[],ie=[],de=[];function J(){var c=u.preRun.shift();ce.unshift(c)}var Q=0,ve=null;function _e(c){var g;throw(g=u.onAbort)==null||g.call(u,c),c="Aborted("+c+")",G(c),ee=!0,new WebAssembly.RuntimeError(c+". Build with -sASSERTIONS for more info.")}var H=c=>c.startsWith("data:application/octet-stream;base64,"),ze=c=>c.startsWith("file://"),ut;if(ut="sql-wasm.wasm",!H(ut)){var We=ut;ut=u.locateFile?u.locateFile(We,y):y+We}function je(c){if(c==ut&&F)return new Uint8Array(F);if(x)return x(c);throw"both async and sync fetching of the wasm failed"}function Ke(c){if(!F&&(p||m)){if(typeof fetch=="function"&&!ze(c))return fetch(c,{credentials:"same-origin"}).then(g=>{if(!g.ok)throw"failed to load wasm binary file at '"+c+"'";return g.arrayBuffer()}).catch(()=>je(c));if(I)return new Promise((g,v)=>{I(c,D=>g(new Uint8Array(D)),v)})}return Promise.resolve().then(()=>je(c))}function Xe(c,g,v){return Ke(c).then(D=>WebAssembly.instantiate(D,g)).then(D=>D).then(v,D=>{G(`failed to asynchronously prepare wasm: ${D}`),_e(D)})}function z(c,g){var v=ut;F||typeof WebAssembly.instantiateStreaming!="function"||H(v)||ze(v)||b||typeof fetch!="function"?Xe(v,c,g):fetch(v,{credentials:"same-origin"}).then(D=>WebAssembly.instantiateStreaming(D,c).then(g,function(q){return G(`wasm streaming compile failed: ${q}`),G("falling back to ArrayBuffer instantiation"),Xe(v,c,g)}))}var V,w,j=c=>{for(;0<c.length;)c.shift()(u)};function M(c,g="i8"){switch(g.endsWith("*")&&(g="*"),g){case"i1":return Z[c>>0];case"i8":return Z[c>>0];case"i16":return U[c>>1];case"i32":return X[c>>2];case"i64":_e("to do getValue(i64) use WASM_BIGINT");case"float":return re[c>>2];case"double":return se[c>>3];case"*":return T[c>>2];default:_e(`invalid type for getValue: ${g}`)}}function S(c){var g="i32";switch(g.endsWith("*")&&(g="*"),g){case"i1":Z[c>>0]=0;break;case"i8":Z[c>>0]=0;break;case"i16":U[c>>1]=0;break;case"i32":X[c>>2]=0;break;case"i64":_e("to do setValue(i64) use WASM_BIGINT");case"float":re[c>>2]=0;break;case"double":se[c>>3]=0;break;case"*":T[c>>2]=0;break;default:_e(`invalid type for setValue: ${g}`)}}var C=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,O=(c,g,v)=>{var D=g+v;for(v=g;c[v]&&!(v>=D);)++v;if(16<v-g&&c.buffer&&C)return C.decode(c.subarray(g,v));for(D="";g<v;){var q=c[g++];if(q&128){var ue=c[g++]&63;if((q&224)==192)D+=String.fromCharCode((q&31)<<6|ue);else{var ge=c[g++]&63;q=(q&240)==224?(q&15)<<12|ue<<6|ge:(q&7)<<18|ue<<12|ge<<6|c[g++]&63,65536>q?D+=String.fromCharCode(q):(q-=65536,D+=String.fromCharCode(55296|q>>10,56320|q&1023))}}else D+=String.fromCharCode(q)}return D},Y=(c,g)=>c?O(ae,c,g):"",K=(c,g)=>{for(var v=0,D=c.length-1;0<=D;D--){var q=c[D];q==="."?c.splice(D,1):q===".."?(c.splice(D,1),v++):v&&(c.splice(D,1),v--)}if(g)for(;v;v--)c.unshift("..");return c},L=c=>{var g=c.charAt(0)==="/",v=c.substr(-1)==="/";return(c=K(c.split("/").filter(D=>!!D),!g).join("/"))||g||(c="."),c&&v&&(c+="/"),(g?"/":"")+c},le=c=>{var g=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(c).slice(1);return c=g[0],g=g[1],!c&&!g?".":(g&&(g=g.substr(0,g.length-1)),c+g)},fe=c=>{if(c==="/")return"/";c=L(c),c=c.replace(/\/$/,"");var g=c.lastIndexOf("/");return g===-1?c:c.substr(g+1)},he=()=>{if(typeof crypto=="object"&&typeof crypto.getRandomValues=="function")return v=>crypto.getRandomValues(v);if(b)try{var c=Bu;if(c.randomFillSync)return v=>c.randomFillSync(v);var g=c.randomBytes;return v=>(v.set(g(v.byteLength)),v)}catch{}_e("initRandomDevice")},be=c=>(be=he())(c);function Pe(){for(var c="",g=!1,v=arguments.length-1;-1<=v&&!g;v--){if(g=0<=v?arguments[v]:"/",typeof g!="string")throw new TypeError("Arguments to path.resolve must be strings");if(!g)return"";c=g+"/"+c,g=g.charAt(0)==="/"}return c=K(c.split("/").filter(D=>!!D),!g).join("/"),(g?"/":"")+c||"."}var Ce=[],Fe=c=>{for(var g=0,v=0;v<c.length;++v){var D=c.charCodeAt(v);127>=D?g++:2047>=D?g+=2:55296<=D&&57343>=D?(g+=4,++v):g+=3}return g},rt=(c,g,v,D)=>{if(!(0<D))return 0;var q=v;D=v+D-1;for(var ue=0;ue<c.length;++ue){var ge=c.charCodeAt(ue);if(55296<=ge&&57343>=ge){var Be=c.charCodeAt(++ue);ge=65536+((ge&1023)<<10)|Be&1023}if(127>=ge){if(v>=D)break;g[v++]=ge}else{if(2047>=ge){if(v+1>=D)break;g[v++]=192|ge>>6}else{if(65535>=ge){if(v+2>=D)break;g[v++]=224|ge>>12}else{if(v+3>=D)break;g[v++]=240|ge>>18,g[v++]=128|ge>>12&63}g[v++]=128|ge>>6&63}g[v++]=128|ge&63}}return g[v]=0,v-q};function ct(c,g){var v=Array(Fe(c)+1);return c=rt(c,v,0,v.length),g&&(v.length=c),v}var Vt=[];function pt(c,g){Vt[c]={input:[],output:[],Xa:g},ne(c,dn)}var dn={open(c){var g=Vt[c.node.rdev];if(!g)throw new Te(43);c.tty=g,c.seekable=!1},close(c){c.tty.Xa.fsync(c.tty)},fsync(c){c.tty.Xa.fsync(c.tty)},read(c,g,v,D){if(!c.tty||!c.tty.Xa.sb)throw new Te(60);for(var q=0,ue=0;ue<D;ue++){try{var ge=c.tty.Xa.sb(c.tty)}catch{throw new Te(29)}if(ge===void 0&&q===0)throw new Te(6);if(ge==null)break;q++,g[v+ue]=ge}return q&&(c.node.timestamp=Date.now()),q},write(c,g,v,D){if(!c.tty||!c.tty.Xa.jb)throw new Te(60);try{for(var q=0;q<D;q++)c.tty.Xa.jb(c.tty,g[v+q])}catch{throw new Te(29)}return D&&(c.node.timestamp=Date.now()),q}},Ot={sb(){e:{if(!Ce.length){var c=null;if(b){var g=Buffer.alloc(256),v=0,D=process.stdin.fd;try{v=R.readSync(D,g)}catch(q){if(q.toString().includes("EOF"))v=0;else throw q}0<v?c=g.slice(0,v).toString("utf-8"):c=null}else typeof window<"u"&&typeof window.prompt=="function"?(c=window.prompt("Input: "),c!==null&&(c+=`
`)):typeof readline=="function"&&(c=readline(),c!==null&&(c+=`
`));if(!c){c=null;break e}Ce=ct(c,!0)}c=Ce.shift()}return c},jb(c,g){g===null||g===10?(B(O(c.output,0)),c.output=[]):g!=0&&c.output.push(g)},fsync(c){c.output&&0<c.output.length&&(B(O(c.output,0)),c.output=[])},Mb(){return{Ib:25856,Kb:5,Hb:191,Jb:35387,Gb:[3,28,127,21,4,0,1,0,17,19,26,0,18,15,23,22,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}},Nb(){return 0},Ob(){return[24,80]}},kt={jb(c,g){g===null||g===10?(G(O(c.output,0)),c.output=[]):g!=0&&c.output.push(g)},fsync(c){c.output&&0<c.output.length&&(G(O(c.output,0)),c.output=[])}};function Hn(c,g){var v=c.Ia?c.Ia.length:0;v>=g||(g=Math.max(g,v*(1048576>v?2:1.125)>>>0),v!=0&&(g=Math.max(g,256)),v=c.Ia,c.Ia=new Uint8Array(g),0<c.Ma&&c.Ia.set(v.subarray(0,c.Ma),0))}var Ge={Qa:null,Ra(){return Ge.createNode(null,"/",16895,0)},createNode(c,g,v,D){if((v&61440)===24576||(v&61440)===4096)throw new Te(63);return Ge.Qa||(Ge.Qa={dir:{node:{Pa:Ge.Ga.Pa,Oa:Ge.Ga.Oa,lookup:Ge.Ga.lookup,ab:Ge.Ga.ab,rename:Ge.Ga.rename,unlink:Ge.Ga.unlink,rmdir:Ge.Ga.rmdir,readdir:Ge.Ga.readdir,symlink:Ge.Ga.symlink},stream:{Ta:Ge.Ha.Ta}},file:{node:{Pa:Ge.Ga.Pa,Oa:Ge.Ga.Oa},stream:{Ta:Ge.Ha.Ta,read:Ge.Ha.read,write:Ge.Ha.write,lb:Ge.Ha.lb,bb:Ge.Ha.bb,cb:Ge.Ha.cb}},link:{node:{Pa:Ge.Ga.Pa,Oa:Ge.Ga.Oa,readlink:Ge.Ga.readlink},stream:{}},pb:{node:{Pa:Ge.Ga.Pa,Oa:Ge.Ga.Oa},stream:Me}}),v=Zn(c,g,v,D),tn(v.mode)?(v.Ga=Ge.Qa.dir.node,v.Ha=Ge.Qa.dir.stream,v.Ia={}):(v.mode&61440)===32768?(v.Ga=Ge.Qa.file.node,v.Ha=Ge.Qa.file.stream,v.Ma=0,v.Ia=null):(v.mode&61440)===40960?(v.Ga=Ge.Qa.link.node,v.Ha=Ge.Qa.link.stream):(v.mode&61440)===8192&&(v.Ga=Ge.Qa.pb.node,v.Ha=Ge.Qa.pb.stream),v.timestamp=Date.now(),c&&(c.Ia[g]=v,c.timestamp=v.timestamp),v},Lb(c){return c.Ia?c.Ia.subarray?c.Ia.subarray(0,c.Ma):new Uint8Array(c.Ia):new Uint8Array(0)},Ga:{Pa(c){var g={};return g.dev=(c.mode&61440)===8192?c.id:1,g.ino=c.id,g.mode=c.mode,g.nlink=1,g.uid=0,g.gid=0,g.rdev=c.rdev,tn(c.mode)?g.size=4096:(c.mode&61440)===32768?g.size=c.Ma:(c.mode&61440)===40960?g.size=c.link.length:g.size=0,g.atime=new Date(c.timestamp),g.mtime=new Date(c.timestamp),g.ctime=new Date(c.timestamp),g.zb=4096,g.blocks=Math.ceil(g.size/g.zb),g},Oa(c,g){if(g.mode!==void 0&&(c.mode=g.mode),g.timestamp!==void 0&&(c.timestamp=g.timestamp),g.size!==void 0&&(g=g.size,c.Ma!=g))if(g==0)c.Ia=null,c.Ma=0;else{var v=c.Ia;c.Ia=new Uint8Array(g),v&&c.Ia.set(v.subarray(0,Math.min(g,c.Ma))),c.Ma=g}},lookup(){throw vn[44]},ab(c,g,v,D){return Ge.createNode(c,g,v,D)},rename(c,g,v){if(tn(c.mode)){try{var D=cn(g,v)}catch{}if(D)for(var q in D.Ia)throw new Te(55)}delete c.parent.Ia[c.name],c.parent.timestamp=Date.now(),c.name=v,g.Ia[v]=c,g.timestamp=c.parent.timestamp,c.parent=g},unlink(c,g){delete c.Ia[g],c.timestamp=Date.now()},rmdir(c,g){var v=cn(c,g),D;for(D in v.Ia)throw new Te(55);delete c.Ia[g],c.timestamp=Date.now()},readdir(c){var g=[".",".."],v;for(v of Object.keys(c.Ia))g.push(v);return g},symlink(c,g,v){return c=Ge.createNode(c,g,41471,0),c.link=v,c},readlink(c){if((c.mode&61440)!==40960)throw new Te(28);return c.link}},Ha:{read(c,g,v,D,q){var ue=c.node.Ia;if(q>=c.node.Ma)return 0;if(c=Math.min(c.node.Ma-q,D),8<c&&ue.subarray)g.set(ue.subarray(q,q+c),v);else for(D=0;D<c;D++)g[v+D]=ue[q+D];return c},write(c,g,v,D,q,ue){if(g.buffer===Z.buffer&&(ue=!1),!D)return 0;if(c=c.node,c.timestamp=Date.now(),g.subarray&&(!c.Ia||c.Ia.subarray)){if(ue)return c.Ia=g.subarray(v,v+D),c.Ma=D;if(c.Ma===0&&q===0)return c.Ia=g.slice(v,v+D),c.Ma=D;if(q+D<=c.Ma)return c.Ia.set(g.subarray(v,v+D),q),D}if(Hn(c,q+D),c.Ia.subarray&&g.subarray)c.Ia.set(g.subarray(v,v+D),q);else for(ue=0;ue<D;ue++)c.Ia[q+ue]=g[v+ue];return c.Ma=Math.max(c.Ma,q+D),D},Ta(c,g,v){if(v===1?g+=c.position:v===2&&(c.node.mode&61440)===32768&&(g+=c.node.Ma),0>g)throw new Te(28);return g},lb(c,g,v){Hn(c.node,g+v),c.node.Ma=Math.max(c.node.Ma,g+v)},bb(c,g,v,D,q){if((c.node.mode&61440)!==32768)throw new Te(43);if(c=c.node.Ia,q&2||c.buffer!==Z.buffer){if((0<v||v+g<c.length)&&(c.subarray?c=c.subarray(v,v+g):c=Array.prototype.slice.call(c,v,v+g)),v=!0,g=65536*Math.ceil(g/65536),(q=zl(65536,g))?(ae.fill(0,q,q+g),g=q):g=0,!g)throw new Te(48);Z.set(c,g)}else v=!1,g=c.byteOffset;return{Db:g,ub:v}},cb(c,g,v,D){return Ge.Ha.write(c,g,0,D,v,!1),0}}},Bt=(c,g)=>{var v=0;return c&&(v|=365),g&&(v|=146),v},Dn=null,gr={},wn=[],cr=1,zt=null,Wn=!0,Te=null,vn={};function en(c,g={}){if(c=Pe(c),!c)return{path:"",node:null};if(g=Object.assign({qb:!0,kb:0},g),8<g.kb)throw new Te(32);c=c.split("/").filter(ge=>!!ge);for(var v=Dn,D="/",q=0;q<c.length;q++){var ue=q===c.length-1;if(ue&&g.parent)break;if(v=cn(v,c[q]),D=L(D+"/"+c[q]),v.Va&&(!ue||ue&&g.qb)&&(v=v.Va.root),!ue||g.Sa){for(ue=0;(v.mode&61440)===40960;)if(v=Dr(D),D=Pe(le(D),v),v=en(D,{kb:g.kb+1}).node,40<ue++)throw new Te(32)}}return{path:D,node:v}}function Rr(c){for(var g;;){if(c===c.parent)return c=c.Ra.tb,g?c[c.length-1]!=="/"?`${c}/${g}`:c+g:c;g=g?`${c.name}/${g}`:c.name,c=c.parent}}function Xn(c,g){for(var v=0,D=0;D<g.length;D++)v=(v<<5)-v+g.charCodeAt(D)|0;return(c+v>>>0)%zt.length}function it(c){var g=Xn(c.parent.id,c.name);if(zt[g]===c)zt[g]=c.Wa;else for(g=zt[g];g;){if(g.Wa===c){g.Wa=c.Wa;break}g=g.Wa}}function cn(c,g){var v;if(v=(v=vt(c,"x"))?v:c.Ga.lookup?0:2)throw new Te(v,c);for(v=zt[Xn(c.id,g)];v;v=v.Wa){var D=v.name;if(v.parent.id===c.id&&D===g)return v}return c.Ga.lookup(c,g)}function Zn(c,g,v,D){return c=new oa(c,g,v,D),g=Xn(c.parent.id,c.name),c.Wa=zt[g],zt[g]=c}function tn(c){return(c&61440)===16384}function Yt(c){var g=["r","w","rw"][c&3];return c&512&&(g+="w"),g}function vt(c,g){if(Wn)return 0;if(!g.includes("r")||c.mode&292){if(g.includes("w")&&!(c.mode&146)||g.includes("x")&&!(c.mode&73))return 2}else return 2;return 0}function ri(c,g){try{return cn(c,g),20}catch{}return vt(c,"wx")}function Ti(c,g,v){try{var D=cn(c,g)}catch(q){return q.Ka}if(c=vt(c,"wx"))return c;if(v){if(!tn(D.mode))return 54;if(D===D.parent||Rr(D)==="/")return 10}else if(tn(D.mode))return 31;return 0}function Pr(){for(var c=0;4096>=c;c++)if(!wn[c])return c;throw new Te(33)}function bt(c){if(c=wn[c],!c)throw new Te(8);return c}function Gs(c,g=-1){return is||(is=function(){this.$a={}},is.prototype={},Object.defineProperties(is.prototype,{object:{get(){return this.node},set(v){this.node=v}},flags:{get(){return this.$a.flags},set(v){this.$a.flags=v}},position:{get(){return this.$a.position},set(v){this.$a.position=v}}})),c=Object.assign(new is,c),g==-1&&(g=Pr()),c.fd=g,wn[g]=c}var Me={open(c){var g,v;c.Ha=gr[c.node.rdev].Ha,(v=(g=c.Ha).open)==null||v.call(g,c)},Ta(){throw new Te(70)}};function ne(c,g){gr[c]={Ha:g}}function Ee(c,g){var v=g==="/",D=!g;if(v&&Dn)throw new Te(10);if(!v&&!D){var q=en(g,{qb:!1});if(g=q.path,q=q.node,q.Va)throw new Te(10);if(!tn(q.mode))throw new Te(54)}g={type:c,Pb:{},tb:g,Cb:[]},c=c.Ra(g),c.Ra=g,g.root=c,v?Dn=c:q&&(q.Va=g,q.Ra&&q.Ra.Cb.push(g))}function Re(c,g,v){var D=en(c,{parent:!0}).node;if(c=fe(c),!c||c==="."||c==="..")throw new Te(28);var q=ri(D,c);if(q)throw new Te(q);if(!D.Ga.ab)throw new Te(63);return D.Ga.ab(D,c,g,v)}function st(c,g){return Re(c,(g!==void 0?g:511)&1023|16384,0)}function Xt(c,g,v){typeof v>"u"&&(v=g,g=438),Re(c,g|8192,v)}function nn(c,g){if(!Pe(c))throw new Te(44);var v=en(g,{parent:!0}).node;if(!v)throw new Te(44);g=fe(g);var D=ri(v,g);if(D)throw new Te(D);if(!v.Ga.symlink)throw new Te(63);v.Ga.symlink(v,g,c)}function jt(c){var g=en(c,{parent:!0}).node;c=fe(c);var v=cn(g,c),D=Ti(g,c,!0);if(D)throw new Te(D);if(!g.Ga.rmdir)throw new Te(63);if(v.Va)throw new Te(10);g.Ga.rmdir(g,c),it(v)}function hr(c){var g=en(c,{parent:!0}).node;if(!g)throw new Te(44);c=fe(c);var v=cn(g,c),D=Ti(g,c,!1);if(D)throw new Te(D);if(!g.Ga.unlink)throw new Te(63);if(v.Va)throw new Te(10);g.Ga.unlink(g,c),it(v)}function Dr(c){if(c=en(c).node,!c)throw new Te(44);if(!c.Ga.readlink)throw new Te(28);return Pe(Rr(c.parent),c.Ga.readlink(c))}function rn(c,g){if(c=en(c,{Sa:!g}).node,!c)throw new Te(44);if(!c.Ga.Pa)throw new Te(63);return c.Ga.Pa(c)}function ns(c){return rn(c,!0)}function ii(c,g){if(c=typeof c=="string"?en(c,{Sa:!0}).node:c,!c.Ga.Oa)throw new Te(63);c.Ga.Oa(c,{mode:g&4095|c.mode&-4096,timestamp:Date.now()})}function Qs(c,g){if(0>g)throw new Te(28);if(c=typeof c=="string"?en(c,{Sa:!0}).node:c,!c.Ga.Oa)throw new Te(63);if(tn(c.mode))throw new Te(31);if((c.mode&61440)!==32768)throw new Te(28);var v=vt(c,"w");if(v)throw new Te(v);c.Ga.Oa(c,{size:g,timestamp:Date.now()})}function Ii(c,g,v){if(c==="")throw new Te(44);if(typeof g=="string"){var D={r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090}[g];if(typeof D>"u")throw Error(`Unknown file open mode: ${g}`);g=D}if(v=g&64?(typeof v>"u"?438:v)&4095|32768:0,typeof c=="object")var q=c;else{c=L(c);try{q=en(c,{Sa:!(g&131072)}).node}catch{}}if(D=!1,g&64)if(q){if(g&128)throw new Te(20)}else q=Re(c,v,0),D=!0;if(!q)throw new Te(44);if((q.mode&61440)===8192&&(g&=-513),g&65536&&!tn(q.mode))throw new Te(54);if(!D&&(v=q?(q.mode&61440)===40960?32:tn(q.mode)&&(Yt(g)!=="r"||g&512)?31:vt(q,Yt(g)):44))throw new Te(v);return g&512&&!D&&Qs(q,0),g&=-131713,q=Gs({node:q,path:Rr(q),flags:g,seekable:!0,position:0,Ha:q.Ha,Fb:[],error:!1}),q.Ha.open&&q.Ha.open(q),!u.logReadFiles||g&1||(At||(At={}),c in At||(At[c]=1)),q}function na(c){if(c.fd===null)throw new Te(8);c.hb&&(c.hb=null);try{c.Ha.close&&c.Ha.close(c)}catch(g){throw g}finally{wn[c.fd]=null}c.fd=null}function Or(c,g,v){if(c.fd===null)throw new Te(8);if(!c.seekable||!c.Ha.Ta)throw new Te(70);if(v!=0&&v!=1&&v!=2)throw new Te(28);c.position=c.Ha.Ta(c,g,v),c.Fb=[]}function Vl(c,g,v,D,q){if(0>D||0>q)throw new Te(28);if(c.fd===null)throw new Te(8);if((c.flags&2097155)===1)throw new Te(8);if(tn(c.node.mode))throw new Te(31);if(!c.Ha.read)throw new Te(28);var ue=typeof q<"u";if(!ue)q=c.position;else if(!c.seekable)throw new Te(70);return g=c.Ha.read(c,g,v,D,q),ue||(c.position+=g),g}function Ul(c,g,v,D,q){if(0>D||0>q)throw new Te(28);if(c.fd===null)throw new Te(8);if(!(c.flags&2097155))throw new Te(8);if(tn(c.node.mode))throw new Te(31);if(!c.Ha.write)throw new Te(28);c.seekable&&c.flags&1024&&Or(c,0,2);var ue=typeof q<"u";if(!ue)q=c.position;else if(!c.seekable)throw new Te(70);return g=c.Ha.write(c,g,v,D,q,void 0),ue||(c.position+=g),g}function vh(c){var g,v=Ii(c,v||0);c=rn(c).size;var D=new Uint8Array(c);return Vl(v,D,0,c,0),g=D,na(v),g}function Ys(){Te||(Te=function(c,g){this.name="ErrnoError",this.node=g,this.Eb=function(v){this.Ka=v},this.Eb(c),this.message="FS error"},Te.prototype=Error(),Te.prototype.constructor=Te,[44].forEach(c=>{vn[c]=new Te(c),vn[c].stack="<generic error, no stack>"}))}var Fl;function rs(c,g,v){c=L("/dev/"+c);var D=Bt(!!g,!!v);$l||($l=64);var q=$l++<<8|0;ne(q,{open(ue){ue.seekable=!1},close(){var ue;(ue=v==null?void 0:v.buffer)!=null&&ue.length&&v(10)},read(ue,ge,Be,gt){for(var nt=0,sn=0;sn<gt;sn++){try{var fn=g()}catch{throw new Te(29)}if(fn===void 0&&nt===0)throw new Te(6);if(fn==null)break;nt++,ge[Be+sn]=fn}return nt&&(ue.node.timestamp=Date.now()),nt},write(ue,ge,Be,gt){for(var nt=0;nt<gt;nt++)try{v(ge[Be+nt])}catch{throw new Te(29)}return gt&&(ue.node.timestamp=Date.now()),nt}}),Xt(c,D,q)}var $l,Nt={},is,At;function si(c,g,v){if(g.charAt(0)==="/")return g;if(c=c===-100?"/":bt(c).path,g.length==0){if(!v)throw new Te(44);return c}return L(c+"/"+g)}function Xs(c,g,v){try{var D=c(g)}catch(ue){if(ue&&ue.node&&L(g)!==L(Rr(ue.node)))return-54;throw ue}X[v>>2]=D.dev,X[v+4>>2]=D.mode,T[v+8>>2]=D.nlink,X[v+12>>2]=D.uid,X[v+16>>2]=D.gid,X[v+20>>2]=D.rdev,w=[D.size>>>0,(V=D.size,1<=+Math.abs(V)?0<V?+Math.floor(V/4294967296)>>>0:~~+Math.ceil((V-+(~~V>>>0))/4294967296)>>>0:0)],X[v+24>>2]=w[0],X[v+28>>2]=w[1],X[v+32>>2]=4096,X[v+36>>2]=D.blocks,c=D.atime.getTime(),g=D.mtime.getTime();var q=D.ctime.getTime();return w=[Math.floor(c/1e3)>>>0,(V=Math.floor(c/1e3),1<=+Math.abs(V)?0<V?+Math.floor(V/4294967296)>>>0:~~+Math.ceil((V-+(~~V>>>0))/4294967296)>>>0:0)],X[v+40>>2]=w[0],X[v+44>>2]=w[1],T[v+48>>2]=c%1e3*1e3,w=[Math.floor(g/1e3)>>>0,(V=Math.floor(g/1e3),1<=+Math.abs(V)?0<V?+Math.floor(V/4294967296)>>>0:~~+Math.ceil((V-+(~~V>>>0))/4294967296)>>>0:0)],X[v+56>>2]=w[0],X[v+60>>2]=w[1],T[v+64>>2]=g%1e3*1e3,w=[Math.floor(q/1e3)>>>0,(V=Math.floor(q/1e3),1<=+Math.abs(V)?0<V?+Math.floor(V/4294967296)>>>0:~~+Math.ceil((V-+(~~V>>>0))/4294967296)>>>0:0)],X[v+72>>2]=w[0],X[v+76>>2]=w[1],T[v+80>>2]=q%1e3*1e3,w=[D.ino>>>0,(V=D.ino,1<=+Math.abs(V)?0<V?+Math.floor(V/4294967296)>>>0:~~+Math.ceil((V-+(~~V>>>0))/4294967296)>>>0:0)],X[v+88>>2]=w[0],X[v+92>>2]=w[1],0}var Zs=void 0;function Js(){var c=X[+Zs>>2];return Zs+=4,c}var ss=(c,g)=>g+2097152>>>0<4194305-!!c?(c>>>0)+4294967296*g:NaN,yh=[0,31,60,91,121,152,182,213,244,274,305,335],ra=[0,31,59,90,120,151,181,212,243,273,304,334],Ai=c=>{var g=Fe(c)+1,v=ro(g);return v&&rt(c,ae,v,g),v},eo={},os=()=>{if(!qt){var c={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:f||"./this.program"},g;for(g in eo)eo[g]===void 0?delete c[g]:c[g]=eo[g];var v=[];for(g in c)v.push(`${g}=${c[g]}`);qt=v}return qt},qt,ia=c=>{var g=Fe(c)+1,v=Nr(g);return rt(c,ae,v,g),v},bh=(c,g,v,D)=>{var q={string:nt=>{var sn=0;return nt!=null&&nt!==0&&(sn=ia(nt)),sn},array:nt=>{var sn=Nr(nt.length);return Z.set(nt,sn),sn}};c=u["_"+c];var ue=[],ge=0;if(D)for(var Be=0;Be<D.length;Be++){var gt=q[v[Be]];gt?(ge===0&&(ge=ls()),ue[Be]=gt(D[Be])):ue[Be]=D[Be]}return v=c.apply(null,ue),v=function(nt){return ge!==0&&xi(ge),g==="string"?nt?O(ae,nt):"":g==="boolean"?!!nt:nt}(v)},to=0,as=(c,g)=>(g=g==1?Nr(c.length):ro(c.length),c.subarray||c.slice||(c=new Uint8Array(c)),ae.set(c,g),g),oi,sa=[],_r,ai=c=>{oi.delete(_r.get(c)),_r.set(c,null),sa.push(c)},no=(c,g)=>{if(!oi){oi=new WeakMap;var v=_r.length;if(oi)for(var D=0;D<0+v;D++){var q=_r.get(D);q&&oi.set(q,D)}}if(v=oi.get(c)||0)return v;if(sa.length)v=sa.pop();else{try{_r.grow(1)}catch(Be){throw Be instanceof RangeError?"Unable to grow wasm table. Set ALLOW_TABLE_GROWTH.":Be}v=_r.length-1}try{_r.set(v,c)}catch(Be){if(!(Be instanceof TypeError))throw Be;if(typeof WebAssembly.Function=="function"){D=WebAssembly.Function,q={i:"i32",j:"i64",f:"f32",d:"f64",e:"externref",p:"i32"};for(var ue={parameters:[],results:g[0]=="v"?[]:[q[g[0]]]},ge=1;ge<g.length;++ge)ue.parameters.push(q[g[ge]]);g=new D(ue,c)}else{for(D=[1],q=g.slice(0,1),g=g.slice(1),ue={i:127,p:127,j:126,f:125,d:124,e:111},D.push(96),ge=g.length,128>ge?D.push(ge):D.push(ge%128|128,ge>>7),ge=0;ge<g.length;++ge)D.push(ue[g[ge]]);q=="v"?D.push(0):D.push(1,ue[q]),g=[0,97,115,109,1,0,0,0,1],q=D.length,128>q?g.push(q):g.push(q%128|128,q>>7),g.push.apply(g,D),g.push(2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0),g=new WebAssembly.Module(new Uint8Array(g)),g=new WebAssembly.Instance(g,{e:{f:c}}).exports.f}_r.set(v,g)}return oi.set(c,v),v};function oa(c,g,v,D){c||(c=this),this.parent=c,this.Ra=c.Ra,this.Va=null,this.id=cr++,this.name=g,this.mode=v,this.Ga={},this.Ha={},this.rdev=D}Object.defineProperties(oa.prototype,{read:{get:function(){return(this.mode&365)===365},set:function(c){c?this.mode|=365:this.mode&=-366}},write:{get:function(){return(this.mode&146)===146},set:function(c){c?this.mode|=146:this.mode&=-147}}}),Ys(),zt=Array(4096),Ee(Ge,"/"),st("/tmp"),st("/home"),st("/home/web_user"),function(){st("/dev"),ne(259,{read:()=>0,write:(D,q,ue,ge)=>ge}),Xt("/dev/null",259),pt(1280,Ot),pt(1536,kt),Xt("/dev/tty",1280),Xt("/dev/tty1",1536);var c=new Uint8Array(1024),g=0,v=()=>(g===0&&(g=be(c).byteLength),c[--g]);rs("random",v),rs("urandom",v),st("/dev/shm"),st("/dev/shm/tmp")}(),function(){st("/proc");var c=st("/proc/self");st("/proc/self/fd"),Ee({Ra(){var g=Zn(c,"fd",16895,73);return g.Ga={lookup(v,D){var q=bt(+D);return v={parent:null,Ra:{tb:"fake"},Ga:{readlink:()=>q.path}},v.parent=v}},g}},"/proc/self/fd")}();var kh={a:(c,g,v,D)=>{_e(`Assertion failed: ${c?O(ae,c):""}, at: `+[g?g?O(ae,g):"":"unknown filename",v,D?D?O(ae,D):"":"unknown function"])},h:function(c,g){try{return c=c?O(ae,c):"",ii(c,g),0}catch(v){if(typeof Nt>"u"||v.name!=="ErrnoError")throw v;return-v.Ka}},H:function(c,g,v){try{if(g=g?O(ae,g):"",g=si(c,g),v&-8)return-28;var D=en(g,{Sa:!0}).node;return D?(c="",v&4&&(c+="r"),v&2&&(c+="w"),v&1&&(c+="x"),c&&vt(D,c)?-2:0):-44}catch(q){if(typeof Nt>"u"||q.name!=="ErrnoError")throw q;return-q.Ka}},i:function(c,g){try{var v=bt(c);return ii(v.node,g),0}catch(D){if(typeof Nt>"u"||D.name!=="ErrnoError")throw D;return-D.Ka}},g:function(c){try{var g=bt(c).node,v=typeof g=="string"?en(g,{Sa:!0}).node:g;if(!v.Ga.Oa)throw new Te(63);return v.Ga.Oa(v,{timestamp:Date.now()}),0}catch(D){if(typeof Nt>"u"||D.name!=="ErrnoError")throw D;return-D.Ka}},b:function(c,g,v){Zs=v;try{var D=bt(c);switch(g){case 0:var q=Js();if(0>q)return-28;for(;wn[q];)q++;return Gs(D,q).fd;case 1:case 2:return 0;case 3:return D.flags;case 4:return q=Js(),D.flags|=q,0;case 5:return q=Js(),U[q+0>>1]=2,0;case 6:case 7:return 0;case 16:case 8:return-28;case 9:return X[Bl()>>2]=28,-1;default:return-28}}catch(ue){if(typeof Nt>"u"||ue.name!=="ErrnoError")throw ue;return-ue.Ka}},f:function(c,g){try{var v=bt(c);return Xs(rn,v.path,g)}catch(D){if(typeof Nt>"u"||D.name!=="ErrnoError")throw D;return-D.Ka}},n:function(c,g,v){g=ss(g,v);try{if(isNaN(g))return 61;var D=bt(c);if(!(D.flags&2097155))throw new Te(28);return Qs(D.node,g),0}catch(q){if(typeof Nt>"u"||q.name!=="ErrnoError")throw q;return-q.Ka}},C:function(c,g){try{if(g===0)return-28;var v=Fe("/")+1;return g<v?-68:(rt("/",ae,c,g),v)}catch(D){if(typeof Nt>"u"||D.name!=="ErrnoError")throw D;return-D.Ka}},F:function(c,g){try{return c=c?O(ae,c):"",Xs(ns,c,g)}catch(v){if(typeof Nt>"u"||v.name!=="ErrnoError")throw v;return-v.Ka}},z:function(c,g,v){try{return g=g?O(ae,g):"",g=si(c,g),g=L(g),g[g.length-1]==="/"&&(g=g.substr(0,g.length-1)),st(g,v),0}catch(D){if(typeof Nt>"u"||D.name!=="ErrnoError")throw D;return-D.Ka}},E:function(c,g,v,D){try{g=g?O(ae,g):"";var q=D&256;return g=si(c,g,D&4096),Xs(q?ns:rn,g,v)}catch(ue){if(typeof Nt>"u"||ue.name!=="ErrnoError")throw ue;return-ue.Ka}},y:function(c,g,v,D){Zs=D;try{g=g?O(ae,g):"",g=si(c,g);var q=D?Js():0;return Ii(g,v,q).fd}catch(ue){if(typeof Nt>"u"||ue.name!=="ErrnoError")throw ue;return-ue.Ka}},w:function(c,g,v,D){try{if(g=g?O(ae,g):"",g=si(c,g),0>=D)return-28;var q=Dr(g),ue=Math.min(D,Fe(q)),ge=Z[v+ue];return rt(q,ae,v,D+1),Z[v+ue]=ge,ue}catch(Be){if(typeof Nt>"u"||Be.name!=="ErrnoError")throw Be;return-Be.Ka}},v:function(c){try{return c=c?O(ae,c):"",jt(c),0}catch(g){if(typeof Nt>"u"||g.name!=="ErrnoError")throw g;return-g.Ka}},G:function(c,g){try{return c=c?O(ae,c):"",Xs(rn,c,g)}catch(v){if(typeof Nt>"u"||v.name!=="ErrnoError")throw v;return-v.Ka}},r:function(c,g,v){try{return g=g?O(ae,g):"",g=si(c,g),v===0?hr(g):v===512?jt(g):_e("Invalid flags passed to unlinkat"),0}catch(D){if(typeof Nt>"u"||D.name!=="ErrnoError")throw D;return-D.Ka}},q:function(c,g,v){try{if(g=g?O(ae,g):"",g=si(c,g,!0),v){var D=T[v>>2]+4294967296*X[v+4>>2],q=X[v+8>>2];ue=1e3*D+q/1e6,v+=16,D=T[v>>2]+4294967296*X[v+4>>2],q=X[v+8>>2],ge=1e3*D+q/1e6}else var ue=Date.now(),ge=ue;c=ue;var Be=en(g,{Sa:!0}).node;return Be.Ga.Oa(Be,{timestamp:Math.max(c,ge)}),0}catch(gt){if(typeof Nt>"u"||gt.name!=="ErrnoError")throw gt;return-gt.Ka}},l:function(c,g,v){c=new Date(1e3*ss(c,g)),X[v>>2]=c.getSeconds(),X[v+4>>2]=c.getMinutes(),X[v+8>>2]=c.getHours(),X[v+12>>2]=c.getDate(),X[v+16>>2]=c.getMonth(),X[v+20>>2]=c.getFullYear()-1900,X[v+24>>2]=c.getDay(),g=c.getFullYear(),X[v+28>>2]=(g%4!==0||g%100===0&&g%400!==0?ra:yh)[c.getMonth()]+c.getDate()-1|0,X[v+36>>2]=-(60*c.getTimezoneOffset()),g=new Date(c.getFullYear(),6,1).getTimezoneOffset();var D=new Date(c.getFullYear(),0,1).getTimezoneOffset();X[v+32>>2]=(g!=D&&c.getTimezoneOffset()==Math.min(D,g))|0},j:function(c,g,v,D,q,ue,ge,Be){q=ss(q,ue);try{if(isNaN(q))return 61;var gt=bt(D);if(g&2&&!(v&2)&&(gt.flags&2097155)!==2)throw new Te(2);if((gt.flags&2097155)===1)throw new Te(2);if(!gt.Ha.bb)throw new Te(43);var nt=gt.Ha.bb(gt,c,q,g,v),sn=nt.Db;return X[ge>>2]=nt.ub,T[Be>>2]=sn,0}catch(fn){if(typeof Nt>"u"||fn.name!=="ErrnoError")throw fn;return-fn.Ka}},k:function(c,g,v,D,q,ue,ge){ue=ss(ue,ge);try{if(isNaN(ue))return 61;var Be=bt(q);if(v&2){if((Be.node.mode&61440)!==32768)throw new Te(43);if(!(D&2)){var gt=ae.slice(c,c+g);Be.Ha.cb&&Be.Ha.cb(Be,gt,ue,g,D)}}}catch(nt){if(typeof Nt>"u"||nt.name!=="ErrnoError")throw nt;return-nt.Ka}},s:(c,g,v)=>{function D(gt){return(gt=gt.toTimeString().match(/\(([A-Za-z ]+)\)$/))?gt[1]:"GMT"}var q=new Date().getFullYear(),ue=new Date(q,0,1),ge=new Date(q,6,1);q=ue.getTimezoneOffset();var Be=ge.getTimezoneOffset();T[c>>2]=60*Math.max(q,Be),X[g>>2]=+(q!=Be),c=D(ue),g=D(ge),c=Ai(c),g=Ai(g),Be<q?(T[v>>2]=c,T[v+4>>2]=g):(T[v>>2]=g,T[v+4>>2]=c)},d:()=>Date.now(),t:()=>2147483648,c:()=>performance.now(),o:c=>{var g=ae.length;if(c>>>=0,2147483648<c)return!1;for(var v=1;4>=v;v*=2){var D=g*(1+.2/v);D=Math.min(D,c+100663296);var q=Math;D=Math.max(c,D);e:{q=(q.min.call(q,2147483648,D+(65536-D%65536)%65536)-te.buffer.byteLength+65535)/65536;try{te.grow(q),W();var ue=1;break e}catch{}ue=void 0}if(ue)return!0}return!1},A:(c,g)=>{var v=0;return os().forEach((D,q)=>{var ue=g+v;for(q=T[c+4*q>>2]=ue,ue=0;ue<D.length;++ue)Z[q++>>0]=D.charCodeAt(ue);Z[q>>0]=0,v+=D.length+1}),0},B:(c,g)=>{var v=os();T[c>>2]=v.length;var D=0;return v.forEach(q=>D+=q.length+1),T[g>>2]=D,0},e:function(c){try{var g=bt(c);return na(g),0}catch(v){if(typeof Nt>"u"||v.name!=="ErrnoError")throw v;return v.Ka}},p:function(c,g){try{var v=bt(c);return Z[g>>0]=v.tty?2:tn(v.mode)?3:(v.mode&61440)===40960?7:4,U[g+2>>1]=0,w=[0,(V=0,1<=+Math.abs(V)?0<V?+Math.floor(V/4294967296)>>>0:~~+Math.ceil((V-+(~~V>>>0))/4294967296)>>>0:0)],X[g+8>>2]=w[0],X[g+12>>2]=w[1],w=[0,(V=0,1<=+Math.abs(V)?0<V?+Math.floor(V/4294967296)>>>0:~~+Math.ceil((V-+(~~V>>>0))/4294967296)>>>0:0)],X[g+16>>2]=w[0],X[g+20>>2]=w[1],0}catch(D){if(typeof Nt>"u"||D.name!=="ErrnoError")throw D;return D.Ka}},x:function(c,g,v,D){try{e:{var q=bt(c);c=g;for(var ue,ge=g=0;ge<v;ge++){var Be=T[c>>2],gt=T[c+4>>2];c+=8;var nt=Vl(q,Z,Be,gt,ue);if(0>nt){var sn=-1;break e}if(g+=nt,nt<gt)break;typeof ue<"u"&&(ue+=nt)}sn=g}return T[D>>2]=sn,0}catch(fn){if(typeof Nt>"u"||fn.name!=="ErrnoError")throw fn;return fn.Ka}},m:function(c,g,v,D,q){g=ss(g,v);try{if(isNaN(g))return 61;var ue=bt(c);return Or(ue,g,D),w=[ue.position>>>0,(V=ue.position,1<=+Math.abs(V)?0<V?+Math.floor(V/4294967296)>>>0:~~+Math.ceil((V-+(~~V>>>0))/4294967296)>>>0:0)],X[q>>2]=w[0],X[q+4>>2]=w[1],ue.hb&&g===0&&D===0&&(ue.hb=null),0}catch(ge){if(typeof Nt>"u"||ge.name!=="ErrnoError")throw ge;return ge.Ka}},D:function(c){var v;try{var g=bt(c);return(v=g.Ha)!=null&&v.fsync?g.Ha.fsync(g):0}catch(D){if(typeof Nt>"u"||D.name!=="ErrnoError")throw D;return D.Ka}},u:function(c,g,v,D){try{e:{var q=bt(c);c=g;for(var ue,ge=g=0;ge<v;ge++){var Be=T[c>>2],gt=T[c+4>>2];c+=8;var nt=Ul(q,Z,Be,gt,ue);if(0>nt){var sn=-1;break e}g+=nt,typeof ue<"u"&&(ue+=nt)}sn=g}return T[D>>2]=sn,0}catch(fn){if(typeof Nt>"u"||fn.name!=="ErrnoError")throw fn;return fn.Ka}}},Le=function(){var v;function c(D){var q;return Le=D.exports,te=Le.I,W(),_r=Le.Aa,ie.unshift(Le.J),Q--,(q=u.monitorRunDependencies)==null||q.call(u,Q),Q==0&&ve&&(D=ve,ve=null,D()),Le}var g={a:kh};if(Q++,(v=u.monitorRunDependencies)==null||v.call(u,Q),u.instantiateWasm)try{return u.instantiateWasm(g,c)}catch(D){return G(`Module.instantiateWasm callback failed with error: ${D}`),!1}return z(g,function(D){c(D.instance)}),{}}();u._sqlite3_free=c=>(u._sqlite3_free=Le.K)(c),u._sqlite3_value_text=c=>(u._sqlite3_value_text=Le.L)(c);var Bl=()=>(Bl=Le.M)();u._sqlite3_prepare_v2=(c,g,v,D,q)=>(u._sqlite3_prepare_v2=Le.N)(c,g,v,D,q),u._sqlite3_step=c=>(u._sqlite3_step=Le.O)(c),u._sqlite3_finalize=c=>(u._sqlite3_finalize=Le.P)(c),u._sqlite3_reset=c=>(u._sqlite3_reset=Le.Q)(c),u._sqlite3_clear_bindings=c=>(u._sqlite3_clear_bindings=Le.R)(c),u._sqlite3_value_blob=c=>(u._sqlite3_value_blob=Le.S)(c),u._sqlite3_value_bytes=c=>(u._sqlite3_value_bytes=Le.T)(c),u._sqlite3_value_double=c=>(u._sqlite3_value_double=Le.U)(c),u._sqlite3_value_int=c=>(u._sqlite3_value_int=Le.V)(c),u._sqlite3_value_type=c=>(u._sqlite3_value_type=Le.W)(c),u._sqlite3_result_blob=(c,g,v,D)=>(u._sqlite3_result_blob=Le.X)(c,g,v,D),u._sqlite3_result_double=(c,g)=>(u._sqlite3_result_double=Le.Y)(c,g),u._sqlite3_result_error=(c,g,v)=>(u._sqlite3_result_error=Le.Z)(c,g,v),u._sqlite3_result_int=(c,g)=>(u._sqlite3_result_int=Le._)(c,g),u._sqlite3_result_int64=(c,g,v)=>(u._sqlite3_result_int64=Le.$)(c,g,v),u._sqlite3_result_null=c=>(u._sqlite3_result_null=Le.aa)(c),u._sqlite3_result_text=(c,g,v,D)=>(u._sqlite3_result_text=Le.ba)(c,g,v,D),u._sqlite3_aggregate_context=(c,g)=>(u._sqlite3_aggregate_context=Le.ca)(c,g),u._sqlite3_column_count=c=>(u._sqlite3_column_count=Le.da)(c),u._sqlite3_data_count=c=>(u._sqlite3_data_count=Le.ea)(c),u._sqlite3_column_blob=(c,g)=>(u._sqlite3_column_blob=Le.fa)(c,g),u._sqlite3_column_bytes=(c,g)=>(u._sqlite3_column_bytes=Le.ga)(c,g),u._sqlite3_column_double=(c,g)=>(u._sqlite3_column_double=Le.ha)(c,g),u._sqlite3_column_text=(c,g)=>(u._sqlite3_column_text=Le.ia)(c,g),u._sqlite3_column_type=(c,g)=>(u._sqlite3_column_type=Le.ja)(c,g),u._sqlite3_column_name=(c,g)=>(u._sqlite3_column_name=Le.ka)(c,g),u._sqlite3_bind_blob=(c,g,v,D,q)=>(u._sqlite3_bind_blob=Le.la)(c,g,v,D,q),u._sqlite3_bind_double=(c,g,v)=>(u._sqlite3_bind_double=Le.ma)(c,g,v),u._sqlite3_bind_int=(c,g,v)=>(u._sqlite3_bind_int=Le.na)(c,g,v),u._sqlite3_bind_text=(c,g,v,D,q)=>(u._sqlite3_bind_text=Le.oa)(c,g,v,D,q),u._sqlite3_bind_parameter_index=(c,g)=>(u._sqlite3_bind_parameter_index=Le.pa)(c,g),u._sqlite3_sql=c=>(u._sqlite3_sql=Le.qa)(c),u._sqlite3_normalized_sql=c=>(u._sqlite3_normalized_sql=Le.ra)(c),u._sqlite3_errmsg=c=>(u._sqlite3_errmsg=Le.sa)(c),u._sqlite3_exec=(c,g,v,D,q)=>(u._sqlite3_exec=Le.ta)(c,g,v,D,q),u._sqlite3_changes=c=>(u._sqlite3_changes=Le.ua)(c),u._sqlite3_close_v2=c=>(u._sqlite3_close_v2=Le.va)(c),u._sqlite3_create_function_v2=(c,g,v,D,q,ue,ge,Be,gt)=>(u._sqlite3_create_function_v2=Le.wa)(c,g,v,D,q,ue,ge,Be,gt),u._sqlite3_open=(c,g)=>(u._sqlite3_open=Le.xa)(c,g);var ro=u._malloc=c=>(ro=u._malloc=Le.ya)(c),io=u._free=c=>(io=u._free=Le.za)(c);u._RegisterExtensionFunctions=c=>(u._RegisterExtensionFunctions=Le.Ba)(c);var zl=(c,g)=>(zl=Le.Ca)(c,g),ls=()=>(ls=Le.Da)(),xi=c=>(xi=Le.Ea)(c),Nr=c=>(Nr=Le.Fa)(c);u.stackAlloc=Nr,u.stackSave=ls,u.stackRestore=xi,u.cwrap=(c,g,v,D)=>{var q=!v||v.every(ue=>ue==="number"||ue==="boolean");return g!=="string"&&q&&!D?u["_"+c]:function(){return bh(c,g,v,arguments)}},u.addFunction=no,u.removeFunction=ai,u.UTF8ToString=Y,u.ALLOC_NORMAL=to,u.allocate=as,u.allocateUTF8OnStack=ia;var us;ve=function c(){us||jl(),us||(ve=c)};function jl(){function c(){if(!us&&(us=!0,u.calledRun=!0,!ee)){if(u.noFSInit||Fl||(Fl=!0,Ys(),u.stdin=u.stdin,u.stdout=u.stdout,u.stderr=u.stderr,u.stdin?rs("stdin",u.stdin):nn("/dev/tty","/dev/stdin"),u.stdout?rs("stdout",null,u.stdout):nn("/dev/tty","/dev/stdout"),u.stderr?rs("stderr",null,u.stderr):nn("/dev/tty1","/dev/stderr"),Ii("/dev/stdin",0),Ii("/dev/stdout",1),Ii("/dev/stderr",1)),Wn=!1,j(ie),u.onRuntimeInitialized&&u.onRuntimeInitialized(),u.postRun)for(typeof u.postRun=="function"&&(u.postRun=[u.postRun]);u.postRun.length;){var g=u.postRun.shift();de.unshift(g)}j(de)}}if(!(0<Q)){if(u.preRun)for(typeof u.preRun=="function"&&(u.preRun=[u.preRun]);u.preRun.length;)J();j(ce),0<Q||(u.setStatus?(u.setStatus("Running..."),setTimeout(function(){setTimeout(function(){u.setStatus("")},1),c()},1)):c())}}if(u.preInit)for(typeof u.preInit=="function"&&(u.preInit=[u.preInit]);0<u.preInit.length;)u.preInit.pop()();return jl(),a}),n)};t.exports=r,t.exports.default=r})(vb);var sO=vb.exports;const oO=_h(sO);var fm={exports:{}};fm.exports;(function(t){(function(e,n,r){function i(l){var u=this,d=a();u.next=function(){var f=2091639*u.s0+u.c*23283064365386963e-26;return u.s0=u.s1,u.s1=u.s2,u.s2=f-(u.c=f|0)},u.c=1,u.s0=d(" "),u.s1=d(" "),u.s2=d(" "),u.s0-=d(l),u.s0<0&&(u.s0+=1),u.s1-=d(l),u.s1<0&&(u.s1+=1),u.s2-=d(l),u.s2<0&&(u.s2+=1),d=null}function s(l,u){return u.c=l.c,u.s0=l.s0,u.s1=l.s1,u.s2=l.s2,u}function o(l,u){var d=new i(l),f=u&&u.state,p=d.next;return p.int32=function(){return d.next()*4294967296|0},p.double=function(){return p()+(p()*2097152|0)*11102230246251565e-32},p.quick=p,f&&(typeof f=="object"&&s(f,d),p.state=function(){return s(d,{})}),p}function a(){var l=4022871197,u=function(d){d=String(d);for(var f=0;f<d.length;f++){l+=d.charCodeAt(f);var p=.02519603282416938*l;l=p>>>0,p-=l,p*=l,l=p>>>0,p-=l,l+=p*4294967296}return(l>>>0)*23283064365386963e-26};return u}n&&n.exports?n.exports=o:r&&r.amd?r(function(){return o}):this.alea=o})(kn,t,!1)})(fm);var aO=fm.exports,pm={exports:{}};pm.exports;(function(t){(function(e,n,r){function i(a){var l=this,u="";l.x=0,l.y=0,l.z=0,l.w=0,l.next=function(){var f=l.x^l.x<<11;return l.x=l.y,l.y=l.z,l.z=l.w,l.w^=l.w>>>19^f^f>>>8},a===(a|0)?l.x=a:u+=a;for(var d=0;d<u.length+64;d++)l.x^=u.charCodeAt(d)|0,l.next()}function s(a,l){return l.x=a.x,l.y=a.y,l.z=a.z,l.w=a.w,l}function o(a,l){var u=new i(a),d=l&&l.state,f=function(){return(u.next()>>>0)/4294967296};return f.double=function(){do var p=u.next()>>>11,m=(u.next()>>>0)/4294967296,b=(p+m)/(1<<21);while(b===0);return b},f.int32=u.next,f.quick=f,d&&(typeof d=="object"&&s(d,u),f.state=function(){return s(u,{})}),f}n&&n.exports?n.exports=o:r&&r.amd?r(function(){return o}):this.xor128=o})(kn,t,!1)})(pm);var lO=pm.exports,mm={exports:{}};mm.exports;(function(t){(function(e,n,r){function i(a){var l=this,u="";l.next=function(){var f=l.x^l.x>>>2;return l.x=l.y,l.y=l.z,l.z=l.w,l.w=l.v,(l.d=l.d+362437|0)+(l.v=l.v^l.v<<4^(f^f<<1))|0},l.x=0,l.y=0,l.z=0,l.w=0,l.v=0,a===(a|0)?l.x=a:u+=a;for(var d=0;d<u.length+64;d++)l.x^=u.charCodeAt(d)|0,d==u.length&&(l.d=l.x<<10^l.x>>>4),l.next()}function s(a,l){return l.x=a.x,l.y=a.y,l.z=a.z,l.w=a.w,l.v=a.v,l.d=a.d,l}function o(a,l){var u=new i(a),d=l&&l.state,f=function(){return(u.next()>>>0)/4294967296};return f.double=function(){do var p=u.next()>>>11,m=(u.next()>>>0)/4294967296,b=(p+m)/(1<<21);while(b===0);return b},f.int32=u.next,f.quick=f,d&&(typeof d=="object"&&s(d,u),f.state=function(){return s(u,{})}),f}n&&n.exports?n.exports=o:r&&r.amd?r(function(){return o}):this.xorwow=o})(kn,t,!1)})(mm);var uO=mm.exports,gm={exports:{}};gm.exports;(function(t){(function(e,n,r){function i(a){var l=this;l.next=function(){var d=l.x,f=l.i,p,m;return p=d[f],p^=p>>>7,m=p^p<<24,p=d[f+1&7],m^=p^p>>>10,p=d[f+3&7],m^=p^p>>>3,p=d[f+4&7],m^=p^p<<7,p=d[f+7&7],p=p^p<<13,m^=p^p<<9,d[f]=m,l.i=f+1&7,m};function u(d,f){var p,m=[];if(f===(f|0))m[0]=f;else for(f=""+f,p=0;p<f.length;++p)m[p&7]=m[p&7]<<15^f.charCodeAt(p)+m[p+1&7]<<13;for(;m.length<8;)m.push(0);for(p=0;p<8&&m[p]===0;++p);for(p==8?m[7]=-1:m[p],d.x=m,d.i=0,p=256;p>0;--p)d.next()}u(l,a)}function s(a,l){return l.x=a.x.slice(),l.i=a.i,l}function o(a,l){a==null&&(a=+new Date);var u=new i(a),d=l&&l.state,f=function(){return(u.next()>>>0)/4294967296};return f.double=function(){do var p=u.next()>>>11,m=(u.next()>>>0)/4294967296,b=(p+m)/(1<<21);while(b===0);return b},f.int32=u.next,f.quick=f,d&&(d.x&&s(d,u),f.state=function(){return s(u,{})}),f}n&&n.exports?n.exports=o:r&&r.amd?r(function(){return o}):this.xorshift7=o})(kn,t,!1)})(gm);var cO=gm.exports,_m={exports:{}};_m.exports;(function(t){(function(e,n,r){function i(a){var l=this;l.next=function(){var d=l.w,f=l.X,p=l.i,m,b;return l.w=d=d+1640531527|0,b=f[p+34&127],m=f[p=p+1&127],b^=b<<13,m^=m<<17,b^=b>>>15,m^=m>>>12,b=f[p]=b^m,l.i=p,b+(d^d>>>16)|0};function u(d,f){var p,m,b,y,A,I=[],x=128;for(f===(f|0)?(m=f,f=null):(f=f+"\0",m=0,x=Math.max(x,f.length)),b=0,y=-32;y<x;++y)f&&(m^=f.charCodeAt((y+32)%f.length)),y===0&&(A=m),m^=m<<10,m^=m>>>15,m^=m<<4,m^=m>>>13,y>=0&&(A=A+1640531527|0,p=I[y&127]^=m+A,b=p==0?b+1:0);for(b>=128&&(I[(f&&f.length||0)&127]=-1),b=127,y=4*128;y>0;--y)m=I[b+34&127],p=I[b=b+1&127],m^=m<<13,p^=p<<17,m^=m>>>15,p^=p>>>12,I[b]=m^p;d.w=A,d.X=I,d.i=b}u(l,a)}function s(a,l){return l.i=a.i,l.w=a.w,l.X=a.X.slice(),l}function o(a,l){a==null&&(a=+new Date);var u=new i(a),d=l&&l.state,f=function(){return(u.next()>>>0)/4294967296};return f.double=function(){do var p=u.next()>>>11,m=(u.next()>>>0)/4294967296,b=(p+m)/(1<<21);while(b===0);return b},f.int32=u.next,f.quick=f,d&&(d.X&&s(d,u),f.state=function(){return s(u,{})}),f}n&&n.exports?n.exports=o:r&&r.amd?r(function(){return o}):this.xor4096=o})(kn,t,!1)})(_m);var hO=_m.exports,wm={exports:{}};wm.exports;(function(t){(function(e,n,r){function i(a){var l=this,u="";l.next=function(){var f=l.b,p=l.c,m=l.d,b=l.a;return f=f<<25^f>>>7^p,p=p-m|0,m=m<<24^m>>>8^b,b=b-f|0,l.b=f=f<<20^f>>>12^p,l.c=p=p-m|0,l.d=m<<16^p>>>16^b,l.a=b-f|0},l.a=0,l.b=0,l.c=-1640531527,l.d=1367130551,a===Math.floor(a)?(l.a=a/4294967296|0,l.b=a|0):u+=a;for(var d=0;d<u.length+20;d++)l.b^=u.charCodeAt(d)|0,l.next()}function s(a,l){return l.a=a.a,l.b=a.b,l.c=a.c,l.d=a.d,l}function o(a,l){var u=new i(a),d=l&&l.state,f=function(){return(u.next()>>>0)/4294967296};return f.double=function(){do var p=u.next()>>>11,m=(u.next()>>>0)/4294967296,b=(p+m)/(1<<21);while(b===0);return b},f.int32=u.next,f.quick=f,d&&(typeof d=="object"&&s(d,u),f.state=function(){return s(u,{})}),f}n&&n.exports?n.exports=o:r&&r.amd?r(function(){return o}):this.tychei=o})(kn,t,!1)})(wm);var dO=wm.exports,yb={exports:{}};(function(t){(function(e,n,r){var i=256,s=6,o=52,a="random",l=r.pow(i,s),u=r.pow(2,o),d=u*2,f=i-1,p;function m(P,B,G){var F=[];B=B==!0?{entropy:!0}:B||{};var te=I(A(B.entropy?[P,R(n)]:P??x(),3),F),ee=new b(F),Z=function(){for(var ae=ee.g(s),U=l,X=0;ae<u;)ae=(ae+X)*i,U*=i,X=ee.g(1);for(;ae>=d;)ae/=2,U/=2,X>>>=1;return(ae+X)/U};return Z.int32=function(){return ee.g(4)|0},Z.quick=function(){return ee.g(4)/4294967296},Z.double=Z,I(R(ee.S),n),(B.pass||G||function(ae,U,X,T){return T&&(T.S&&y(T,ee),ae.state=function(){return y(ee,{})}),X?(r[a]=ae,U):ae})(Z,te,"global"in B?B.global:this==r,B.state)}function b(P){var B,G=P.length,F=this,te=0,ee=F.i=F.j=0,Z=F.S=[];for(G||(P=[G++]);te<i;)Z[te]=te++;for(te=0;te<i;te++)Z[te]=Z[ee=f&ee+P[te%G]+(B=Z[te])],Z[ee]=B;(F.g=function(ae){for(var U,X=0,T=F.i,re=F.j,se=F.S;ae--;)U=se[T=f&T+1],X=X*i+se[f&(se[T]=se[re=f&re+U])+(se[re]=U)];return F.i=T,F.j=re,X})(i)}function y(P,B){return B.i=P.i,B.j=P.j,B.S=P.S.slice(),B}function A(P,B){var G=[],F=typeof P,te;if(B&&F=="object")for(te in P)try{G.push(A(P[te],B-1))}catch{}return G.length?G:F=="string"?P:P+"\0"}function I(P,B){for(var G=P+"",F,te=0;te<G.length;)B[f&te]=f&(F^=B[f&te]*19)+G.charCodeAt(te++);return R(B)}function x(){try{var P;return p&&(P=p.randomBytes)?P=P(i):(P=new Uint8Array(i),(e.crypto||e.msCrypto).getRandomValues(P)),R(P)}catch{var B=e.navigator,G=B&&B.plugins;return[+new Date,e,G,e.screen,R(n)]}}function R(P){return String.fromCharCode.apply(0,P)}if(I(r.random(),n),t.exports){t.exports=m;try{p=Bu}catch{}}else r["seed"+a]=m})(typeof self<"u"?self:kn,[],Math)})(yb);var fO=yb.exports,pO=aO,mO=lO,gO=uO,_O=cO,wO=hO,vO=dO,Ws=fO;Ws.alea=pO;Ws.xor128=mO;Ws.xorwow=gO;Ws.xorshift7=_O;Ws.xor4096=wO;Ws.tychei=vO;var yO=Ws;const bO=_h(yO),kO={class:"fixed left-1/2 top-1/2 inline-block max-h-[100vh] max-w-[100vw] -translate-x-1/2 -translate-y-1/2 overflow-auto rounded-md bg-cyan-500 p-3 text-center shadow-lg shadow-black"},EO=N("p",{class:"text-4xl"},"Deck Importer",-1),TO={class:"mt-1"},IO={class:"mt-3 rounded bg-lime-400 p-3 text-xl"},AO=N("label",{for:"import_file_selector"},"Anki Deck: ",-1),xO={key:0,class:"mt-5 rounded bg-teal-700 p-3 text-xl"},CO=N("p",null,"Fields From:",-1),SO=N("option",{value:"0",disabled:""},"Select",-1),RO=["value"],PO={key:1},DO={class:"mt-5 text-xl"},OO={class:"rounded bg-teal-500 p-3"},NO=N("p",null,"Front:",-1),MO=N("option",{value:"0",disabled:""},"Select",-1),LO=["value"],VO={class:"mt-3 rounded bg-teal-500 p-3"},UO=N("p",null,"Back:",-1),FO=N("option",{value:"0",disabled:""},"Select",-1),$O=["value"],BO={class:"mt-3 rounded bg-yellow-500 p-3"},zO=N("p",null,"Sort By:",-1),jO=N("option",{value:0,disabled:""},"Select",-1),qO=N("option",{value:1},"Random",-1),HO=["value"],WO={class:"mt-3 rounded bg-blue-500 p-3"},KO=N("p",null,"Amount:",-1),GO=["max"],QO={class:"mt-5 rounded bg-emerald-400 p-3 text-xl"},YO={class:"flex items-center justify-center"},XO=N("label",{for:"exist_deck_checkbox"},"Add To Existing Deck: ",-1),ZO={key:0,class:"mt-3"},JO=["value"],e3={class:"mt-5 rounded bg-gray-400 p-3 text-xl"},t3={class:"flex items-center justify-center"},n3=N("label",{for:"type_ans_checkbox"},"Import As Type Answer: ",-1),r3={class:"mt-5"},i3={key:0,class:"flex justify-center"},s3={key:0},o3={key:1},a3={class:"mt-3 rounded bg-cyan-600 p-3"},l3={__name:"ImportDeck",props:["auth","db","decks"],emits:["close"],setup(t,{emit:e}){const n=t,r=+"300";let i=null,s=null;const o=we(!1);let a=null;const l=we([]),u=we(0),d=we([]),f=we(0),p=we(0),m=we(0),b=we(r),y=we(!1),A=we(""),I=we(!1),x=we(!1);let R="";const P=we("");async function B(ee){if(d.value=[],l.value=[],f.value=0,p.value=0,m.value=0,b.value=r,y.value=!1,A.value="",I.value=!1,P.value="",o.value=!0,ee.target.files.length!==0){const Z=ee.target.files[0];R=Z.name.split(".")[0],P.value="Loading Zip";const ae=await nO.loadAsync(Z);P.value="Getting Collection File";const U=await ae.file("collection.anki2").async("uint8array");P.value="Initializing SQL",i=await oO({locateFile:T=>`https://sql.js.org/dist/${T}`}),P.value="Initializing Database",s=new i.Database(U),P.value="Reading Field List Names";const X=s.exec("SELECT models FROM col LIMIT 1;");if(X.length>0&&X[0].values.length>0){a=JSON.parse(X[0].values[0][0]);for(const T in a)if(Object.hasOwnProperty.call(a,T)){const re=a[T];l.value.push(re)}}}}function G(){P.value="Reading Field Names",d.value=a[Object.keys(a)[u.value-1]].flds,P.value="Awaiting User Selection"}async function F(){if(b.value<=r&&b.value>0){P.value="Checking Last Import and Amount Imported";let ee=null,Z=null;const ae=await $s(ft(n.db,`users/${n.auth.currentUser.uid}`));ae.data().last_import==null?(P.value="Creating Last Import Field",await Wt(ft(n.db,`users/${n.auth.currentUser.uid}`),{last_import:tt.fromDate(new Date(0))}).then(()=>{ee=new Date(0)})):ee=ae.data().last_import.toDate();const U=new Date,X=new Date(U.getFullYear(),U.getMonth(),U.getDate());if(new Date(ee.getFullYear(),ee.getMonth(),ee.getDate())<X?(P.value="Updating Imports Remaining",await Wt(ft(n.db,`users/${n.auth.currentUser.uid}`),{imports_remaining:r,last_import:tt.fromDate(new Date)}).then(()=>{Z=r})):ae.data().imports_remaining==null?(P.value="Creating Import Remaining Field",await Wt(ft(n.db,`users/${n.auth.currentUser.uid}`),{imports_remaining:r,last_import:tt.fromDate(new Date)}).then(()=>{Z=r})):Z=ae.data().imports_remaining,Z>0)if(Z>=b.value){P.value="Getting Cards";const re=s.exec("SELECT flds FROM notes;");if(re.length>0&&re[0].values.length>0){const se=re[0].values;let W="";y.value?W=A.value:(P.value="Creating Deck",W=(await Jr(Mt(n.db,`users/${n.auth.currentUser.uid}/decks`),{name:R,new_cards_per_day:10,new_cards_today:10,last_update:tt.fromDate(new Date(0)),index:n.decks.length,large_cards:!0,import_progress:0}).catch(Q=>{He.fire({title:Q,color:"black",icon:"error"})})).id);let ce=[];const ie=bO(W);for(let J=0;J<se.length;J++){const ve=se[J][0].split(""),_e=ve[f.value-1],H=ve[p.value-1];let ze=null;m.value!==1?ze=ve[m.value-2]:ze=ie(),ce.push({front:_e,back:H,index:ze})}ce.sort((J,Q)=>J.index-Q.index),P.value="Updating Last Import";let de=null;ce.length>b.value?de=Z-b.value:de=Z-ce.length,Wt(ft(n.db,`users/${n.auth.currentUser.uid}`),{imports_remaining:de}).then(async()=>{if(y.value)P.value="Getting Deck Import Progress",$s(ft(n.db,`users/${n.auth.currentUser.uid}/decks/${A.value}`)).then(async J=>{let Q=null;J.data().import_progress==null?(P.value="Creating Import Progress Field",await Wt(ft(n.db,`users/${n.auth.currentUser.uid}/decks/${A.value}`),{import_progress:0}),Q=0):Q=J.data().import_progress,P.value="Adding Cards";let ve=!1;for(let _e=Q;_e<ce.length;_e++){const H=ce[_e];if(_e<Q+b.value)P.value=`Adding Cards ${_e}/${ce.length}`,await Jr(Mt(n.db,`users/${n.auth.currentUser.uid}/decks/${A.value}/cards/`),{front:H.front,back:H.back,streak:-1,new_card:!0,next_review:tt.fromDate(new Date(new Date().getTime()+_e)),type_answer:I.value}).catch(ze=>{He.fire({title:ze,color:"black",icon:"error"})});else{ve=!0,P.value="Updating Import Progress",await Wt(ft(n.db,`users/${n.auth.currentUser.uid}/decks/${A.value}`),{import_progress:_e});break}}ve?P.value="Selected Amount Reached":(P.value="Resetting Import Progress",await Wt(ft(n.db,`users/${n.auth.currentUser.uid}/decks/${A.value}`),{import_progress:0}),P.value="Fully Imported"),x.value=!0});else{P.value="Adding Cards";let J=!1;for(let Q=0;Q<ce.length;Q++){const ve=ce[Q];if(Q<b.value)P.value=`Adding Cards ${Q}/${ce.length}`,await Jr(Mt(n.db,`users/${n.auth.currentUser.uid}/decks/${W}/cards/`),{front:ve.front,back:ve.back,streak:-1,new_card:!0,next_review:tt.fromDate(new Date(new Date().getTime()+Q)),type_answer:I.value}).catch(_e=>{He.fire({title:_e,color:"black",icon:"error"})});else{J=!0,P.value="Updating Import Progress",await Wt(ft(n.db,`users/${n.auth.currentUser.uid}/decks/${W}`),{import_progress:Q});break}}J?P.value="Selected Amount Reached":(P.value="Resetting Import Progress",await Wt(ft(n.db,`users/${n.auth.currentUser.uid}/decks/${W}`),{import_progress:0}),P.value="Fully Imported"),x.value=!0}}).catch(J=>{He.fire({title:J,color:"black",icon:"error"})})}}else He.fire({title:`You have ${Z} imports remaining today cards, which is lower than the selected amount. Please lower the selected amount.`,color:"black",icon:"error"});else He.fire({title:`You have already imported ${r} cards today!`,color:"black",icon:"error"})}else He.fire({title:`Amount can't be larger than ${r} or smaller than 1`,color:"black",icon:"error"})}function te(){window.location.reload()}return(ee,Z)=>(Ae(),De("div",kO,[EO,N("p",TO," You can only import max "+Tt(Ur(r))+" cards total per day. Larger decks have to be imported over multiple days. Use the same settings and only select 'Add To Existing Deck' when importing over multiple days. ",1),N("div",IO,[AO,N("input",{onChange:Z[0]||(Z[0]=ae=>B(ae)),type:"file",accept:".apkg",id:"import_file_selector"},null,32)]),o.value?(Ae(),De("div",xO,[CO,Je(N("select",{"onUpdate:modelValue":Z[1]||(Z[1]=ae=>u.value=ae),onChange:Z[2]||(Z[2]=ae=>G()),class:"rounded bg-teal-800 p-1"},[SO,(Ae(!0),De(ln,null,hi(l.value,(ae,U)=>(Ae(),De("option",{value:U+1},Tt(ae.name),9,RO))),256))],544),[[ws,u.value]])])):xt("",!0),d.value.length>0?(Ae(),De("div",PO,[N("div",DO,[N("div",OO,[NO,Je(N("select",{"onUpdate:modelValue":Z[3]||(Z[3]=ae=>f.value=ae),class:"rounded bg-teal-600 p-1"},[MO,(Ae(!0),De(ln,null,hi(d.value,ae=>(Ae(),De("option",{value:ae.ord+1},Tt(ae.name),9,LO))),256))],512),[[ws,f.value]])]),N("div",VO,[UO,Je(N("select",{"onUpdate:modelValue":Z[4]||(Z[4]=ae=>p.value=ae),class:"rounded bg-teal-600 p-1"},[FO,(Ae(!0),De(ln,null,hi(d.value,ae=>(Ae(),De("option",{value:ae.ord+1},Tt(ae.name),9,$O))),256))],512),[[ws,p.value]])]),N("div",BO,[zO,Je(N("select",{"onUpdate:modelValue":Z[5]||(Z[5]=ae=>m.value=ae),class:"rounded bg-yellow-600 p-1"},[jO,qO,(Ae(!0),De(ln,null,hi(d.value,ae=>(Ae(),De("option",{value:ae.ord+2},Tt(ae.name),9,HO))),256))],512),[[ws,m.value]])]),N("div",WO,[KO,Je(N("input",{"onUpdate:modelValue":Z[6]||(Z[6]=ae=>b.value=ae),type:"number",min:"1",max:Ur(r),class:"w-[10ch] rounded bg-blue-600 p-3 text-center"},null,8,GO),[[Lt,b.value]])])]),N("div",QO,[N("div",YO,[XO,Je(N("input",{type:"checkbox","onUpdate:modelValue":Z[7]||(Z[7]=ae=>y.value=ae),id:"exist_deck_checkbox",class:"h-7 w-7"},null,512),[[ei,y.value]])]),y.value?(Ae(),De("div",ZO,[Je(N("select",{"onUpdate:modelValue":Z[8]||(Z[8]=ae=>A.value=ae),class:"rounded bg-emerald-600 p-1"},[(Ae(!0),De(ln,null,hi(t.decks,ae=>(Ae(),De("option",{value:ae.id},Tt(ae.name),9,JO))),256))],512),[[ws,A.value]])])):xt("",!0)]),N("div",e3,[N("div",t3,[n3,Je(N("input",{type:"checkbox","onUpdate:modelValue":Z[9]||(Z[9]=ae=>I.value=ae),id:"type_ans_checkbox",class:"h-7 w-7"},null,512),[[ei,I.value]])])])])):xt("",!0),N("div",r3,[x.value?(Ae(),De("div",o3,[N("button",{onClick:Z[12]||(Z[12]=ae=>te()),class:"rounded bg-green-600 p-3 text-xl shadow shadow-black"}," Refresh ")])):(Ae(),De("div",i3,[N("button",{onClick:Z[10]||(Z[10]=ae=>ee.$emit("close")),class:"rounded bg-red-600 p-3 text-xl shadow shadow-black"}," Cancel "),f.value!==0&&p.value!==0&&m.value!==0&&(!y.value||A.value!=="")&&b.value<=Ur(r)&&b.value>0?(Ae(),De("div",s3,[N("button",{onClick:Z[11]||(Z[11]=ae=>F()),class:"ml-3 rounded bg-orange-600 p-3 text-xl shadow shadow-black"}," Import ")])):xt("",!0)]))]),N("div",a3,[N("p",null,"Status : "+Tt(P.value),1)])]))}},u3={class:"fixed bottom-0 left-0 right-0 top-0 z-50 bg-gray-600 bg-opacity-50"},c3={class:"fixed left-1/2 top-1/2 inline-block -translate-x-1/2 -translate-y-1/2 rounded-md bg-gradient-to-r from-green-900 to-blue-900 p-3 text-center shadow-lg shadow-black"},h3={class:"mt-3 flex items-center justify-center rounded bg-cyan-400 p-3 text-lg shadow shadow-black"},d3=N("p",{class:"mr-1"},"New Cards Per Day:",-1),f3={class:"mt-3 flex items-center justify-center rounded bg-emerald-400 p-3 text-lg shadow shadow-black"},p3=N("label",{for:"large_cards_elem",class:"mr-1 select-none"},"Large Cards: ",-1),m3={__name:"NewDeckMenu",props:["auth","db","decks"],emits:["close","save"],setup(t,{emit:e}){const n=t,r=we(""),i=we(""),s=we(10),o=we(!1),a=we(!1);function l(){r.value!==""?s.value!==""?Jr(Mt(n.db,`users/${n.auth.currentUser.uid}/decks`),{name:r.value,new_cards_per_day:s.value,new_cards_today:s.value,last_update:tt.fromDate(new Date(0)),index:n.decks.length,large_cards:o.value}).then(()=>{e("save"),e("close")}):He.fire({title:"New cards per day cannot be empty!",color:"black",icon:"error"}):He.fire({title:"Name cannot be empty!",color:"black",icon:"error"})}async function u(){i.value=await wc(r.value)}function d(){a.value=!0}function f(){a.value=!1}return(p,m)=>(Ae(),De("div",u3,[N("div",c3,[Je(N("input",{type:"text","onUpdate:modelValue":m[0]||(m[0]=b=>r.value=b),onInput:m[1]||(m[1]=b=>u()),style:Ss({backgroundColor:i.value}),class:"rounded bg-indigo-400 p-3 text-center text-lg placeholder-white shadow shadow-black",placeholder:"Name"},null,36),[[Lt,r.value]]),N("div",h3,[d3,Je(N("input",{type:"number","onUpdate:modelValue":m[2]||(m[2]=b=>s.value=b),class:"w-[5ch] rounded bg-cyan-500 p-1 text-center placeholder-white",placeholder:"?"},null,512),[[Lt,s.value,void 0,{number:!0}]])]),N("div",f3,[p3,Je(N("input",{type:"checkbox",id:"large_cards_elem","onUpdate:modelValue":m[3]||(m[3]=b=>o.value=b),class:"h-6 w-6"},null,512),[[ei,o.value]])]),N("div",null,[N("button",{onClick:m[4]||(m[4]=b=>p.$emit("close")),class:"mr-4 mt-3 rounded bg-orange-300 p-3 text-xl shadow shadow-black"}," Cancel "),N("button",{onClick:l,class:"mt-3 rounded bg-rose-300 p-3 text-xl shadow shadow-black"}," Create ")]),N("div",null,[N("button",{onClick:m[5]||(m[5]=b=>d()),class:"mt-7 rounded bg-cyan-300 p-3 text-sm shadow shadow-black"}," Import ")])]),a.value?(Ae(),Br(l3,{key:0,auth:t.auth,db:t.db,decks:t.decks,onClose:m[6]||(m[6]=b=>f())},null,8,["auth","db","decks"])):xt("",!0)]))}},g3={class:"fixed bottom-0 left-0 right-0 top-0 z-50 bg-gray-600 bg-opacity-50"},_3={class:"fixed left-1/2 top-1/2 inline-block -translate-x-1/2 -translate-y-1/2 rounded-md bg-gradient-to-tr from-cyan-700 to-zinc-400 p-3 text-center shadow-lg shadow-black"},w3=N("p",null,"Front",-1),v3=N("hr",{class:"mb-4 mt-4 rounded border-2 border-gray-400"},null,-1),y3=N("p",null,"Back",-1),b3=N("hr",{class:"mb-4 mt-4 rounded border-2 border-gray-400"},null,-1),k3={class:"rounded-md bg-gray-500 p-3 shadow shadow-black"},E3=N("label",{for:"reversedCheck",class:"mr-3 text-center text-lg text-white"},"Create Reversed",-1),T3=N("br",null,null,-1),I3=N("label",{for:"typeAnsCheck",class:"mr-3 text-center text-lg text-white"},"Type Answer",-1),A3=N("hr",{class:"mb-4 mt-4 rounded border-2 border-gray-400"},null,-1),x3={__name:"NewCardMenu",props:["auth","db","deckId"],emits:["close"],setup(t,{emit:e}){const n=t,r=we(""),i=we(""),s=we(!1),o=we(!1),a=we(null);function l(){Jr(Mt(n.db,`users/${n.auth.currentUser.uid}/decks/${n.deckId}/cards/`),{front:r.value,back:i.value,streak:-1,new_card:!0,next_review:tt.fromDate(new Date),type_answer:o.value}).catch(d=>{He.fire({title:d,color:"black",icon:"error"})}),s.value&&Jr(Mt(n.db,`users/${n.auth.currentUser.uid}/decks/${n.deckId}/cards/`),{front:i.value,back:r.value,streak:-1,new_card:!0,next_review:tt.fromDate(new Date),type_answer:o.value}).catch(d=>{He.fire({title:d,color:"black",icon:"error"})}),r.value="",i.value="",a.value.focus()}function u(d){d.code=="Enter"&&l()}return(d,f)=>(Ae(),De("div",g3,[N("div",_3,[w3,Je(N("input",{type:"text",ref_key:"front_field_ref",ref:a,"onUpdate:modelValue":f[0]||(f[0]=p=>r.value=p),class:"rounded bg-gray-600 p-3 text-center text-lg text-white shadow shadow-black"},null,512),[[Lt,r.value]]),v3,y3,Je(N("input",{type:"text","onUpdate:modelValue":f[1]||(f[1]=p=>i.value=p),onKeypress:f[2]||(f[2]=p=>u(p)),class:"rounded bg-gray-600 p-3 text-center text-lg text-white shadow shadow-black"},null,544),[[Lt,i.value]]),b3,N("div",k3,[E3,Je(N("input",{"onUpdate:modelValue":f[3]||(f[3]=p=>s.value=p),type:"checkbox",id:"reversedCheck",class:"h-7 w-7 translate-y-1"},null,512),[[ei,s.value]]),T3,I3,Je(N("input",{"onUpdate:modelValue":f[4]||(f[4]=p=>o.value=p),type:"checkbox",id:"typeAnsCheck",class:"h-7 w-7 translate-y-1"},null,512),[[ei,o.value]])]),A3,N("button",{onClick:f[5]||(f[5]=p=>d.$emit("close")),class:"mr-10 rounded bg-red-400 px-3 py-2 text-lg text-white shadow-md shadow-gray-800"}," Cancel "),N("button",{onClick:f[6]||(f[6]=p=>l()),class:"rounded bg-green-600 px-3 py-2 text-lg text-white shadow-md shadow-gray-800"}," Create ")])]))}},C3={class:"fixed bottom-0 left-0 right-0 top-0 z-50 bg-gray-600 bg-opacity-50"},S3={class:"fixed left-1/2 top-1/2 inline-block h-[600px] max-h-[100vh] w-[800px] max-w-[100vw] -translate-x-1/2 -translate-y-1/2 overflow-auto rounded-md bg-gradient-to-tr from-slate-700 to-fuchsia-800 p-3 text-center shadow-lg shadow-black"},R3=N("p",{class:"text-lg text-white"},"Front",-1),P3=N("hr",{class:"mb-4 mt-4 rounded border-2 border-gray-400"},null,-1),D3=N("p",{class:"text-lg text-white"},"Back",-1),O3=N("hr",{class:"mb-4 mt-4 rounded border-2 border-gray-400"},null,-1),N3={class:"rounded-md bg-gray-500 p-3 shadow shadow-black"},M3=N("label",{for:"reversedCheck",class:"mr-3 text-center text-lg text-white"},"Create Reversed",-1),L3=N("br",null,null,-1),V3=N("label",{for:"typeAnsCheck",class:"mr-3 text-center text-lg text-white"},"Type Answer",-1),U3=N("hr",{class:"mb-4 mt-4 rounded border-2 border-gray-400"},null,-1),F3={__name:"NewLargeCard",props:["auth","db","deckId"],emits:["close"],setup(t,{emit:e}){const n=t,r=we(""),i=we(""),s=we(!1),o=we(!1),a=we(null),l=we(null);function u(){Jr(Mt(n.db,`users/${n.auth.currentUser.uid}/decks/${n.deckId}/cards/`),{front:r.value,back:i.value,streak:-1,new_card:!0,next_review:tt.fromDate(new Date),type_answer:o.value}).catch(f=>{He.fire({title:f,color:"black",icon:"error"})}),s.value&&Jr(Mt(n.db,`users/${n.auth.currentUser.uid}/decks/${n.deckId}/cards/`),{front:i.value,back:r.value,streak:-1,new_card:!0,next_review:tt.fromDate(new Date),type_answer:o.value}).catch(f=>{He.fire({title:f,color:"black",icon:"error"})}),r.value="",i.value="",a.value.style.height="auto",l.value.style.height="auto",a.value.focus()}function d(f){f?(a.value.style.height="auto",a.value.style.height=a.value.scrollHeight+"px"):(l.value.style.height="auto",l.value.style.height=l.value.scrollHeight+"px")}return(f,p)=>(Ae(),De("div",C3,[N("div",S3,[R3,Je(N("textarea",{ref_key:"front_field_ref",ref:a,"onUpdate:modelValue":p[0]||(p[0]=m=>r.value=m),onInput:p[1]||(p[1]=m=>d(!0)),class:"min-h-[150px] w-full resize-none rounded bg-gray-300 p-3 text-center text-lg text-black shadow shadow-black"},null,544),[[Lt,r.value]]),P3,D3,Je(N("textarea",{ref_key:"back_field_ref",ref:l,"onUpdate:modelValue":p[2]||(p[2]=m=>i.value=m),onInput:p[3]||(p[3]=m=>d(!1)),class:"min-h-[150px] w-full resize-none rounded bg-gray-300 p-3 text-center text-lg text-black shadow shadow-black"},null,544),[[Lt,i.value]]),O3,N("div",N3,[M3,Je(N("input",{"onUpdate:modelValue":p[4]||(p[4]=m=>s.value=m),type:"checkbox",id:"reversedCheck",class:"h-7 w-7 translate-y-1"},null,512),[[ei,s.value]]),L3,V3,Je(N("input",{"onUpdate:modelValue":p[5]||(p[5]=m=>o.value=m),type:"checkbox",id:"typeAnsCheck",class:"h-7 w-7 translate-y-1"},null,512),[[ei,o.value]])]),U3,N("button",{onClick:p[6]||(p[6]=m=>f.$emit("close")),class:"mr-10 rounded bg-red-400 px-3 py-2 text-lg text-white shadow-md shadow-gray-800"}," Cancel "),N("button",{onClick:p[7]||(p[7]=m=>u()),class:"rounded bg-green-600 px-3 py-2 text-lg text-white shadow-md shadow-gray-800"}," Create ")])]))}},$3={class:"flex justify-center"},B3={class:"mt-8 inline-block rounded-xl bg-sky-600 p-3 text-center"},z3=N("p",{class:"text-lg text-white"},"Timeline",-1),j3={class:"mt-1 rounded-xl bg-blue-200 p-1 text-xl"},q3={class:"mt-3"},H3=N("p",{class:"text-lg text-white"},"New Card Forecast",-1),W3={class:"rounded-xl bg-green-200 p-1"},K3={class:"text-lg"},G3={class:"mt-3"},Q3=N("p",{class:"text-lg text-white"},"Deck Data",-1),Y3={class:"rounded-xl bg-orange-200 p-1 text-xl"},X3={__name:"Timeline",props:["auth","db","deckId","showDays","newCards","reviewsDue","totalCards"],setup(t,{expose:e}){const n=t,r=we([]);async function i(){r.value=[];let s=[];const o=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],a=new Date,l=new Date(a.getFullYear(),a.getMonth(),a.getDate()),u=l.getDay();for(let d=0;d<n.showDays;d++){let f=u+d;f>=o.length&&(f-=o.length),r.value.push({name:o[f],reviews:0}),s.push({name:o[f],reviews:0})}for(let d=0;d<n.showDays;d++){let f=new Date(l);f.setDate(f.getDate()+d);let p=new Date(f);if(p.setDate(p.getDate()+1),d===0)s[0].reviews=n.reviewsDue;else{const m=await Cs(dr(Mt(n.db,`users/${n.auth.currentUser.uid}/decks/${n.deckId}/cards`),yn("next_review",">=",tt.fromDate(f)),yn("next_review","<",tt.fromDate(p))));s[d].reviews=m.data().count}}r.value=s}return e({loadDays:i}),(s,o)=>(Ae(),De("div",$3,[N("div",B3,[N("div",null,[z3,(Ae(!0),De(ln,null,hi(r.value,(a,l)=>(Ae(),De("p",j3,[ys(" Reviews "+Tt(l===0?"Now":l===1?"Tomorrow":`on ${a.name}`)+": ",1),N("b",null,Tt(a.reviews),1)]))),256))]),N("div",q3,[H3,N("div",W3,[N("p",null," At the rate of "+Tt(t.newCards)+" new cards per day, you will accumulate... ",1),N("div",K3,[N("p",null,[N("b",null,Tt(t.newCards*7),1),ys(" per Week ")]),N("p",null,[N("b",null,Tt(t.newCards*30),1),ys(" per Month ")]),N("p",null,[N("b",null,Tt(t.newCards*365),1),ys(" per Year ")])])])]),N("div",G3,[Q3,N("div",Y3,[N("p",null,"Total Cards: "+Tt(t.totalCards),1)])])])]))}},Z3={key:0,class:"mt-5 overflow-auto whitespace-nowrap pb-3 text-center"},J3=["onClick","onDblclick"],eN={key:3,class:"mt-10"},tN={class:"flex justify-center text-center"},nN={class:"mr-10 text-lg"},rN={class:"text-lg"},iN={class:"flex justify-center"},sN={class:"mt-2"},oN={__name:"Decks",props:["auth","db"],emits:["loadSettings","review","largeReview"],setup(t,{expose:e,emit:n}){const r=t,i=we([]),s=we(""),o=we(0),a=we(0),l=we(0),u=we(-1),d=we(!1),f=we(!1),p=we(!1),m=we(null),b=we(null),y=we(null),A=we(0),I=we(!1);async function x(W){s.value=W;const ce=await Cs(Mt(r.db,`users/${r.auth.currentUser.uid}/decks/${s.value}/cards`));l.value=ce.data().count;const ie=new Date,de=await Cs(dr(Mt(r.db,`users/${r.auth.currentUser.uid}/decks/${s.value}/cards`),yn("next_review","<=",tt.fromDate(ie)))),J=await Cs(dr(Mt(r.db,`users/${r.auth.currentUser.uid}/decks/${s.value}/cards`),yn("next_review","<=",tt.fromDate(ie)),yn("streak","==",-1)));o.value=de.data().count-J.data().count,a.value=J.data().count,await Rs(),y.value.loadDays();const Q=i.value.find(ve=>ve.id===W);A.value=Q.new_cards_per_day,I.value=Q.large_cards}async function R(){let W=[];jr(Mt(r.db,`users/${r.auth.currentUser.uid}/decks`)).then(async ce=>{await Promise.all(ce.docs.map(async ie=>{W.push({name:ie.data().name,color:await wc(ie.data().name),new_cards_per_day:ie.data().new_cards_per_day,id:ie.id,index:ie.data().index,large_cards:ie.data().large_cards})})),W.sort((ie,de)=>ie.index-de.index),i.value=W}),P(),n("loadSettings")}function P(){s.value!==""&&x(s.value)}async function B(){const W=await $s(ft(r.db,`users/${r.auth.currentUser.uid}/decks/${s.value}`));let ce=[],ie=W.data().new_cards_today;const de=new Date,J=new Date(de.getFullYear(),de.getMonth(),de.getDate());J>W.data().last_update.toDate()&&(Wt(ft(r.db,`users/${r.auth.currentUser.uid}/decks/${s.value}`),{new_cards_today:W.data().new_cards_per_day,last_update:tt.fromDate(J)}),ie=W.data().new_cards_per_day);const Q=await jr(dr(Mt(r.db,`users/${r.auth.currentUser.uid}/decks/${s.value}/cards`),yn("next_review","<=",tt.fromDate(de)),yn("new_card","==",!1)));let ve=null;ie>0&&(ve=await jr(dr(Mt(r.db,`users/${r.auth.currentUser.uid}/decks/${s.value}/cards`),yn("next_review","<=",tt.fromDate(de)),yn("new_card","==",!0),po("next_review"),mo(ie)))),Q.forEach(_e=>{ce.push({id:_e.id,front:_e.data().front,back:_e.data().back,streak:_e.data().streak,type_answer:!!_e.data().type_answer})}),ve!==null&&ve.forEach(_e=>{ce.push({id:_e.id,front:_e.data().front,back:_e.data().back,streak:0,type_answer:!!_e.data().type_answer}),Wt(ft(r.db,`users/${r.auth.currentUser.uid}/decks/${s.value}/cards/${_e.id}`),{streak:0,new_card:!1}),ie-=1}),Wt(ft(r.db,`users/${r.auth.currentUser.uid}/decks/${s.value}`),{new_cards_today:ie}),ce.length!==0?W.data().large_cards?n("largeReview",s.value,ce):n("review",s.value,ce):He.fire({title:"No reviews on this deck at this time.",color:"black",icon:"info"})}async function G(W){u.value=W,T(!1),await Rs(),m.value.loadInitialCards()}function F(W){u.value=-1,T(!0),W&&R()}function te(){d.value=!0,T(!1)}function ee(){d.value=!1,T(!0)}function Z(){R()}function ae(){I.value?p.value=!0:f.value=!0,T(!1)}function U(){f.value=!1,T(!0)}function X(){p.value=!1,T(!0)}function T(W){W?document.body.style.overflow="auto":document.body.style.overflow="hidden"}function re(){s.value=""}function se(){re(),i.value=[]}return e({loadDecks:R,reselectDeck:P,logout:se}),(W,ce)=>(Ae(),De(ln,null,[t.auth!==null&&t.auth.currentUser!==null?(Ae(),De("div",Z3,[(Ae(!0),De(ln,null,hi(i.value,(ie,de)=>(Ae(),De("div",{key:ie.id,class:"mb-3 inline-block"},[N("button",{onClick:J=>x(ie.id),onDblclick:J=>G(de),style:Ss({backgroundColor:ie.color,borderWidth:s.value==ie.id?"4px":"0px"}),class:"mr-5 rounded border-white bg-white p-5 text-lg shadow-md shadow-black"},Tt(ie.name),45,J3)]))),128)),N("button",{onClick:ce[0]||(ce[0]=ie=>te()),class:"rounded bg-gradient-to-r from-emerald-700 to-lime-600 p-5 text-lg text-white shadow-md shadow-black"}," New Deck ")])):xt("",!0),u.value!==-1?(Ae(),Br(eO,{key:1,auth:t.auth,db:t.db,deck:i.value[u.value],onClose:ce[1]||(ce[1]=ie=>F(ie)),onDelete:ce[2]||(ce[2]=ie=>re()),ref_key:"edit_deck_menu_ref",ref:m},null,8,["auth","db","deck"])):xt("",!0),d.value?(Ae(),Br(m3,{key:2,auth:t.auth,db:t.db,decks:i.value,onClose:ce[3]||(ce[3]=ie=>ee()),onSave:ce[4]||(ce[4]=ie=>Z()),ref_key:"new_deck_menu_ref",ref:b},null,8,["auth","db","decks"])):xt("",!0),s.value!==""?(Ae(),De("div",eN,[N("div",tN,[N("p",nN,[ys(" New Cards: "),N("b",null,Tt(a.value),1)]),N("p",rN,[ys(" Reviews: "),N("b",null,Tt(o.value),1)])]),N("div",iN,[N("div",sN,[N("button",{onClick:ce[5]||(ce[5]=ie=>ae()),class:"mr-5 rounded-lg bg-gradient-to-tr from-orange-600 to-blue-500 p-3 text-2xl text-white shadow-lg shadow-black"}," New Card "),N("button",{onClick:ce[6]||(ce[6]=ie=>B()),class:"rounded-lg bg-gradient-to-r from-green-500 to-amber-800 p-3 text-2xl text-white shadow-lg shadow-black"}," Review ")])])])):xt("",!0),f.value?(Ae(),Br(x3,{key:4,auth:t.auth,db:t.db,"deck-id":s.value,onClose:ce[7]||(ce[7]=ie=>U())},null,8,["auth","db","deck-id"])):xt("",!0),p.value?(Ae(),Br(F3,{key:5,auth:t.auth,db:t.db,"deck-id":s.value,onClose:ce[8]||(ce[8]=ie=>X())},null,8,["auth","db","deck-id"])):xt("",!0),s.value!==""?(Ae(),Br(X3,{key:6,auth:t.auth,db:t.db,"deck-id":s.value,"show-days":7,"new-cards":A.value,"reviews-due":o.value,"total-cards":l.value,ref_key:"timeline_ref",ref:y},null,8,["auth","db","deck-id","new-cards","reviews-due","total-cards"])):xt("",!0)],64))}},aN=""+new URL("yes-6050e699.svg",import.meta.url).href;var yd=typeof navigator<"u"?navigator.userAgent.toLowerCase().indexOf("firefox")>0:!1;function bd(t,e,n,r){t.addEventListener?t.addEventListener(e,n,r):t.attachEvent&&t.attachEvent("on".concat(e),function(){n(window.event)})}function bb(t,e){for(var n=e.slice(0,e.length-1),r=0;r<n.length;r++)n[r]=t[n[r].toLowerCase()];return n}function kb(t){typeof t!="string"&&(t=""),t=t.replace(/\s/g,"");for(var e=t.split(","),n=e.lastIndexOf("");n>=0;)e[n-1]+=",",e.splice(n,1),n=e.lastIndexOf("");return e}function lN(t,e){for(var n=t.length>=e.length?t:e,r=t.length>=e.length?e:t,i=!0,s=0;s<n.length;s++)r.indexOf(n[s])===-1&&(i=!1);return i}var al={backspace:8,"":8,tab:9,clear:12,enter:13,"":13,return:13,esc:27,escape:27,space:32,left:37,up:38,right:39,down:40,del:46,delete:46,ins:45,insert:45,home:36,end:35,pageup:33,pagedown:34,capslock:20,num_0:96,num_1:97,num_2:98,num_3:99,num_4:100,num_5:101,num_6:102,num_7:103,num_8:104,num_9:105,num_multiply:106,num_add:107,num_enter:108,num_subtract:109,num_decimal:110,num_divide:111,"":20,",":188,".":190,"/":191,"`":192,"-":yd?173:189,"=":yd?61:187,";":yd?59:186,"'":222,"[":219,"]":221,"\\":220},ni={"":16,shift:16,"":18,alt:18,option:18,"":17,ctrl:17,control:17,"":91,cmd:91,command:91},kf={16:"shiftKey",18:"altKey",17:"ctrlKey",91:"metaKey",shiftKey:16,ctrlKey:17,altKey:18,metaKey:91},Cn={16:!1,18:!1,17:!1,91:!1},an={};for(var bu=1;bu<20;bu++)al["f".concat(bu)]=111+bu;var Ut=[],X_=!1,Eb="all",Tb=[],Nl=function(e){return al[e.toLowerCase()]||ni[e.toLowerCase()]||e.toUpperCase().charCodeAt(0)},uN=function(e){return Object.keys(al).find(function(n){return al[n]===e})},cN=function(e){return Object.keys(ni).find(function(n){return ni[n]===e})};function Ib(t){Eb=t||"all"}function ll(){return Eb||"all"}function hN(){return Ut.slice(0)}function dN(){return Ut.map(function(t){return uN(t)||cN(t)||String.fromCharCode(t)})}function fN(){var t=[];return Object.keys(an).forEach(function(e){an[e].forEach(function(n){var r=n.key,i=n.scope,s=n.mods,o=n.shortcut;t.push({scope:i,shortcut:o,mods:s,keys:r.split("+").map(function(a){return Nl(a)})})})}),t}function pN(t){var e=t.target||t.srcElement,n=e.tagName,r=!0;return(e.isContentEditable||(n==="INPUT"||n==="TEXTAREA"||n==="SELECT")&&!e.readOnly)&&(r=!1),r}function mN(t){return typeof t=="string"&&(t=Nl(t)),Ut.indexOf(t)!==-1}function gN(t,e){var n,r;t||(t=ll());for(var i in an)if(Object.prototype.hasOwnProperty.call(an,i))for(n=an[i],r=0;r<n.length;)n[r].scope===t?n.splice(r,1):r++;ll()===t&&Ib(e||"all")}function _N(t){var e=t.keyCode||t.which||t.charCode,n=Ut.indexOf(e);if(n>=0&&Ut.splice(n,1),t.key&&t.key.toLowerCase()==="meta"&&Ut.splice(0,Ut.length),(e===93||e===224)&&(e=91),e in Cn){Cn[e]=!1;for(var r in ni)ni[r]===e&&(St[r]=!1)}}function wN(t){if(typeof t>"u")Object.keys(an).forEach(function(o){return delete an[o]});else if(Array.isArray(t))t.forEach(function(o){o.key&&kd(o)});else if(typeof t=="object")t.key&&kd(t);else if(typeof t=="string"){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];var i=n[0],s=n[1];typeof i=="function"&&(s=i,i=""),kd({key:t,scope:i,method:s,splitKey:"+"})}}var kd=function(e){var n=e.key,r=e.scope,i=e.method,s=e.splitKey,o=s===void 0?"+":s,a=kb(n);a.forEach(function(l){var u=l.split(o),d=u.length,f=u[d-1],p=f==="*"?"*":Nl(f);if(an[p]){r||(r=ll());var m=d>1?bb(ni,u):[];an[p]=an[p].filter(function(b){var y=i?b.method===i:!0;return!(y&&b.scope===r&&lN(b.mods,m))})}})};function Z_(t,e,n,r){if(e.element===r){var i;if(e.scope===n||e.scope==="all"){i=e.mods.length>0;for(var s in Cn)Object.prototype.hasOwnProperty.call(Cn,s)&&(!Cn[s]&&e.mods.indexOf(+s)>-1||Cn[s]&&e.mods.indexOf(+s)===-1)&&(i=!1);(e.mods.length===0&&!Cn[16]&&!Cn[18]&&!Cn[17]&&!Cn[91]||i||e.shortcut==="*")&&(e.keys=[],e.keys=e.keys.concat(Ut),e.method(t,e)===!1&&(t.preventDefault?t.preventDefault():t.returnValue=!1,t.stopPropagation&&t.stopPropagation(),t.cancelBubble&&(t.cancelBubble=!0)))}}}function J_(t,e){var n=an["*"],r=t.keyCode||t.which||t.charCode;if(St.filter.call(this,t)){if((r===93||r===224)&&(r=91),Ut.indexOf(r)===-1&&r!==229&&Ut.push(r),["ctrlKey","altKey","shiftKey","metaKey"].forEach(function(b){var y=kf[b];t[b]&&Ut.indexOf(y)===-1?Ut.push(y):!t[b]&&Ut.indexOf(y)>-1?Ut.splice(Ut.indexOf(y),1):b==="metaKey"&&t[b]&&Ut.length===3&&(t.ctrlKey||t.shiftKey||t.altKey||(Ut=Ut.slice(Ut.indexOf(y))))}),r in Cn){Cn[r]=!0;for(var i in ni)ni[i]===r&&(St[i]=!0);if(!n)return}for(var s in Cn)Object.prototype.hasOwnProperty.call(Cn,s)&&(Cn[s]=t[kf[s]]);t.getModifierState&&!(t.altKey&&!t.ctrlKey)&&t.getModifierState("AltGraph")&&(Ut.indexOf(17)===-1&&Ut.push(17),Ut.indexOf(18)===-1&&Ut.push(18),Cn[17]=!0,Cn[18]=!0);var o=ll();if(n)for(var a=0;a<n.length;a++)n[a].scope===o&&(t.type==="keydown"&&n[a].keydown||t.type==="keyup"&&n[a].keyup)&&Z_(t,n[a],o,e);if(r in an){for(var l=0;l<an[r].length;l++)if((t.type==="keydown"&&an[r][l].keydown||t.type==="keyup"&&an[r][l].keyup)&&an[r][l].key){for(var u=an[r][l],d=u.splitKey,f=u.key.split(d),p=[],m=0;m<f.length;m++)p.push(Nl(f[m]));p.sort().join("")===Ut.sort().join("")&&Z_(t,u,o,e)}}}}function vN(t){return Tb.indexOf(t)>-1}function St(t,e,n){Ut=[];var r=kb(t),i=[],s="all",o=document,a=0,l=!1,u=!0,d="+",f=!1;for(n===void 0&&typeof e=="function"&&(n=e),Object.prototype.toString.call(e)==="[object Object]"&&(e.scope&&(s=e.scope),e.element&&(o=e.element),e.keyup&&(l=e.keyup),e.keydown!==void 0&&(u=e.keydown),e.capture!==void 0&&(f=e.capture),typeof e.splitKey=="string"&&(d=e.splitKey)),typeof e=="string"&&(s=e);a<r.length;a++)t=r[a].split(d),i=[],t.length>1&&(i=bb(ni,t)),t=t[t.length-1],t=t==="*"?"*":Nl(t),t in an||(an[t]=[]),an[t].push({keyup:l,keydown:u,scope:s,mods:i,shortcut:r[a],method:n,key:r[a],splitKey:d,element:o});typeof o<"u"&&!vN(o)&&window&&(Tb.push(o),bd(o,"keydown",function(p){J_(p,o)},f),X_||(X_=!0,bd(window,"focus",function(){Ut=[]},f)),bd(o,"keyup",function(p){J_(p,o),_N(p)},f))}function yN(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"all";Object.keys(an).forEach(function(n){var r=an[n].filter(function(i){return i.scope===e&&i.shortcut===t});r.forEach(function(i){i&&i.method&&i.method()})})}var Ed={getPressedKeyString:dN,setScope:Ib,getScope:ll,deleteScope:gN,getPressedKeyCodes:hN,getAllKeyCodes:fN,isPressed:mN,filter:pN,trigger:yN,unbind:wN,keyMap:al,modifier:ni,modifierMap:kf};for(var Td in Ed)Object.prototype.hasOwnProperty.call(Ed,Td)&&(St[Td]=Ed[Td]);if(typeof window<"u"){var bN=window.hotkeys;St.noConflict=function(t){return t&&window.hotkeys===St&&(window.hotkeys=bN),St},window.hotkeys=St}const kN={key:0,class:"fixed bottom-0 left-0 right-0 top-0 z-50 bg-gray-600 bg-opacity-50"},EN={class:"mx-8 my-4 max-h-[10vh] overflow-auto break-all text-2xl text-white"},TN={key:0},IN=N("hr",{class:"mx-3 rounded-full border-2 border-white"},null,-1),AN={class:"mx-8 my-4 max-h-[10vh] overflow-auto break-all text-2xl text-white"},xN=N("br",null,null,-1),CN={key:0,class:"mt-8"},SN=N("img",{height:"65",width:"65",src:dm,alt:"No",draggable:"false"},null,-1),RN=[SN],PN=N("img",{height:"65",width:"65",src:aN,alt:"Yes",draggable:"false"},null,-1),DN=[PN],ON={key:1},NN=N("hr",{class:"mx-3 rounded-full border-2 border-white"},null,-1),MN=N("br",null,null,-1),LN={__name:"Review",props:["auth","db","timeDuration","timeMultiplier"],emits:["reselectDeck"],setup(t,{expose:e,emit:n}){const r=t;St("space","review",function(G,F){G.preventDefault(),p()}),St("space","yes_no",function(G,F){G.preventDefault(),b(!0)}),St("c","yes_no",function(G,F){G.preventDefault(),b(!1)}),St("space","check_type_ans",function(G,F){G.preventDefault(),m()}),St("enter","check_type_ans",function(G,F){G.preventDefault(),m()});const i=we(!1),s=we(""),o=we([]),a=we(0),l=we(!1),u=we(""),d=we(null);function f(G,F){s.value=G,o.value=F,a.value=I(0,o.value.length),i.value=!0,St.setScope("review"),document.body.style.overflow="hidden",o.value[a.value].type_answer&&A()}function p(){o.value[a.value].type_answer?St.getScope()==="check_type_ans"&&m():(l.value=!0,St.setScope("yes_no"))}function m(){const G=o.value[a.value].back.replace(/\[.*?\]/g,"");u.value===G?(b(!0),u.value=""):(b(!1),u.value="")}function b(G){const F=new Date,te=new Date(F.getFullYear(),F.getMonth(),F.getDate());if(G===!0)if(o.value[a.value].streak===0)o.value[a.value].streak=.5,P(!0);else if(o.value[a.value].streak===.5){let ee=new Date(te);ee.setDate(ee.getDate()+1),Wt(ft(r.db,`users/${r.auth.currentUser.uid}/decks/${s.value}/cards/${o.value[a.value].id}`),{next_review:tt.fromDate(ee),streak:1}),R()}else{const ee=Math.pow(r.timeMultiplier,o.value[a.value].streak)*r.timeDuration,Z=Math.floor(ee/24);let ae=new Date(te);ae.setDate(ae.getDate()+Z),Wt(ft(r.db,`users/${r.auth.currentUser.uid}/decks/${s.value}/cards/${o.value[a.value].id}`),{next_review:tt.fromDate(ae),streak:o.value[a.value].streak+1}),R()}else o.value[a.value].streak!==0&&o.value[a.value].streak!==.5&&Wt(ft(r.db,`users/${r.auth.currentUser.uid}/decks/${s.value}/cards/${o.value[a.value].id}`),{next_review:tt.fromDate(new Date),streak:0}),o.value[a.value].streak=0,P(!0);o.value.length>0&&o.value[a.value].type_answer&&A()}function y(){l.value=!0,St.setScope("check_type_ans")}async function A(){await Rs(),d.value.focus()}function I(G,F){return Math.floor(Math.random()*(F-G))+G}function x(){i.value=!1,l.value=!1,St.setScope("all"),document.body.style.overflow="auto",n("reselectDeck")}function R(){o.value.splice(a.value,1),o.value.length!==0?P(!1):(x(),He.fire({title:"You've finished all reviews for today.",text:"Come back tomorrow for more.",color:"black",icon:"success"}))}function P(G){if(G)if(o.value.length!==1){let F=I(0,o.value.length);for(;F===a.value;)F=I(0,o.value.length);a.value=F}else a.value=0;else a.value=I(0,o.value.length);l.value=!1,St.setScope("review")}function B(G){G.code=="Enter"&&y()}return e({reviewCards:f}),(G,F)=>i.value?(Ae(),De("div",kN,[N("button",{onClick:F[0]||(F[0]=te=>x()),class:"fixed left-1/2 top-[20%] -translate-x-1/2 rounded bg-gray-700 p-3 text-white"}," Cancel "),N("div",{onClick:F[6]||(F[6]=te=>p()),class:"fixed left-1/2 top-1/3 min-w-[300px] -translate-x-1/2 rounded-lg bg-gradient-to-t from-pink-700 to-purple-800 p-10 text-center shadow-xl shadow-black"},[N("p",EN,Tt(o.value[a.value].front),1),l.value===!0?(Ae(),De("div",TN,[IN,N("p",AN,Tt(o.value[a.value].back),1),xN,o.value[a.value].type_answer?xt("",!0):(Ae(),De("div",CN,[N("button",{onClick:F[1]||(F[1]=Yh(te=>b(!1),["stop"])),class:"mr-10 rounded-full bg-gradient-to-br from-pink-500 to-red-900 p-1 shadow-md shadow-black"},RN),N("button",{onClick:F[2]||(F[2]=Yh(te=>b(!0),["stop"])),class:"rounded-full bg-gradient-to-br from-purple-500 to-blue-900 p-1 shadow-md shadow-black"},DN)]))])):xt("",!0),o.value[a.value].type_answer===!0&&l.value===!1?(Ae(),De("div",ON,[NN,Je(N("input",{ref_key:"answer_field_ref",ref:d,"onUpdate:modelValue":F[3]||(F[3]=te=>u.value=te),type:"text",placeholder:"Type Answer",onKeypress:F[4]||(F[4]=te=>B(te)),class:"my-4 w-[250px] rounded-md bg-gradient-to-r from-purple-500 to-pink-500 p-3 text-center text-2xl text-white placeholder-black shadow shadow-black"},null,544),[[Lt,u.value]]),MN,N("button",{onClick:F[5]||(F[5]=Yh(te=>y(),["stop"])),class:"mt-2 rounded-md bg-gradient-to-br from-purple-500 to-blue-900 p-3 text-xl text-white shadow-md shadow-black"}," Check ")])):xt("",!0)])])):xt("",!0)}};/*! @license DOMPurify 3.0.9 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.0.9/LICENSE */const{entries:Ab,setPrototypeOf:ew,isFrozen:VN,getPrototypeOf:UN,getOwnPropertyDescriptor:FN}=Object;let{freeze:Yn,seal:Sr,create:xb}=Object,{apply:Ef,construct:Tf}=typeof Reflect<"u"&&Reflect;Yn||(Yn=function(e){return e});Sr||(Sr=function(e){return e});Ef||(Ef=function(e,n,r){return e.apply(n,r)});Tf||(Tf=function(e,n){return new e(...n)});const ku=ur(Array.prototype.forEach),tw=ur(Array.prototype.pop),fa=ur(Array.prototype.push),zu=ur(String.prototype.toLowerCase),Id=ur(String.prototype.toString),$N=ur(String.prototype.match),pa=ur(String.prototype.replace),BN=ur(String.prototype.indexOf),zN=ur(String.prototype.trim),yr=ur(Object.prototype.hasOwnProperty),sr=ur(RegExp.prototype.test),ma=jN(TypeError);function ur(t){return function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return Ef(t,e,r)}}function jN(t){return function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return Tf(t,n)}}function dt(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:zu;ew&&ew(t,null);let r=e.length;for(;r--;){let i=e[r];if(typeof i=="string"){const s=n(i);s!==i&&(VN(e)||(e[r]=s),i=s)}t[i]=!0}return t}function qN(t){for(let e=0;e<t.length;e++)yr(t,e)||(t[e]=null);return t}function ms(t){const e=xb(null);for(const[n,r]of Ab(t))yr(t,n)&&(Array.isArray(r)?e[n]=qN(r):r&&typeof r=="object"&&r.constructor===Object?e[n]=ms(r):e[n]=r);return e}function Eu(t,e){for(;t!==null;){const r=FN(t,e);if(r){if(r.get)return ur(r.get);if(typeof r.value=="function")return ur(r.value)}t=UN(t)}function n(){return null}return n}const nw=Yn(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Ad=Yn(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),xd=Yn(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),HN=Yn(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),Cd=Yn(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),WN=Yn(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),rw=Yn(["#text"]),iw=Yn(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),Sd=Yn(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),sw=Yn(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Tu=Yn(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),KN=Sr(/\{\{[\w\W]*|[\w\W]*\}\}/gm),GN=Sr(/<%[\w\W]*|[\w\W]*%>/gm),QN=Sr(/\${[\w\W]*}/gm),YN=Sr(/^data-[\-\w.\u00B7-\uFFFF]/),XN=Sr(/^aria-[\-\w]+$/),Cb=Sr(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),ZN=Sr(/^(?:\w+script|data):/i),JN=Sr(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),Sb=Sr(/^html$/i);var ow=Object.freeze({__proto__:null,MUSTACHE_EXPR:KN,ERB_EXPR:GN,TMPLIT_EXPR:QN,DATA_ATTR:YN,ARIA_ATTR:XN,IS_ALLOWED_URI:Cb,IS_SCRIPT_OR_DATA:ZN,ATTR_WHITESPACE:JN,DOCTYPE_NAME:Sb});const e5=function(){return typeof window>"u"?null:window},t5=function(e,n){if(typeof e!="object"||typeof e.createPolicy!="function")return null;let r=null;const i="data-tt-policy-suffix";n&&n.hasAttribute(i)&&(r=n.getAttribute(i));const s="dompurify"+(r?"#"+r:"");try{return e.createPolicy(s,{createHTML(o){return o},createScriptURL(o){return o}})}catch{return console.warn("TrustedTypes policy "+s+" could not be created."),null}};function Rb(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:e5();const e=Me=>Rb(Me);if(e.version="3.0.9",e.removed=[],!t||!t.document||t.document.nodeType!==9)return e.isSupported=!1,e;let{document:n}=t;const r=n,i=r.currentScript,{DocumentFragment:s,HTMLTemplateElement:o,Node:a,Element:l,NodeFilter:u,NamedNodeMap:d=t.NamedNodeMap||t.MozNamedAttrMap,HTMLFormElement:f,DOMParser:p,trustedTypes:m}=t,b=l.prototype,y=Eu(b,"cloneNode"),A=Eu(b,"nextSibling"),I=Eu(b,"childNodes"),x=Eu(b,"parentNode");if(typeof o=="function"){const Me=n.createElement("template");Me.content&&Me.content.ownerDocument&&(n=Me.content.ownerDocument)}let R,P="";const{implementation:B,createNodeIterator:G,createDocumentFragment:F,getElementsByTagName:te}=n,{importNode:ee}=r;let Z={};e.isSupported=typeof Ab=="function"&&typeof x=="function"&&B&&B.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:ae,ERB_EXPR:U,TMPLIT_EXPR:X,DATA_ATTR:T,ARIA_ATTR:re,IS_SCRIPT_OR_DATA:se,ATTR_WHITESPACE:W}=ow;let{IS_ALLOWED_URI:ce}=ow,ie=null;const de=dt({},[...nw,...Ad,...xd,...Cd,...rw]);let J=null;const Q=dt({},[...iw,...Sd,...sw,...Tu]);let ve=Object.seal(xb(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),_e=null,H=null,ze=!0,ut=!0,We=!1,je=!0,Ke=!1,Xe=!1,z=!1,V=!1,w=!1,j=!1,M=!1,S=!0,C=!1;const O="user-content-";let Y=!0,K=!1,L={},le=null;const fe=dt({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let he=null;const be=dt({},["audio","video","img","source","image","track"]);let Pe=null;const Ce=dt({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Fe="http://www.w3.org/1998/Math/MathML",rt="http://www.w3.org/2000/svg",ct="http://www.w3.org/1999/xhtml";let Vt=ct,pt=!1,dn=null;const Ot=dt({},[Fe,rt,ct],Id);let kt=null;const Hn=["application/xhtml+xml","text/html"],Ge="text/html";let Bt=null,Dn=null;const gr=n.createElement("form"),wn=function(ne){return ne instanceof RegExp||ne instanceof Function},cr=function(){let ne=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(Dn&&Dn===ne)){if((!ne||typeof ne!="object")&&(ne={}),ne=ms(ne),kt=Hn.indexOf(ne.PARSER_MEDIA_TYPE)===-1?Ge:ne.PARSER_MEDIA_TYPE,Bt=kt==="application/xhtml+xml"?Id:zu,ie=yr(ne,"ALLOWED_TAGS")?dt({},ne.ALLOWED_TAGS,Bt):de,J=yr(ne,"ALLOWED_ATTR")?dt({},ne.ALLOWED_ATTR,Bt):Q,dn=yr(ne,"ALLOWED_NAMESPACES")?dt({},ne.ALLOWED_NAMESPACES,Id):Ot,Pe=yr(ne,"ADD_URI_SAFE_ATTR")?dt(ms(Ce),ne.ADD_URI_SAFE_ATTR,Bt):Ce,he=yr(ne,"ADD_DATA_URI_TAGS")?dt(ms(be),ne.ADD_DATA_URI_TAGS,Bt):be,le=yr(ne,"FORBID_CONTENTS")?dt({},ne.FORBID_CONTENTS,Bt):fe,_e=yr(ne,"FORBID_TAGS")?dt({},ne.FORBID_TAGS,Bt):{},H=yr(ne,"FORBID_ATTR")?dt({},ne.FORBID_ATTR,Bt):{},L=yr(ne,"USE_PROFILES")?ne.USE_PROFILES:!1,ze=ne.ALLOW_ARIA_ATTR!==!1,ut=ne.ALLOW_DATA_ATTR!==!1,We=ne.ALLOW_UNKNOWN_PROTOCOLS||!1,je=ne.ALLOW_SELF_CLOSE_IN_ATTR!==!1,Ke=ne.SAFE_FOR_TEMPLATES||!1,Xe=ne.WHOLE_DOCUMENT||!1,w=ne.RETURN_DOM||!1,j=ne.RETURN_DOM_FRAGMENT||!1,M=ne.RETURN_TRUSTED_TYPE||!1,V=ne.FORCE_BODY||!1,S=ne.SANITIZE_DOM!==!1,C=ne.SANITIZE_NAMED_PROPS||!1,Y=ne.KEEP_CONTENT!==!1,K=ne.IN_PLACE||!1,ce=ne.ALLOWED_URI_REGEXP||Cb,Vt=ne.NAMESPACE||ct,ve=ne.CUSTOM_ELEMENT_HANDLING||{},ne.CUSTOM_ELEMENT_HANDLING&&wn(ne.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(ve.tagNameCheck=ne.CUSTOM_ELEMENT_HANDLING.tagNameCheck),ne.CUSTOM_ELEMENT_HANDLING&&wn(ne.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(ve.attributeNameCheck=ne.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),ne.CUSTOM_ELEMENT_HANDLING&&typeof ne.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(ve.allowCustomizedBuiltInElements=ne.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Ke&&(ut=!1),j&&(w=!0),L&&(ie=dt({},rw),J=[],L.html===!0&&(dt(ie,nw),dt(J,iw)),L.svg===!0&&(dt(ie,Ad),dt(J,Sd),dt(J,Tu)),L.svgFilters===!0&&(dt(ie,xd),dt(J,Sd),dt(J,Tu)),L.mathMl===!0&&(dt(ie,Cd),dt(J,sw),dt(J,Tu))),ne.ADD_TAGS&&(ie===de&&(ie=ms(ie)),dt(ie,ne.ADD_TAGS,Bt)),ne.ADD_ATTR&&(J===Q&&(J=ms(J)),dt(J,ne.ADD_ATTR,Bt)),ne.ADD_URI_SAFE_ATTR&&dt(Pe,ne.ADD_URI_SAFE_ATTR,Bt),ne.FORBID_CONTENTS&&(le===fe&&(le=ms(le)),dt(le,ne.FORBID_CONTENTS,Bt)),Y&&(ie["#text"]=!0),Xe&&dt(ie,["html","head","body"]),ie.table&&(dt(ie,["tbody"]),delete _e.tbody),ne.TRUSTED_TYPES_POLICY){if(typeof ne.TRUSTED_TYPES_POLICY.createHTML!="function")throw ma('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof ne.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw ma('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');R=ne.TRUSTED_TYPES_POLICY,P=R.createHTML("")}else R===void 0&&(R=t5(m,i)),R!==null&&typeof P=="string"&&(P=R.createHTML(""));Yn&&Yn(ne),Dn=ne}},zt=dt({},["mi","mo","mn","ms","mtext"]),Wn=dt({},["foreignobject","desc","title","annotation-xml"]),Te=dt({},["title","style","font","a","script"]),vn=dt({},[...Ad,...xd,...HN]),en=dt({},[...Cd,...WN]),Rr=function(ne){let Ee=x(ne);(!Ee||!Ee.tagName)&&(Ee={namespaceURI:Vt,tagName:"template"});const Re=zu(ne.tagName),st=zu(Ee.tagName);return dn[ne.namespaceURI]?ne.namespaceURI===rt?Ee.namespaceURI===ct?Re==="svg":Ee.namespaceURI===Fe?Re==="svg"&&(st==="annotation-xml"||zt[st]):!!vn[Re]:ne.namespaceURI===Fe?Ee.namespaceURI===ct?Re==="math":Ee.namespaceURI===rt?Re==="math"&&Wn[st]:!!en[Re]:ne.namespaceURI===ct?Ee.namespaceURI===rt&&!Wn[st]||Ee.namespaceURI===Fe&&!zt[st]?!1:!en[Re]&&(Te[Re]||!vn[Re]):!!(kt==="application/xhtml+xml"&&dn[ne.namespaceURI]):!1},Xn=function(ne){fa(e.removed,{element:ne});try{ne.parentNode.removeChild(ne)}catch{ne.remove()}},it=function(ne,Ee){try{fa(e.removed,{attribute:Ee.getAttributeNode(ne),from:Ee})}catch{fa(e.removed,{attribute:null,from:Ee})}if(Ee.removeAttribute(ne),ne==="is"&&!J[ne])if(w||j)try{Xn(Ee)}catch{}else try{Ee.setAttribute(ne,"")}catch{}},cn=function(ne){let Ee=null,Re=null;if(V)ne="<remove></remove>"+ne;else{const nn=$N(ne,/^[\r\n\t ]+/);Re=nn&&nn[0]}kt==="application/xhtml+xml"&&Vt===ct&&(ne='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+ne+"</body></html>");const st=R?R.createHTML(ne):ne;if(Vt===ct)try{Ee=new p().parseFromString(st,kt)}catch{}if(!Ee||!Ee.documentElement){Ee=B.createDocument(Vt,"template",null);try{Ee.documentElement.innerHTML=pt?P:st}catch{}}const Xt=Ee.body||Ee.documentElement;return ne&&Re&&Xt.insertBefore(n.createTextNode(Re),Xt.childNodes[0]||null),Vt===ct?te.call(Ee,Xe?"html":"body")[0]:Xe?Ee.documentElement:Xt},Zn=function(ne){return G.call(ne.ownerDocument||ne,ne,u.SHOW_ELEMENT|u.SHOW_COMMENT|u.SHOW_TEXT,null)},tn=function(ne){return ne instanceof f&&(typeof ne.nodeName!="string"||typeof ne.textContent!="string"||typeof ne.removeChild!="function"||!(ne.attributes instanceof d)||typeof ne.removeAttribute!="function"||typeof ne.setAttribute!="function"||typeof ne.namespaceURI!="string"||typeof ne.insertBefore!="function"||typeof ne.hasChildNodes!="function")},Yt=function(ne){return typeof a=="function"&&ne instanceof a},vt=function(ne,Ee,Re){Z[ne]&&ku(Z[ne],st=>{st.call(e,Ee,Re,Dn)})},ri=function(ne){let Ee=null;if(vt("beforeSanitizeElements",ne,null),tn(ne))return Xn(ne),!0;const Re=Bt(ne.nodeName);if(vt("uponSanitizeElement",ne,{tagName:Re,allowedTags:ie}),ne.hasChildNodes()&&!Yt(ne.firstElementChild)&&sr(/<[/\w]/g,ne.innerHTML)&&sr(/<[/\w]/g,ne.textContent))return Xn(ne),!0;if(!ie[Re]||_e[Re]){if(!_e[Re]&&Pr(Re)&&(ve.tagNameCheck instanceof RegExp&&sr(ve.tagNameCheck,Re)||ve.tagNameCheck instanceof Function&&ve.tagNameCheck(Re)))return!1;if(Y&&!le[Re]){const st=x(ne)||ne.parentNode,Xt=I(ne)||ne.childNodes;if(Xt&&st){const nn=Xt.length;for(let jt=nn-1;jt>=0;--jt)st.insertBefore(y(Xt[jt],!0),A(ne))}}return Xn(ne),!0}return ne instanceof l&&!Rr(ne)||(Re==="noscript"||Re==="noembed"||Re==="noframes")&&sr(/<\/no(script|embed|frames)/i,ne.innerHTML)?(Xn(ne),!0):(Ke&&ne.nodeType===3&&(Ee=ne.textContent,ku([ae,U,X],st=>{Ee=pa(Ee,st," ")}),ne.textContent!==Ee&&(fa(e.removed,{element:ne.cloneNode()}),ne.textContent=Ee)),vt("afterSanitizeElements",ne,null),!1)},Ti=function(ne,Ee,Re){if(S&&(Ee==="id"||Ee==="name")&&(Re in n||Re in gr))return!1;if(!(ut&&!H[Ee]&&sr(T,Ee))){if(!(ze&&sr(re,Ee))){if(!J[Ee]||H[Ee]){if(!(Pr(ne)&&(ve.tagNameCheck instanceof RegExp&&sr(ve.tagNameCheck,ne)||ve.tagNameCheck instanceof Function&&ve.tagNameCheck(ne))&&(ve.attributeNameCheck instanceof RegExp&&sr(ve.attributeNameCheck,Ee)||ve.attributeNameCheck instanceof Function&&ve.attributeNameCheck(Ee))||Ee==="is"&&ve.allowCustomizedBuiltInElements&&(ve.tagNameCheck instanceof RegExp&&sr(ve.tagNameCheck,Re)||ve.tagNameCheck instanceof Function&&ve.tagNameCheck(Re))))return!1}else if(!Pe[Ee]){if(!sr(ce,pa(Re,W,""))){if(!((Ee==="src"||Ee==="xlink:href"||Ee==="href")&&ne!=="script"&&BN(Re,"data:")===0&&he[ne])){if(!(We&&!sr(se,pa(Re,W,"")))){if(Re)return!1}}}}}}return!0},Pr=function(ne){return ne!=="annotation-xml"&&ne.indexOf("-")>0},bt=function(ne){vt("beforeSanitizeAttributes",ne,null);const{attributes:Ee}=ne;if(!Ee)return;const Re={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:J};let st=Ee.length;for(;st--;){const Xt=Ee[st],{name:nn,namespaceURI:jt,value:hr}=Xt,Dr=Bt(nn);let rn=nn==="value"?hr:zN(hr);if(Re.attrName=Dr,Re.attrValue=rn,Re.keepAttr=!0,Re.forceKeepAttr=void 0,vt("uponSanitizeAttribute",ne,Re),rn=Re.attrValue,Re.forceKeepAttr||(it(nn,ne),!Re.keepAttr))continue;if(!je&&sr(/\/>/i,rn)){it(nn,ne);continue}Ke&&ku([ae,U,X],ii=>{rn=pa(rn,ii," ")});const ns=Bt(ne.nodeName);if(Ti(ns,Dr,rn)){if(C&&(Dr==="id"||Dr==="name")&&(it(nn,ne),rn=O+rn),R&&typeof m=="object"&&typeof m.getAttributeType=="function"&&!jt)switch(m.getAttributeType(ns,Dr)){case"TrustedHTML":{rn=R.createHTML(rn);break}case"TrustedScriptURL":{rn=R.createScriptURL(rn);break}}try{jt?ne.setAttributeNS(jt,nn,rn):ne.setAttribute(nn,rn),tw(e.removed)}catch{}}}vt("afterSanitizeAttributes",ne,null)},Gs=function Me(ne){let Ee=null;const Re=Zn(ne);for(vt("beforeSanitizeShadowDOM",ne,null);Ee=Re.nextNode();)vt("uponSanitizeShadowNode",Ee,null),!ri(Ee)&&(Ee.content instanceof s&&Me(Ee.content),bt(Ee));vt("afterSanitizeShadowDOM",ne,null)};return e.sanitize=function(Me){let ne=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Ee=null,Re=null,st=null,Xt=null;if(pt=!Me,pt&&(Me="<!-->"),typeof Me!="string"&&!Yt(Me))if(typeof Me.toString=="function"){if(Me=Me.toString(),typeof Me!="string")throw ma("dirty is not a string, aborting")}else throw ma("toString is not a function");if(!e.isSupported)return Me;if(z||cr(ne),e.removed=[],typeof Me=="string"&&(K=!1),K){if(Me.nodeName){const hr=Bt(Me.nodeName);if(!ie[hr]||_e[hr])throw ma("root node is forbidden and cannot be sanitized in-place")}}else if(Me instanceof a)Ee=cn("<!---->"),Re=Ee.ownerDocument.importNode(Me,!0),Re.nodeType===1&&Re.nodeName==="BODY"||Re.nodeName==="HTML"?Ee=Re:Ee.appendChild(Re);else{if(!w&&!Ke&&!Xe&&Me.indexOf("<")===-1)return R&&M?R.createHTML(Me):Me;if(Ee=cn(Me),!Ee)return w?null:M?P:""}Ee&&V&&Xn(Ee.firstChild);const nn=Zn(K?Me:Ee);for(;st=nn.nextNode();)ri(st)||(st.content instanceof s&&Gs(st.content),bt(st));if(K)return Me;if(w){if(j)for(Xt=F.call(Ee.ownerDocument);Ee.firstChild;)Xt.appendChild(Ee.firstChild);else Xt=Ee;return(J.shadowroot||J.shadowrootmode)&&(Xt=ee.call(r,Xt,!0)),Xt}let jt=Xe?Ee.outerHTML:Ee.innerHTML;return Xe&&ie["!doctype"]&&Ee.ownerDocument&&Ee.ownerDocument.doctype&&Ee.ownerDocument.doctype.name&&sr(Sb,Ee.ownerDocument.doctype.name)&&(jt="<!DOCTYPE "+Ee.ownerDocument.doctype.name+`>
`+jt),Ke&&ku([ae,U,X],hr=>{jt=pa(jt,hr," ")}),R&&M?R.createHTML(jt):jt},e.setConfig=function(){let Me=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};cr(Me),z=!0},e.clearConfig=function(){Dn=null,z=!1},e.isValidAttribute=function(Me,ne,Ee){Dn||cr({});const Re=Bt(Me),st=Bt(ne);return Ti(Re,st,Ee)},e.addHook=function(Me,ne){typeof ne=="function"&&(Z[Me]=Z[Me]||[],fa(Z[Me],ne))},e.removeHook=function(Me){if(Z[Me])return tw(Z[Me])},e.removeHooks=function(Me){Z[Me]&&(Z[Me]=[])},e.removeAllHooks=function(){Z={}},e}var Rd=Rb();function vm(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}let Ks=vm();function Pb(t){Ks=t}const Db=/[&<>"']/,n5=new RegExp(Db.source,"g"),Ob=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,r5=new RegExp(Ob.source,"g"),i5={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},aw=t=>i5[t];function or(t,e){if(e){if(Db.test(t))return t.replace(n5,aw)}else if(Ob.test(t))return t.replace(r5,aw);return t}const s5=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig;function o5(t){return t.replace(s5,(e,n)=>(n=n.toLowerCase(),n==="colon"?":":n.charAt(0)==="#"?n.charAt(1)==="x"?String.fromCharCode(parseInt(n.substring(2),16)):String.fromCharCode(+n.substring(1)):""))}const a5=/(^|[^\[])\^/g;function Dt(t,e){let n=typeof t=="string"?t:t.source;e=e||"";const r={replace:(i,s)=>{let o=typeof s=="string"?s:s.source;return o=o.replace(a5,"$1"),n=n.replace(i,o),r},getRegex:()=>new RegExp(n,e)};return r}function lw(t){try{t=encodeURI(t).replace(/%25/g,"%")}catch{return null}return t}const Na={exec:()=>null};function uw(t,e){const n=t.replace(/\|/g,(s,o,a)=>{let l=!1,u=o;for(;--u>=0&&a[u]==="\\";)l=!l;return l?"|":" |"}),r=n.split(/ \|/);let i=0;if(r[0].trim()||r.shift(),r.length>0&&!r[r.length-1].trim()&&r.pop(),e)if(r.length>e)r.splice(e);else for(;r.length<e;)r.push("");for(;i<r.length;i++)r[i]=r[i].trim().replace(/\\\|/g,"|");return r}function Iu(t,e,n){const r=t.length;if(r===0)return"";let i=0;for(;i<r;){const s=t.charAt(r-i-1);if(s===e&&!n)i++;else if(s!==e&&n)i++;else break}return t.slice(0,r-i)}function l5(t,e){if(t.indexOf(e[1])===-1)return-1;let n=0;for(let r=0;r<t.length;r++)if(t[r]==="\\")r++;else if(t[r]===e[0])n++;else if(t[r]===e[1]&&(n--,n<0))return r;return-1}function cw(t,e,n,r){const i=e.href,s=e.title?or(e.title):null,o=t[1].replace(/\\([\[\]])/g,"$1");if(t[0].charAt(0)!=="!"){r.state.inLink=!0;const a={type:"link",raw:n,href:i,title:s,text:o,tokens:r.inlineTokens(o)};return r.state.inLink=!1,a}return{type:"image",raw:n,href:i,title:s,text:or(o)}}function u5(t,e){const n=t.match(/^(\s+)(?:```)/);if(n===null)return e;const r=n[1];return e.split(`
`).map(i=>{const s=i.match(/^\s+/);if(s===null)return i;const[o]=s;return o.length>=r.length?i.slice(r.length):i}).join(`
`)}class vc{constructor(e){Ht(this,"options");Ht(this,"rules");Ht(this,"lexer");this.options=e||Ks}space(e){const n=this.rules.block.newline.exec(e);if(n&&n[0].length>0)return{type:"space",raw:n[0]}}code(e){const n=this.rules.block.code.exec(e);if(n){const r=n[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:n[0],codeBlockStyle:"indented",text:this.options.pedantic?r:Iu(r,`
`)}}}fences(e){const n=this.rules.block.fences.exec(e);if(n){const r=n[0],i=u5(r,n[3]||"");return{type:"code",raw:r,lang:n[2]?n[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):n[2],text:i}}}heading(e){const n=this.rules.block.heading.exec(e);if(n){let r=n[2].trim();if(/#$/.test(r)){const i=Iu(r,"#");(this.options.pedantic||!i||/ $/.test(i))&&(r=i.trim())}return{type:"heading",raw:n[0],depth:n[1].length,text:r,tokens:this.lexer.inline(r)}}}hr(e){const n=this.rules.block.hr.exec(e);if(n)return{type:"hr",raw:n[0]}}blockquote(e){const n=this.rules.block.blockquote.exec(e);if(n){const r=Iu(n[0].replace(/^ *>[ \t]?/gm,""),`
`),i=this.lexer.state.top;this.lexer.state.top=!0;const s=this.lexer.blockTokens(r);return this.lexer.state.top=i,{type:"blockquote",raw:n[0],tokens:s,text:r}}}list(e){let n=this.rules.block.list.exec(e);if(n){let r=n[1].trim();const i=r.length>1,s={type:"list",raw:"",ordered:i,start:i?+r.slice(0,-1):"",loose:!1,items:[]};r=i?`\\d{1,9}\\${r.slice(-1)}`:`\\${r}`,this.options.pedantic&&(r=i?r:"[*+-]");const o=new RegExp(`^( {0,3}${r})((?:[	 ][^\\n]*)?(?:\\n|$))`);let a="",l="",u=!1;for(;e;){let d=!1;if(!(n=o.exec(e))||this.rules.block.hr.test(e))break;a=n[0],e=e.substring(a.length);let f=n[2].split(`
`,1)[0].replace(/^\t+/,I=>" ".repeat(3*I.length)),p=e.split(`
`,1)[0],m=0;this.options.pedantic?(m=2,l=f.trimStart()):(m=n[2].search(/[^ ]/),m=m>4?1:m,l=f.slice(m),m+=n[1].length);let b=!1;if(!f&&/^ *$/.test(p)&&(a+=p+`
`,e=e.substring(p.length+1),d=!0),!d){const I=new RegExp(`^ {0,${Math.min(3,m-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),x=new RegExp(`^ {0,${Math.min(3,m-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),R=new RegExp(`^ {0,${Math.min(3,m-1)}}(?:\`\`\`|~~~)`),P=new RegExp(`^ {0,${Math.min(3,m-1)}}#`);for(;e;){const B=e.split(`
`,1)[0];if(p=B,this.options.pedantic&&(p=p.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),R.test(p)||P.test(p)||I.test(p)||x.test(e))break;if(p.search(/[^ ]/)>=m||!p.trim())l+=`
`+p.slice(m);else{if(b||f.search(/[^ ]/)>=4||R.test(f)||P.test(f)||x.test(f))break;l+=`
`+p}!b&&!p.trim()&&(b=!0),a+=B+`
`,e=e.substring(B.length+1),f=p.slice(m)}}s.loose||(u?s.loose=!0:/\n *\n *$/.test(a)&&(u=!0));let y=null,A;this.options.gfm&&(y=/^\[[ xX]\] /.exec(l),y&&(A=y[0]!=="[ ] ",l=l.replace(/^\[[ xX]\] +/,""))),s.items.push({type:"list_item",raw:a,task:!!y,checked:A,loose:!1,text:l,tokens:[]}),s.raw+=a}s.items[s.items.length-1].raw=a.trimEnd(),s.items[s.items.length-1].text=l.trimEnd(),s.raw=s.raw.trimEnd();for(let d=0;d<s.items.length;d++)if(this.lexer.state.top=!1,s.items[d].tokens=this.lexer.blockTokens(s.items[d].text,[]),!s.loose){const f=s.items[d].tokens.filter(m=>m.type==="space"),p=f.length>0&&f.some(m=>/\n.*\n/.test(m.raw));s.loose=p}if(s.loose)for(let d=0;d<s.items.length;d++)s.items[d].loose=!0;return s}}html(e){const n=this.rules.block.html.exec(e);if(n)return{type:"html",block:!0,raw:n[0],pre:n[1]==="pre"||n[1]==="script"||n[1]==="style",text:n[0]}}def(e){const n=this.rules.block.def.exec(e);if(n){const r=n[1].toLowerCase().replace(/\s+/g," "),i=n[2]?n[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",s=n[3]?n[3].substring(1,n[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):n[3];return{type:"def",tag:r,raw:n[0],href:i,title:s}}}table(e){const n=this.rules.block.table.exec(e);if(!n||!/[:|]/.test(n[2]))return;const r=uw(n[1]),i=n[2].replace(/^\||\| *$/g,"").split("|"),s=n[3]&&n[3].trim()?n[3].replace(/\n[ \t]*$/,"").split(`
`):[],o={type:"table",raw:n[0],header:[],align:[],rows:[]};if(r.length===i.length){for(const a of i)/^ *-+: *$/.test(a)?o.align.push("right"):/^ *:-+: *$/.test(a)?o.align.push("center"):/^ *:-+ *$/.test(a)?o.align.push("left"):o.align.push(null);for(const a of r)o.header.push({text:a,tokens:this.lexer.inline(a)});for(const a of s)o.rows.push(uw(a,o.header.length).map(l=>({text:l,tokens:this.lexer.inline(l)})));return o}}lheading(e){const n=this.rules.block.lheading.exec(e);if(n)return{type:"heading",raw:n[0],depth:n[2].charAt(0)==="="?1:2,text:n[1],tokens:this.lexer.inline(n[1])}}paragraph(e){const n=this.rules.block.paragraph.exec(e);if(n){const r=n[1].charAt(n[1].length-1)===`
`?n[1].slice(0,-1):n[1];return{type:"paragraph",raw:n[0],text:r,tokens:this.lexer.inline(r)}}}text(e){const n=this.rules.block.text.exec(e);if(n)return{type:"text",raw:n[0],text:n[0],tokens:this.lexer.inline(n[0])}}escape(e){const n=this.rules.inline.escape.exec(e);if(n)return{type:"escape",raw:n[0],text:or(n[1])}}tag(e){const n=this.rules.inline.tag.exec(e);if(n)return!this.lexer.state.inLink&&/^<a /i.test(n[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(n[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(n[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(n[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:n[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:n[0]}}link(e){const n=this.rules.inline.link.exec(e);if(n){const r=n[2].trim();if(!this.options.pedantic&&/^</.test(r)){if(!/>$/.test(r))return;const o=Iu(r.slice(0,-1),"\\");if((r.length-o.length)%2===0)return}else{const o=l5(n[2],"()");if(o>-1){const l=(n[0].indexOf("!")===0?5:4)+n[1].length+o;n[2]=n[2].substring(0,o),n[0]=n[0].substring(0,l).trim(),n[3]=""}}let i=n[2],s="";if(this.options.pedantic){const o=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(i);o&&(i=o[1],s=o[3])}else s=n[3]?n[3].slice(1,-1):"";return i=i.trim(),/^</.test(i)&&(this.options.pedantic&&!/>$/.test(r)?i=i.slice(1):i=i.slice(1,-1)),cw(n,{href:i&&i.replace(this.rules.inline.anyPunctuation,"$1"),title:s&&s.replace(this.rules.inline.anyPunctuation,"$1")},n[0],this.lexer)}}reflink(e,n){let r;if((r=this.rules.inline.reflink.exec(e))||(r=this.rules.inline.nolink.exec(e))){const i=(r[2]||r[1]).replace(/\s+/g," "),s=n[i.toLowerCase()];if(!s){const o=r[0].charAt(0);return{type:"text",raw:o,text:o}}return cw(r,s,r[0],this.lexer)}}emStrong(e,n,r=""){let i=this.rules.inline.emStrongLDelim.exec(e);if(!i||i[3]&&r.match(/[\p{L}\p{N}]/u))return;if(!(i[1]||i[2]||"")||!r||this.rules.inline.punctuation.exec(r)){const o=[...i[0]].length-1;let a,l,u=o,d=0;const f=i[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(f.lastIndex=0,n=n.slice(-1*e.length+o);(i=f.exec(n))!=null;){if(a=i[1]||i[2]||i[3]||i[4]||i[5]||i[6],!a)continue;if(l=[...a].length,i[3]||i[4]){u+=l;continue}else if((i[5]||i[6])&&o%3&&!((o+l)%3)){d+=l;continue}if(u-=l,u>0)continue;l=Math.min(l,l+u+d);const p=[...i[0]][0].length,m=e.slice(0,o+i.index+p+l);if(Math.min(o,l)%2){const y=m.slice(1,-1);return{type:"em",raw:m,text:y,tokens:this.lexer.inlineTokens(y)}}const b=m.slice(2,-2);return{type:"strong",raw:m,text:b,tokens:this.lexer.inlineTokens(b)}}}}codespan(e){const n=this.rules.inline.code.exec(e);if(n){let r=n[2].replace(/\n/g," ");const i=/[^ ]/.test(r),s=/^ /.test(r)&&/ $/.test(r);return i&&s&&(r=r.substring(1,r.length-1)),r=or(r,!0),{type:"codespan",raw:n[0],text:r}}}br(e){const n=this.rules.inline.br.exec(e);if(n)return{type:"br",raw:n[0]}}del(e){const n=this.rules.inline.del.exec(e);if(n)return{type:"del",raw:n[0],text:n[2],tokens:this.lexer.inlineTokens(n[2])}}autolink(e){const n=this.rules.inline.autolink.exec(e);if(n){let r,i;return n[2]==="@"?(r=or(n[1]),i="mailto:"+r):(r=or(n[1]),i=r),{type:"link",raw:n[0],text:r,href:i,tokens:[{type:"text",raw:r,text:r}]}}}url(e){var r;let n;if(n=this.rules.inline.url.exec(e)){let i,s;if(n[2]==="@")i=or(n[0]),s="mailto:"+i;else{let o;do o=n[0],n[0]=((r=this.rules.inline._backpedal.exec(n[0]))==null?void 0:r[0])??"";while(o!==n[0]);i=or(n[0]),n[1]==="www."?s="http://"+n[0]:s=n[0]}return{type:"link",raw:n[0],text:i,href:s,tokens:[{type:"text",raw:i,text:i}]}}}inlineText(e){const n=this.rules.inline.text.exec(e);if(n){let r;return this.lexer.state.inRawBlock?r=n[0]:r=or(n[0]),{type:"text",raw:n[0],text:r}}}}const c5=/^(?: *(?:\n|$))+/,h5=/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,d5=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,Ml=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,f5=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,Nb=/(?:[*+-]|\d{1,9}[.)])/,Mb=Dt(/^(?!bull |blockCode|fences|blockquote|heading|html)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html))+?)\n {0,3}(=+|-+) *(?:\n+|$)/).replace(/bull/g,Nb).replace(/blockCode/g,/ {4}/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).getRegex(),ym=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,p5=/^[^\n]+/,bm=/(?!\s*\])(?:\\.|[^\[\]\\])+/,m5=Dt(/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/).replace("label",bm).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),g5=Dt(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,Nb).getRegex(),wh="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",km=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,_5=Dt("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))","i").replace("comment",km).replace("tag",wh).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),Lb=Dt(ym).replace("hr",Ml).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",wh).getRegex(),w5=Dt(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",Lb).getRegex(),Em={blockquote:w5,code:h5,def:m5,fences:d5,heading:f5,hr:Ml,html:_5,lheading:Mb,list:g5,newline:c5,paragraph:Lb,table:Na,text:p5},hw=Dt("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",Ml).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",wh).getRegex(),v5={...Em,table:hw,paragraph:Dt(ym).replace("hr",Ml).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",hw).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",wh).getRegex()},y5={...Em,html:Dt(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",km).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:Na,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:Dt(ym).replace("hr",Ml).replace("heading",` *#{1,6} *[^
]`).replace("lheading",Mb).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},Vb=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,b5=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,Ub=/^( {2,}|\\)\n(?!\s*$)/,k5=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,Ll="\\p{P}\\p{S}",E5=Dt(/^((?![*_])[\spunctuation])/,"u").replace(/punctuation/g,Ll).getRegex(),T5=/\[[^[\]]*?\]\([^\(\)]*?\)|`[^`]*?`|<[^<>]*?>/g,I5=Dt(/^(?:\*+(?:((?!\*)[punct])|[^\s*]))|^_+(?:((?!_)[punct])|([^\s_]))/,"u").replace(/punct/g,Ll).getRegex(),A5=Dt("^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)[punct](\\*+)(?=[\\s]|$)|[^punct\\s](\\*+)(?!\\*)(?=[punct\\s]|$)|(?!\\*)[punct\\s](\\*+)(?=[^punct\\s])|[\\s](\\*+)(?!\\*)(?=[punct])|(?!\\*)[punct](\\*+)(?!\\*)(?=[punct])|[^punct\\s](\\*+)(?=[^punct\\s])","gu").replace(/punct/g,Ll).getRegex(),x5=Dt("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)[punct](_+)(?=[\\s]|$)|[^punct\\s](_+)(?!_)(?=[punct\\s]|$)|(?!_)[punct\\s](_+)(?=[^punct\\s])|[\\s](_+)(?!_)(?=[punct])|(?!_)[punct](_+)(?!_)(?=[punct])","gu").replace(/punct/g,Ll).getRegex(),C5=Dt(/\\([punct])/,"gu").replace(/punct/g,Ll).getRegex(),S5=Dt(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),R5=Dt(km).replace("(?:-->|$)","-->").getRegex(),P5=Dt("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",R5).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),yc=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,D5=Dt(/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/).replace("label",yc).replace("href",/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),Fb=Dt(/^!?\[(label)\]\[(ref)\]/).replace("label",yc).replace("ref",bm).getRegex(),$b=Dt(/^!?\[(ref)\](?:\[\])?/).replace("ref",bm).getRegex(),O5=Dt("reflink|nolink(?!\\()","g").replace("reflink",Fb).replace("nolink",$b).getRegex(),Tm={_backpedal:Na,anyPunctuation:C5,autolink:S5,blockSkip:T5,br:Ub,code:b5,del:Na,emStrongLDelim:I5,emStrongRDelimAst:A5,emStrongRDelimUnd:x5,escape:Vb,link:D5,nolink:$b,punctuation:E5,reflink:Fb,reflinkSearch:O5,tag:P5,text:k5,url:Na},N5={...Tm,link:Dt(/^!?\[(label)\]\((.*?)\)/).replace("label",yc).getRegex(),reflink:Dt(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",yc).getRegex()},If={...Tm,escape:Dt(Vb).replace("])","~|])").getRegex(),url:Dt(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,"i").replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},M5={...If,br:Dt(Ub).replace("{2,}","*").getRegex(),text:Dt(If.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},Au={normal:Em,gfm:v5,pedantic:y5},ga={normal:Tm,gfm:If,breaks:M5,pedantic:N5};class Wr{constructor(e){Ht(this,"tokens");Ht(this,"options");Ht(this,"state");Ht(this,"tokenizer");Ht(this,"inlineQueue");this.tokens=[],this.tokens.links=Object.create(null),this.options=e||Ks,this.options.tokenizer=this.options.tokenizer||new vc,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const n={block:Au.normal,inline:ga.normal};this.options.pedantic?(n.block=Au.pedantic,n.inline=ga.pedantic):this.options.gfm&&(n.block=Au.gfm,this.options.breaks?n.inline=ga.breaks:n.inline=ga.gfm),this.tokenizer.rules=n}static get rules(){return{block:Au,inline:ga}}static lex(e,n){return new Wr(n).lex(e)}static lexInline(e,n){return new Wr(n).inlineTokens(e)}lex(e){e=e.replace(/\r\n|\r/g,`
`),this.blockTokens(e,this.tokens);for(let n=0;n<this.inlineQueue.length;n++){const r=this.inlineQueue[n];this.inlineTokens(r.src,r.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(e,n=[]){this.options.pedantic?e=e.replace(/\t/g,"    ").replace(/^ +$/gm,""):e=e.replace(/^( *)(\t+)/gm,(a,l,u)=>l+"    ".repeat(u.length));let r,i,s,o;for(;e;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(a=>(r=a.call({lexer:this},e,n))?(e=e.substring(r.raw.length),n.push(r),!0):!1))){if(r=this.tokenizer.space(e)){e=e.substring(r.raw.length),r.raw.length===1&&n.length>0?n[n.length-1].raw+=`
`:n.push(r);continue}if(r=this.tokenizer.code(e)){e=e.substring(r.raw.length),i=n[n.length-1],i&&(i.type==="paragraph"||i.type==="text")?(i.raw+=`
`+r.raw,i.text+=`
`+r.text,this.inlineQueue[this.inlineQueue.length-1].src=i.text):n.push(r);continue}if(r=this.tokenizer.fences(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.heading(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.hr(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.blockquote(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.list(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.html(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.def(e)){e=e.substring(r.raw.length),i=n[n.length-1],i&&(i.type==="paragraph"||i.type==="text")?(i.raw+=`
`+r.raw,i.text+=`
`+r.raw,this.inlineQueue[this.inlineQueue.length-1].src=i.text):this.tokens.links[r.tag]||(this.tokens.links[r.tag]={href:r.href,title:r.title});continue}if(r=this.tokenizer.table(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.lheading(e)){e=e.substring(r.raw.length),n.push(r);continue}if(s=e,this.options.extensions&&this.options.extensions.startBlock){let a=1/0;const l=e.slice(1);let u;this.options.extensions.startBlock.forEach(d=>{u=d.call({lexer:this},l),typeof u=="number"&&u>=0&&(a=Math.min(a,u))}),a<1/0&&a>=0&&(s=e.substring(0,a+1))}if(this.state.top&&(r=this.tokenizer.paragraph(s))){i=n[n.length-1],o&&i.type==="paragraph"?(i.raw+=`
`+r.raw,i.text+=`
`+r.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=i.text):n.push(r),o=s.length!==e.length,e=e.substring(r.raw.length);continue}if(r=this.tokenizer.text(e)){e=e.substring(r.raw.length),i=n[n.length-1],i&&i.type==="text"?(i.raw+=`
`+r.raw,i.text+=`
`+r.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=i.text):n.push(r);continue}if(e){const a="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(a);break}else throw new Error(a)}}return this.state.top=!0,n}inline(e,n=[]){return this.inlineQueue.push({src:e,tokens:n}),n}inlineTokens(e,n=[]){let r,i,s,o=e,a,l,u;if(this.tokens.links){const d=Object.keys(this.tokens.links);if(d.length>0)for(;(a=this.tokenizer.rules.inline.reflinkSearch.exec(o))!=null;)d.includes(a[0].slice(a[0].lastIndexOf("[")+1,-1))&&(o=o.slice(0,a.index)+"["+"a".repeat(a[0].length-2)+"]"+o.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(a=this.tokenizer.rules.inline.blockSkip.exec(o))!=null;)o=o.slice(0,a.index)+"["+"a".repeat(a[0].length-2)+"]"+o.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(a=this.tokenizer.rules.inline.anyPunctuation.exec(o))!=null;)o=o.slice(0,a.index)+"++"+o.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;e;)if(l||(u=""),l=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(d=>(r=d.call({lexer:this},e,n))?(e=e.substring(r.raw.length),n.push(r),!0):!1))){if(r=this.tokenizer.escape(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.tag(e)){e=e.substring(r.raw.length),i=n[n.length-1],i&&r.type==="text"&&i.type==="text"?(i.raw+=r.raw,i.text+=r.text):n.push(r);continue}if(r=this.tokenizer.link(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(r.raw.length),i=n[n.length-1],i&&r.type==="text"&&i.type==="text"?(i.raw+=r.raw,i.text+=r.text):n.push(r);continue}if(r=this.tokenizer.emStrong(e,o,u)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.codespan(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.br(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.del(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.autolink(e)){e=e.substring(r.raw.length),n.push(r);continue}if(!this.state.inLink&&(r=this.tokenizer.url(e))){e=e.substring(r.raw.length),n.push(r);continue}if(s=e,this.options.extensions&&this.options.extensions.startInline){let d=1/0;const f=e.slice(1);let p;this.options.extensions.startInline.forEach(m=>{p=m.call({lexer:this},f),typeof p=="number"&&p>=0&&(d=Math.min(d,p))}),d<1/0&&d>=0&&(s=e.substring(0,d+1))}if(r=this.tokenizer.inlineText(s)){e=e.substring(r.raw.length),r.raw.slice(-1)!=="_"&&(u=r.raw.slice(-1)),l=!0,i=n[n.length-1],i&&i.type==="text"?(i.raw+=r.raw,i.text+=r.text):n.push(r);continue}if(e){const d="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(d);break}else throw new Error(d)}}return n}}class bc{constructor(e){Ht(this,"options");this.options=e||Ks}code(e,n,r){var s;const i=(s=(n||"").match(/^\S*/))==null?void 0:s[0];return e=e.replace(/\n$/,"")+`
`,i?'<pre><code class="language-'+or(i)+'">'+(r?e:or(e,!0))+`</code></pre>
`:"<pre><code>"+(r?e:or(e,!0))+`</code></pre>
`}blockquote(e){return`<blockquote>
${e}</blockquote>
`}html(e,n){return e}heading(e,n,r){return`<h${n}>${e}</h${n}>
`}hr(){return`<hr>
`}list(e,n,r){const i=n?"ol":"ul",s=n&&r!==1?' start="'+r+'"':"";return"<"+i+s+`>
`+e+"</"+i+`>
`}listitem(e,n,r){return`<li>${e}</li>
`}checkbox(e){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph(e){return`<p>${e}</p>
`}table(e,n){return n&&(n=`<tbody>${n}</tbody>`),`<table>
<thead>
`+e+`</thead>
`+n+`</table>
`}tablerow(e){return`<tr>
${e}</tr>
`}tablecell(e,n){const r=n.header?"th":"td";return(n.align?`<${r} align="${n.align}">`:`<${r}>`)+e+`</${r}>
`}strong(e){return`<strong>${e}</strong>`}em(e){return`<em>${e}</em>`}codespan(e){return`<code>${e}</code>`}br(){return"<br>"}del(e){return`<del>${e}</del>`}link(e,n,r){const i=lw(e);if(i===null)return r;e=i;let s='<a href="'+e+'"';return n&&(s+=' title="'+n+'"'),s+=">"+r+"</a>",s}image(e,n,r){const i=lw(e);if(i===null)return r;e=i;let s=`<img src="${e}" alt="${r}"`;return n&&(s+=` title="${n}"`),s+=">",s}text(e){return e}}class Im{strong(e){return e}em(e){return e}codespan(e){return e}del(e){return e}html(e){return e}text(e){return e}link(e,n,r){return""+r}image(e,n,r){return""+r}br(){return""}}class Kr{constructor(e){Ht(this,"options");Ht(this,"renderer");Ht(this,"textRenderer");this.options=e||Ks,this.options.renderer=this.options.renderer||new bc,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new Im}static parse(e,n){return new Kr(n).parse(e)}static parseInline(e,n){return new Kr(n).parseInline(e)}parse(e,n=!0){let r="";for(let i=0;i<e.length;i++){const s=e[i];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[s.type]){const o=s,a=this.options.extensions.renderers[o.type].call({parser:this},o);if(a!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(o.type)){r+=a||"";continue}}switch(s.type){case"space":continue;case"hr":{r+=this.renderer.hr();continue}case"heading":{const o=s;r+=this.renderer.heading(this.parseInline(o.tokens),o.depth,o5(this.parseInline(o.tokens,this.textRenderer)));continue}case"code":{const o=s;r+=this.renderer.code(o.text,o.lang,!!o.escaped);continue}case"table":{const o=s;let a="",l="";for(let d=0;d<o.header.length;d++)l+=this.renderer.tablecell(this.parseInline(o.header[d].tokens),{header:!0,align:o.align[d]});a+=this.renderer.tablerow(l);let u="";for(let d=0;d<o.rows.length;d++){const f=o.rows[d];l="";for(let p=0;p<f.length;p++)l+=this.renderer.tablecell(this.parseInline(f[p].tokens),{header:!1,align:o.align[p]});u+=this.renderer.tablerow(l)}r+=this.renderer.table(a,u);continue}case"blockquote":{const o=s,a=this.parse(o.tokens);r+=this.renderer.blockquote(a);continue}case"list":{const o=s,a=o.ordered,l=o.start,u=o.loose;let d="";for(let f=0;f<o.items.length;f++){const p=o.items[f],m=p.checked,b=p.task;let y="";if(p.task){const A=this.renderer.checkbox(!!m);u?p.tokens.length>0&&p.tokens[0].type==="paragraph"?(p.tokens[0].text=A+" "+p.tokens[0].text,p.tokens[0].tokens&&p.tokens[0].tokens.length>0&&p.tokens[0].tokens[0].type==="text"&&(p.tokens[0].tokens[0].text=A+" "+p.tokens[0].tokens[0].text)):p.tokens.unshift({type:"text",text:A+" "}):y+=A+" "}y+=this.parse(p.tokens,u),d+=this.renderer.listitem(y,b,!!m)}r+=this.renderer.list(d,a,l);continue}case"html":{const o=s;r+=this.renderer.html(o.text,o.block);continue}case"paragraph":{const o=s;r+=this.renderer.paragraph(this.parseInline(o.tokens));continue}case"text":{let o=s,a=o.tokens?this.parseInline(o.tokens):o.text;for(;i+1<e.length&&e[i+1].type==="text";)o=e[++i],a+=`
`+(o.tokens?this.parseInline(o.tokens):o.text);r+=n?this.renderer.paragraph(a):a;continue}default:{const o='Token with "'+s.type+'" type was not found.';if(this.options.silent)return console.error(o),"";throw new Error(o)}}}return r}parseInline(e,n){n=n||this.renderer;let r="";for(let i=0;i<e.length;i++){const s=e[i];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[s.type]){const o=this.options.extensions.renderers[s.type].call({parser:this},s);if(o!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(s.type)){r+=o||"";continue}}switch(s.type){case"escape":{const o=s;r+=n.text(o.text);break}case"html":{const o=s;r+=n.html(o.text);break}case"link":{const o=s;r+=n.link(o.href,o.title,this.parseInline(o.tokens,n));break}case"image":{const o=s;r+=n.image(o.href,o.title,o.text);break}case"strong":{const o=s;r+=n.strong(this.parseInline(o.tokens,n));break}case"em":{const o=s;r+=n.em(this.parseInline(o.tokens,n));break}case"codespan":{const o=s;r+=n.codespan(o.text);break}case"br":{r+=n.br();break}case"del":{const o=s;r+=n.del(this.parseInline(o.tokens,n));break}case"text":{const o=s;r+=n.text(o.text);break}default:{const o='Token with "'+s.type+'" type was not found.';if(this.options.silent)return console.error(o),"";throw new Error(o)}}}return r}}class Ma{constructor(e){Ht(this,"options");this.options=e||Ks}preprocess(e){return e}postprocess(e){return e}processAllTokens(e){return e}}Ht(Ma,"passThroughHooks",new Set(["preprocess","postprocess","processAllTokens"]));var ul,Af,kc,Bb;class L5{constructor(...e){jh(this,ul);jh(this,kc);Ht(this,"defaults",vm());Ht(this,"options",this.setOptions);Ht(this,"parse",ru(this,ul,Af).call(this,Wr.lex,Kr.parse));Ht(this,"parseInline",ru(this,ul,Af).call(this,Wr.lexInline,Kr.parseInline));Ht(this,"Parser",Kr);Ht(this,"Renderer",bc);Ht(this,"TextRenderer",Im);Ht(this,"Lexer",Wr);Ht(this,"Tokenizer",vc);Ht(this,"Hooks",Ma);this.use(...e)}walkTokens(e,n){var i,s;let r=[];for(const o of e)switch(r=r.concat(n.call(this,o)),o.type){case"table":{const a=o;for(const l of a.header)r=r.concat(this.walkTokens(l.tokens,n));for(const l of a.rows)for(const u of l)r=r.concat(this.walkTokens(u.tokens,n));break}case"list":{const a=o;r=r.concat(this.walkTokens(a.items,n));break}default:{const a=o;(s=(i=this.defaults.extensions)==null?void 0:i.childTokens)!=null&&s[a.type]?this.defaults.extensions.childTokens[a.type].forEach(l=>{const u=a[l].flat(1/0);r=r.concat(this.walkTokens(u,n))}):a.tokens&&(r=r.concat(this.walkTokens(a.tokens,n)))}}return r}use(...e){const n=this.defaults.extensions||{renderers:{},childTokens:{}};return e.forEach(r=>{const i={...r};if(i.async=this.defaults.async||i.async||!1,r.extensions&&(r.extensions.forEach(s=>{if(!s.name)throw new Error("extension name required");if("renderer"in s){const o=n.renderers[s.name];o?n.renderers[s.name]=function(...a){let l=s.renderer.apply(this,a);return l===!1&&(l=o.apply(this,a)),l}:n.renderers[s.name]=s.renderer}if("tokenizer"in s){if(!s.level||s.level!=="block"&&s.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");const o=n[s.level];o?o.unshift(s.tokenizer):n[s.level]=[s.tokenizer],s.start&&(s.level==="block"?n.startBlock?n.startBlock.push(s.start):n.startBlock=[s.start]:s.level==="inline"&&(n.startInline?n.startInline.push(s.start):n.startInline=[s.start]))}"childTokens"in s&&s.childTokens&&(n.childTokens[s.name]=s.childTokens)}),i.extensions=n),r.renderer){const s=this.defaults.renderer||new bc(this.defaults);for(const o in r.renderer){if(!(o in s))throw new Error(`renderer '${o}' does not exist`);if(o==="options")continue;const a=o,l=r.renderer[a],u=s[a];s[a]=(...d)=>{let f=l.apply(s,d);return f===!1&&(f=u.apply(s,d)),f||""}}i.renderer=s}if(r.tokenizer){const s=this.defaults.tokenizer||new vc(this.defaults);for(const o in r.tokenizer){if(!(o in s))throw new Error(`tokenizer '${o}' does not exist`);if(["options","rules","lexer"].includes(o))continue;const a=o,l=r.tokenizer[a],u=s[a];s[a]=(...d)=>{let f=l.apply(s,d);return f===!1&&(f=u.apply(s,d)),f}}i.tokenizer=s}if(r.hooks){const s=this.defaults.hooks||new Ma;for(const o in r.hooks){if(!(o in s))throw new Error(`hook '${o}' does not exist`);if(o==="options")continue;const a=o,l=r.hooks[a],u=s[a];Ma.passThroughHooks.has(o)?s[a]=d=>{if(this.defaults.async)return Promise.resolve(l.call(s,d)).then(p=>u.call(s,p));const f=l.call(s,d);return u.call(s,f)}:s[a]=(...d)=>{let f=l.apply(s,d);return f===!1&&(f=u.apply(s,d)),f}}i.hooks=s}if(r.walkTokens){const s=this.defaults.walkTokens,o=r.walkTokens;i.walkTokens=function(a){let l=[];return l.push(o.call(this,a)),s&&(l=l.concat(s.call(this,a))),l}}this.defaults={...this.defaults,...i}}),this}setOptions(e){return this.defaults={...this.defaults,...e},this}lexer(e,n){return Wr.lex(e,n??this.defaults)}parser(e,n){return Kr.parse(e,n??this.defaults)}}ul=new WeakSet,Af=function(e,n){return(r,i)=>{const s={...i},o={...this.defaults,...s};this.defaults.async===!0&&s.async===!1&&(o.silent||console.warn("marked(): The async option was set to true by an extension. The async: false option sent to parse will be ignored."),o.async=!0);const a=ru(this,kc,Bb).call(this,!!o.silent,!!o.async);if(typeof r>"u"||r===null)return a(new Error("marked(): input parameter is undefined or null"));if(typeof r!="string")return a(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(r)+", string expected"));if(o.hooks&&(o.hooks.options=o),o.async)return Promise.resolve(o.hooks?o.hooks.preprocess(r):r).then(l=>e(l,o)).then(l=>o.hooks?o.hooks.processAllTokens(l):l).then(l=>o.walkTokens?Promise.all(this.walkTokens(l,o.walkTokens)).then(()=>l):l).then(l=>n(l,o)).then(l=>o.hooks?o.hooks.postprocess(l):l).catch(a);try{o.hooks&&(r=o.hooks.preprocess(r));let l=e(r,o);o.hooks&&(l=o.hooks.processAllTokens(l)),o.walkTokens&&this.walkTokens(l,o.walkTokens);let u=n(l,o);return o.hooks&&(u=o.hooks.postprocess(u)),u}catch(l){return a(l)}}},kc=new WeakSet,Bb=function(e,n){return r=>{if(r.message+=`
Please report this to https://github.com/markedjs/marked.`,e){const i="<p>An error occurred:</p><pre>"+or(r.message+"",!0)+"</pre>";return n?Promise.resolve(i):i}if(n)return Promise.reject(r);throw r}};const Bs=new L5;function Ct(t,e){return Bs.parse(t,e)}Ct.options=Ct.setOptions=function(t){return Bs.setOptions(t),Ct.defaults=Bs.defaults,Pb(Ct.defaults),Ct};Ct.getDefaults=vm;Ct.defaults=Ks;Ct.use=function(...t){return Bs.use(...t),Ct.defaults=Bs.defaults,Pb(Ct.defaults),Ct};Ct.walkTokens=function(t,e){return Bs.walkTokens(t,e)};Ct.parseInline=Bs.parseInline;Ct.Parser=Kr;Ct.parser=Kr.parse;Ct.Renderer=bc;Ct.TextRenderer=Im;Ct.Lexer=Wr;Ct.lexer=Wr.lex;Ct.Tokenizer=vc;Ct.Hooks=Ma;Ct.parse=Ct;Ct.options;Ct.setOptions;Ct.use;Ct.walkTokens;Ct.parseInline;Kr.parse;Wr.lex;const V5={key:0,class:"fixed bottom-0 left-0 right-0 top-0 z-50 rounded-lg bg-gradient-to-t from-pink-700 to-purple-800 p-10 text-center shadow-xl shadow-black"},U5={class:"max-h-[80vh] overflow-auto"},F5=["innerHTML"],$5={key:0},B5=N("hr",{class:"mx-3 rounded-full border-2 border-white"},null,-1),z5=["innerHTML"],j5=N("br",null,null,-1),q5={key:1},H5=N("hr",{class:"mx-3 rounded-full border-2 border-white"},null,-1),W5={class:"absolute bottom-0 left-1/2 w-full -translate-x-1/2 text-5xl"},K5={key:0},G5={key:1},Q5={key:0,class:"flex"},Y5={key:1},X5={__name:"LargeReview",props:["auth","db","timeDuration","timeMultiplier"],emits:["reselectDeck"],setup(t,{expose:e,emit:n}){const r=t;St("space","large_review",function(G,F){G.preventDefault(),p()}),St("space","large_yes_no",function(G,F){G.preventDefault(),b(!0)}),St("c","large_yes_no",function(G,F){G.preventDefault(),b(!1)}),St("space","large_check_type_ans",function(G,F){G.preventDefault(),m()}),St("enter","large_check_type_ans",function(G,F){G.preventDefault(),m()});const i=we(!1),s=we(""),o=we([]),a=we(0),l=we(!1),u=we(""),d=we(null);function f(G,F){F.forEach(te=>{(te.front.split(`
`)[0]==="[markdown]"||te.front.split(`
`)[0]==="[md]")&&(te.front=te.front.split(`
`).slice(1).join(`
`),te.front=Rd.sanitize(Ct.parse(te.front))),(te.back.split(`
`)[0]==="[markdown]"||te.back.split(`
`)[0]==="[md]")&&(te.back=te.back.split(`
`).slice(1).join(`
`),te.back=Ct.parse(te.back)),te.front=Rd.sanitize(te.front),te.back=Rd.sanitize(te.back)}),s.value=G,o.value=F,a.value=I(0,o.value.length),i.value=!0,St.setScope("large_review"),document.body.style.overflow="hidden",o.value[a.value].type_answer&&A()}function p(){l.value=!0,St.setScope("large_yes_no")}function m(){const G=o.value[a.value].back.replace(/\[.*?\]/gs,"");u.value===G?(b(!0),u.value=""):(b(!1),u.value="")}function b(G){const F=new Date,te=new Date(F.getFullYear(),F.getMonth(),F.getDate());if(G===!0)if(o.value[a.value].streak===0)o.value[a.value].streak=.5,P(!0);else if(o.value[a.value].streak===.5){let ee=new Date(te);ee.setDate(ee.getDate()+1),Wt(ft(r.db,`users/${r.auth.currentUser.uid}/decks/${s.value}/cards/${o.value[a.value].id}`),{next_review:tt.fromDate(ee),streak:1}),R()}else{const ee=Math.pow(r.timeMultiplier,o.value[a.value].streak)*r.timeDuration,Z=Math.floor(ee/24);let ae=new Date(te);ae.setDate(ae.getDate()+Z),Wt(ft(r.db,`users/${r.auth.currentUser.uid}/decks/${s.value}/cards/${o.value[a.value].id}`),{next_review:tt.fromDate(ae),streak:o.value[a.value].streak+1}),R()}else o.value[a.value].streak!==0&&o.value[a.value].streak!==.5&&Wt(ft(r.db,`users/${r.auth.currentUser.uid}/decks/${s.value}/cards/${o.value[a.value].id}`),{next_review:tt.fromDate(new Date),streak:0}),o.value[a.value].streak=0,P(!0);o.value.length>0&&o.value[a.value].type_answer&&A()}function y(){l.value=!0,St.setScope("large_check_type_ans")}async function A(){await Rs(),d.value.focus()}function I(G,F){return Math.floor(Math.random()*(F-G))+G}function x(){i.value=!1,l.value=!1,document.body.style.overflow="auto",St.setScope("all"),n("reselectDeck")}function R(){o.value.splice(a.value,1),o.value.length!==0?P(!1):(x(),He.fire({title:"You've finished all reviews for today.",text:"Come back tomorrow for more.",color:"black",icon:"success"}))}function P(G){if(G)if(o.value.length!==1){let F=I(0,o.value.length);for(;F===a.value;)F=I(0,o.value.length);a.value=F}else a.value=0;else a.value=I(0,o.value.length);l.value=!1,St.setScope("large_review")}function B(){d.value.style.height="auto",d.value.style.height=d.value.scrollHeight+"px"}return e({reviewCards:f}),(G,F)=>i.value?(Ae(),De("div",V5,[N("button",{onClick:F[0]||(F[0]=te=>x()),class:"fixed left-5 top-5 rounded bg-gray-700 p-3 text-white"}," Cancel "),N("div",U5,[N("div",{innerHTML:o.value[a.value].front,class:"prose mx-8 my-4 inline-block whitespace-pre-wrap text-2xl text-white prose-headings:text-inherit prose-a:text-blue-500 prose-blockquote:text-inherit prose-strong:text-inherit prose-code:text-inherit prose-li:marker:text-inherit prose-img:m-auto prose-img:block prose-video:m-auto prose-video:block"},null,8,F5),l.value===!0?(Ae(),De("div",$5,[B5,N("div",{innerHTML:o.value[a.value].back,class:"prose mx-8 my-4 inline-block whitespace-pre-wrap text-2xl text-white prose-headings:text-inherit prose-a:text-blue-500 prose-blockquote:text-inherit prose-strong:text-inherit prose-code:text-inherit prose-li:marker:text-inherit prose-img:m-auto prose-img:block prose-video:m-auto prose-video:block"},null,8,z5),j5])):xt("",!0),o.value[a.value].type_answer===!0&&l.value===!1?(Ae(),De("div",q5,[H5,Je(N("textarea",{ref_key:"answer_field_ref",ref:d,"onUpdate:modelValue":F[1]||(F[1]=te=>u.value=te),onInput:F[2]||(F[2]=te=>B()),placeholder:"Type Answer",class:"my-4 min-h-[125px] w-full resize-none rounded-md bg-gradient-to-r from-purple-500 to-pink-500 p-3 text-center text-2xl text-white placeholder-black shadow shadow-black"},null,544),[[Lt,u.value]])])):xt("",!0)]),N("div",W5,[l.value?(Ae(),De("div",G5,[o.value[a.value].type_answer?(Ae(),De("div",Y5,[N("button",{onClick:F[7]||(F[7]=te=>m()),class:"w-full bg-gray-300 p-3"}," Next ")])):(Ae(),De("div",Q5,[N("button",{onClick:F[5]||(F[5]=te=>b(!1)),class:"w-full flex-1 bg-red-400 p-3"}," Wrong "),N("button",{onClick:F[6]||(F[6]=te=>b(!0)),class:"w-full flex-1 bg-green-400 p-3"}," Correct ")]))])):(Ae(),De("div",K5,[o.value[a.value].type_answer?(Ae(),De("button",{key:1,onClick:F[4]||(F[4]=te=>y()),class:"w-full bg-gray-400 p-3"}," Check ")):(Ae(),De("button",{key:0,onClick:F[3]||(F[3]=te=>p()),class:"w-full bg-gray-400 p-3"}," Show Back "))]))])])):xt("",!0)}},Z5={class:"fixed bottom-0 left-0 right-0 top-0 z-50 bg-gray-600 bg-opacity-50"},J5={class:"fixed left-1/2 top-1/2 max-h-screen w-[500px] max-w-[80vw] -translate-x-1/2 -translate-y-1/2 overflow-auto rounded-md bg-orange-300 px-3 py-10 text-center text-xl shadow-lg shadow-black"},eM=nv('<div><p class="text-3xl">Update 0.7.1</p><p> This update addresses several issues related to deck importing, including resolving scaling problems on smaller screens and enabling smooth importing of decks with multiple field lists. Additionally, it introduces a new feature: random sort order. Unlike traditional random sorting methods, this feature ensures an enhanced user experience by providing a unique random order for each deck. It guarantees that no cards are duplicated within a deck, as it generates random numbers based on the deck ID </p></div><div><p class="text-3xl">Update 0.7.0</p><div class="mt-5"><p class="text-2xl">Summary</p><p> This update introduces two significant features: Large Cards and Anki Import. Large Cards offer users increased customization options with support for HTML and Markdown formats, enabling seamless integration of multimedia elements. With the addition of Anki Import functionality, users can effortlessly incorporate premade decks into their study routines, enhancing versatility and accessibility. </p></div><div class="mt-5"><p class="text-2xl">Changelog</p><ul class="ml-5 list-disc"><li><strong>Anki Import Added:</strong> Implemented Anki Import feature for seamless deck integration. Find premade decks at <a href="https://ankiweb.net/shared/decks" class="text-blue-900">AnkiWeb</a>. </li><li><strong>Large Cards Added:</strong> Introduced Large Cards supporting HTML and Markdown formats for enhanced customization and multimedia integration. </li><li><strong>Deck Card Editor Update:</strong> Enhanced search functionality by querying firestore instead of local storage and introduced pagination. </li><li><strong>Alerts Switched:</strong> Replaced regular alerts with sweetalert2 library. </li><li><strong>Improved Settings:</strong> Refined the settings interface and relocated the DeckMigration button. </li><li><strong>Fixed Background Scrolling:</strong> Prevented background scrolling when a menu is open. </li><li><strong>Review Issues Fix:</strong> Addressed various review-related issues. </li><li><strong>Total Cards Display:</strong> Added total cards text feature. </li></ul></div></div>',2),tM={__name:"Changelog",emits:["close"],setup(t,{emit:e}){return(n,r)=>(Ae(),De("div",Z5,[N("div",J5,[N("button",{onClick:r[0]||(r[0]=i=>n.$emit("close")),class:"mb-5 rounded-md bg-gray-500 p-2 shadow shadow-black"}," Close "),eM])]))}},nM={key:0,class:"absolute left-5 top-5"},rM={key:1,class:"fixed bottom-0 left-0 right-0 top-0 z-50 bg-gray-600 bg-opacity-50"},iM={class:"fixed left-1/2 top-1/2 inline-block -translate-x-1/2 -translate-y-1/2 rounded-md bg-yellow-300 p-3 text-center shadow-lg shadow-black"},sM=N("p",{class:"text-lg"},"Deck Migration Tool",-1),oM=N("p",null," This tool adds a required new_card field to all new cards in your deck. ",-1),aM=N("option",{selected:"",disabled:"",value:""},"Select Deck",-1),lM=["value"],uM=N("br",null,null,-1),cM={key:0,class:"mt-3 rounded bg-amber-400 p-3"},hM={__name:"DeckMigration",props:["auth","db"],emits:["loadDecks"],setup(t,{expose:e,emit:n}){const r=t,i=we(!1),s=we([]),o=we(null),a=we("");async function l(){s.value=[],(await jr(Mt(r.db,`users/${r.auth.currentUser.uid}/decks`))).forEach(p=>{s.value.push({name:p.data().name,id:p.id})}),i.value=!0,document.body.style.overflow="hidden"}function u(){i.value=!1,document.body.style.overflow="auto"}async function d(){console.log(o.value),a.value="Getting Old Deck";const f=await $s(ft(r.db,`users/${r.auth.currentUser.uid}/decks/${o.value}`));a.value="Creating New Deck";const p=await Jr(Mt(r.db,`users/${r.auth.currentUser.uid}/decks`),{name:f.data().name+"(new)",new_cards_today:f.data().new_cards_today,last_update:f.data().last_update,index:f.data().index,new_cards_per_day:f.data().new_cards_per_day,large_cards:f.data().large_cards}).catch(y=>{He.fire({title:y,color:"black",icon:"error"})});a.value="Getting Old Cards";const m=await jr(Mt(r.db,`users/${r.auth.currentUser.uid}/decks/${o.value}/cards`)),b=m.size;m.forEach(async(y,A)=>{a.value="Creating New Cards"+A+"/"+b,await Jr(Mt(r.db,`users/${r.auth.currentUser.uid}/decks/${p.id}/cards/`),{front:y.data().front,back:y.data().back,streak:y.data().streak,next_review:y.data().next_review,type_answer:!!y.data().type_answer,new_card:y.data().streak===-1}).catch(I=>{He.fire({title:I,color:"black",icon:"error"})})}),a.value="Done",n("loadDecks")}return e({openMigrate:l}),(f,p)=>(Ae(),De(ln,null,[t.auth!==null&&t.auth.currentUser!==null?(Ae(),De("div",nM)):xt("",!0),i.value?(Ae(),De("div",rM,[N("div",iM,[N("button",{onClick:p[0]||(p[0]=m=>u()),class:"rounded bg-red-400 p-3"}," Close "),sM,oM,Je(N("select",{"onUpdate:modelValue":p[1]||(p[1]=m=>o.value=m),class:"mt-3 rounded bg-orange-300 p-3"},[aM,(Ae(!0),De(ln,null,hi(s.value,m=>(Ae(),De("option",{value:m.id},Tt(m.name),9,lM))),256))],512),[[ws,o.value]]),uM,N("div",null,[o.value?(Ae(),De("button",{key:0,onClick:p[2]||(p[2]=m=>d()),class:"mt-3 rounded bg-blue-500 p-3"}," Migrate ")):xt("",!0)]),a.value!==""?(Ae(),De("div",cM,[N("p",null,Tt(a.value),1)])):xt("",!0)])])):xt("",!0)],64))}},dM={class:"mb-5 mt-8"},fM=N("br",null,null,-1),pM={__name:"App",setup(t){const e=we(null);let n=!1;const r=we(null),i=we(null),s=we(null),o=we(null),a=we(null),l=we(null),u=we(null),d=we(!1),f=we(!1),p=we(1.5),m=we(24),b=we("0.7.1");qw(()=>{const x=lx();GI(x,async()=>{n||(n=!0,e.value=x,await Rs(),e.value.currentUser!==null&&(o.value.loadDecks(),I()))})});async function y(){const x=await $s(ft(ui,`users/${e.value.currentUser.uid}`));p.value=x.data().time_multiplier,m.value=x.data().time_duration}function A(){f.value=!1,e.value.currentUser!==null&&Wt(ft(ui,`users/${e.value.currentUser.uid}`),{seen_changelog_version:b.value})}function I(){e.value.currentUser!==null&&$s(ft(ui,`users/${e.value.currentUser.uid}`)).then(x=>{x.data().seen_changelog_version!==b.value&&(f.value=!0)})}return(x,R)=>(Ae(),De(ln,null,[N("div",dM,[bn(YP,{auth:e.value,onOpenSettings:R[0]||(R[0]=P=>s.value.openSettings()),onOpenSignIn:R[1]||(R[1]=P=>r.value.openMenu()),onOpenSignUp:R[2]||(R[2]=P=>i.value.openMenu()),onSignOut:R[3]||(R[3]=P=>o.value.logout())},null,8,["auth"]),fM,bn(oN,{auth:e.value,db:Ur(ui),onLoadSettings:R[4]||(R[4]=P=>y()),onReview:R[5]||(R[5]=(P,B)=>a.value.reviewCards(P,B)),onLargeReview:R[6]||(R[6]=(P,B)=>l.value.reviewCards(P,B)),ref_key:"decks_ref",ref:o},null,8,["auth","db"])]),bn(NP,{auth:e.value,onLoadDecks:R[7]||(R[7]=P=>{o.value.loadDecks(),I()}),ref_key:"sign_in_menu_ref",ref:r},null,8,["auth"]),bn(qP,{auth:e.value,db:Ur(ui),onLoadDecks:R[8]||(R[8]=P=>{o.value.loadDecks(),I()}),ref_key:"sign_up_menu_ref",ref:i},null,8,["auth","db"]),bn(LN,{auth:e.value,db:Ur(ui),"time-duration":m.value,"time-multiplier":p.value,onReselectDeck:R[9]||(R[9]=P=>o.value.reselectDeck()),ref_key:"review_ref",ref:a},null,8,["auth","db","time-duration","time-multiplier"]),bn(X5,{auth:e.value,db:Ur(ui),"time-duration":m.value,"time-multiplier":p.value,onReselectDeck:R[10]||(R[10]=P=>o.value.reselectDeck()),ref_key:"large_review_ref",ref:l},null,8,["auth","db","time-duration","time-multiplier"]),bn(cD,{auth:e.value,db:Ur(ui),onSaveSettings:R[11]||(R[11]=P=>y()),onOpenMigrate:R[12]||(R[12]=P=>u.value.openMigrate()),ref_key:"settings_ref",ref:s},null,8,["auth","db"]),N("div",null,[N("button",{onClick:R[13]||(R[13]=P=>d.value=!0),class:"absolute right-5 top-5 rounded-md bg-gray-500 p-2 shadow shadow-black"}," Guide "),d.value?(Ae(),Br(EP,{key:0,"app-version":b.value,onClose:R[14]||(R[14]=P=>d.value=!1),onShowChangelog:R[15]||(R[15]=P=>f.value=!0)},null,8,["app-version"])):xt("",!0)]),f.value?(Ae(),Br(tM,{key:0,onClose:R[16]||(R[16]=P=>A())})):xt("",!0),bn(hM,{auth:e.value,db:Ur(ui),onLoadDecks:R[17]||(R[17]=P=>o.value.loadDecks()),ref_key:"deck_migrate_ref",ref:u},null,8,["auth","db"])],64))}};var mM="firebase",gM="10.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */qi(mM,gM,"app");const _M={apiKey:"AIzaSyAGYqERiL1fj0l2m1ZmlkHFd5Vq8OiMubw",authDomain:"spare-a6401.firebaseapp.com",projectId:"spare-a6401",storageBucket:"spare-a6401.appspot.com",messagingSenderId:"277807224978",appId:"1:277807224978:web:6420ae19b4ca94e41c6e4b"},wM=pv(_M),ui=JR(wM);mT(pM).mount("#app");
